<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Reactè¯¦è§£-Hooks &amp; æ€§èƒ½ä¼˜åŒ–</title>
      <link href="/2025/05/27/qian-duan/react-xiang-jie-hooks/"/>
      <url>/2025/05/27/qian-duan/react-xiang-jie-hooks/</url>
      
        <content type="html"><![CDATA[<h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><h3 id="ä½¿ç”¨è§„åˆ™"><a href="#ä½¿ç”¨è§„åˆ™" class="headerlink" title="ä½¿ç”¨è§„åˆ™"></a>ä½¿ç”¨è§„åˆ™</h3><ul><li><strong>åªèƒ½åœ¨å‡½æ•°ç»„ä»¶æˆ–è‡ªå®šä¹‰ Hook çš„é¡¶å±‚è°ƒç”¨</strong><br> ä¸èƒ½åœ¨æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ï¼Œç¡®ä¿ Hook è°ƒç”¨é¡ºåºä¸€è‡´ã€‚</li><li><strong>è‡ªå®šä¹‰ Hook å‘½åå¿…é¡»ä»¥ <code>use</code> å¼€å¤´</strong><br> ä¾‹å¦‚ <code>useState</code>ã€<code>useFetch</code> ç­‰ï¼Œæ–¹ä¾¿åŒºåˆ†æ™®é€šå‡½æ•°å’Œ Hookã€‚</li></ul><h3 id="å¸¸ç”¨çš„-React-Hooks"><a href="#å¸¸ç”¨çš„-React-Hooks" class="headerlink" title="å¸¸ç”¨çš„ React Hooks"></a>å¸¸ç”¨çš„ React Hooks</h3><p>React æä¾›äº†å¤šç§å†…ç½®çš„ Hooksï¼Œå¸¸ç”¨çš„åŒ…æ‹¬ï¼š</p><ul><li><code>useState</code>ï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ã€‚</li><li><code>useEffect</code>ï¼šç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼Œå¦‚æ•°æ®è·å–ã€è®¢é˜…æˆ–æ‰‹åŠ¨ DOM æ“ä½œã€‚</li><li><code>useContext</code>ï¼šç”¨äºåœ¨ç»„ä»¶ä¸­è®¢é˜… React ä¸Šä¸‹æ–‡ã€‚</li><li><code>useReducer</code>ï¼šç”¨äºä»¥ reducer çš„æ–¹å¼ç®¡ç†å¤æ‚çš„çŠ¶æ€é€»è¾‘ã€‚</li><li><code>useRef</code>ï¼šç”¨äºè®¿é—® DOM èŠ‚ç‚¹æˆ–ä¿å­˜å¯å˜å€¼ã€‚</li><li><code>useMemo</code>ï¼šç”¨äºç¼“å­˜è®¡ç®—ç»“æœï¼Œä¼˜åŒ–æ€§èƒ½ã€‚</li><li><code>useCallback</code>ï¼šç”¨äºç¼“å­˜å‡½æ•°å®ä¾‹ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚</li></ul><h4 id="useState-ä¸-useEffect-ä½œç”¨"><a href="#useState-ä¸-useEffect-ä½œç”¨" class="headerlink" title="useState ä¸ useEffect ä½œç”¨"></a><code>useState</code> ä¸ <code>useEffect</code> ä½œç”¨</h4><p><strong><code>useState</code></strong><br> ç”¨æ¥ç®¡ç†ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œè¿”å›å½“å‰çŠ¶æ€å’Œæ›´æ–°çŠ¶æ€çš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br></pre></td></tr></tbody></table></figure><p><code>count</code> æ˜¯å½“å‰çŠ¶æ€å€¼ï¼Œ<code>setCount</code> æ˜¯æ›´æ–°å‡½æ•°ã€‚</p><p><strong><code>useEffect</code></strong><br> ç”¨äºå¤„ç†å‰¯ä½œç”¨ï¼Œæ¯”å¦‚æ•°æ®è¯·æ±‚ã€DOM æ“ä½œã€è®¢é˜…ç­‰ã€‚<br> å¯ä»¥æ¨¡æ‹Ÿç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="comment">// ç›¸å½“äº componentDidMount å’Œ componentDidUpdate</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="comment">// ç›¸å½“äº componentWillUnmount</span></span><br><span class="line">  };</span><br><span class="line">}, [dependencies]); <span class="comment">// ä¾èµ–é¡¹æ•°ç»„ï¼Œæ§åˆ¶å‰¯ä½œç”¨æ‰§è¡Œæ—¶æœº</span></span><br></pre></td></tr></tbody></table></figure><h4 id="useMemo-ä¸-useCallback-åŒºåˆ«"><a href="#useMemo-ä¸-useCallback-åŒºåˆ«" class="headerlink" title="useMemo ä¸ useCallback åŒºåˆ«"></a><code>useMemo</code> ä¸ <code>useCallback</code> åŒºåˆ«</h4><ul><li><p><strong><code>useMemo</code></strong><br> ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…å› æ¯æ¬¡æ¸²æŸ“å¯¼è‡´çš„é‡å¤è®¡ç®—ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedValue = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> <span class="title function_">computeExpensiveValue</span>(a, b), [a, b]);</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong><code>useCallback</code></strong><br> ç¼“å­˜å‡½æ•°çš„å¼•ç”¨ï¼Œé¿å…å­ç»„ä»¶å› å‡½æ•°å¼•ç”¨å˜åŒ–è€Œé‡å¤æ¸²æŸ“ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = <span class="title function_">useCallback</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="title function_">doSomething</span>(a, b);</span><br><span class="line">}, [a, b]);</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="æ€§èƒ½ä¼˜åŒ–"><a href="#æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–"></a>æ€§èƒ½ä¼˜åŒ–</h2><h3 id="ä¸€ã€å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“"><a href="#ä¸€ã€å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“" class="headerlink" title="ä¸€ã€å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“"></a>ä¸€ã€å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“</h3><p>React ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ä¼šå¸¦æ¥æ€§èƒ½å¼€é”€ï¼Œé¿å…æ— è°“çš„é‡æ¸²æŸ“æ˜¯ä¼˜åŒ–çš„å…³é”®ã€‚å¸¸ç”¨æ–¹æ³•æœ‰ï¼š</p><h4 id="1-ä½¿ç”¨-React-memo-ç¼“å­˜ç»„ä»¶"><a href="#1-ä½¿ç”¨-React-memo-ç¼“å­˜ç»„ä»¶" class="headerlink" title="1. ä½¿ç”¨ React.memo ç¼“å­˜ç»„ä»¶"></a>1. ä½¿ç”¨ <code>React.memo</code> ç¼“å­˜ç»„ä»¶</h4><ul><li><p><code>React.memo</code> æ˜¯é«˜é˜¶ç»„ä»¶ï¼Œç±»ä¼¼äºç±»ç»„ä»¶çš„ <code>PureComponent</code>ï¼Œå¯¹å‡½æ•°ç»„ä»¶è¿›è¡Œæµ…å±‚ props æ¯”è¾ƒï¼Œåªæœ‰ props å˜åŒ–æ‰é‡æ–°æ¸²æŸ“ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">MyComponent</span> = <span class="title class_">React</span>.<span class="title function_">memo</span>(<span class="function">(<span class="params">{ value }</span>) =&gt;</span> {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'render'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>{value}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure></li><li><p>é€‚åˆä¼ å…¥ç®€å•æ•°æ®çš„ç»„ä»¶ï¼Œå¤æ‚å¯¹è±¡éœ€è¦æ³¨æ„æµ…æ¯”è¾ƒçš„å±€é™ã€‚</p></li></ul><h4 id="2-ä½¿ç”¨-useCallback-ç¼“å­˜å‡½æ•°å¼•ç”¨"><a href="#2-ä½¿ç”¨-useCallback-ç¼“å­˜å‡½æ•°å¼•ç”¨" class="headerlink" title="2. ä½¿ç”¨ useCallback ç¼“å­˜å‡½æ•°å¼•ç”¨"></a>2. ä½¿ç”¨ <code>useCallback</code> ç¼“å­˜å‡½æ•°å¼•ç”¨</h4><ul><li><p>é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°çš„å‡½æ•°ï¼Œå¯¼è‡´å­ç»„ä»¶å›  props å˜åŒ–é‡æ–°æ¸²æŸ“ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Parent</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> handleClick = <span class="title function_">useCallback</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="title function_">setCount</span>(<span class="function"><span class="params">c</span> =&gt;</span> c + <span class="number">1</span>);</span><br><span class="line">  }, []);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">onClick</span>=<span class="string">{handleClick}</span> /&gt;</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>è¿™æ · <code>Child</code> ç»„ä»¶ä¸ä¼šå› ä¸ºæ¯æ¬¡æ¸²æŸ“éƒ½æ‹¿åˆ°æ–°çš„å‡½æ•°å¼•ç”¨è€Œé‡å¤æ¸²æŸ“ã€‚</p></li></ul><h4 id="3-ä½¿ç”¨-useMemo-ç¼“å­˜è®¡ç®—ç»“æœ"><a href="#3-ä½¿ç”¨-useMemo-ç¼“å­˜è®¡ç®—ç»“æœ" class="headerlink" title="3. ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ"></a>3. ä½¿ç”¨ <code>useMemo</code> ç¼“å­˜è®¡ç®—ç»“æœ</h4><ul><li><p>é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œå¤æ‚è®¡ç®—ï¼Œå¯¼è‡´å­ç»„ä»¶å› ä¼ å…¥æ–°å¯¹è±¡æˆ–æ–°æ•°æ®è€Œé‡æ–°æ¸²æŸ“ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> expensiveResult = <span class="title function_">useMemo</span>(<span class="function">() =&gt;</span> <span class="title function_">computeExpensive</span>(data), [data]);</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="4-æ‹†åˆ†ç»„ä»¶"><a href="#4-æ‹†åˆ†ç»„ä»¶" class="headerlink" title="4. æ‹†åˆ†ç»„ä»¶"></a>4. æ‹†åˆ†ç»„ä»¶</h4><ul><li>å°†å¤§ç»„ä»¶æ‹†æˆå¤šä¸ªå°ç»„ä»¶ï¼Œå‡å°‘çŠ¶æ€å˜åŒ–æ—¶æ¸²æŸ“èŒƒå›´ã€‚</li></ul><hr><h3 id="äºŒã€React-lazy-ä¸-Suspense-çš„ä½œç”¨"><a href="#äºŒã€React-lazy-ä¸-Suspense-çš„ä½œç”¨" class="headerlink" title="äºŒã€React.lazy ä¸ Suspense çš„ä½œç”¨"></a>äºŒã€React.lazy ä¸ Suspense çš„ä½œç”¨</h3><h4 id="1-React-lazy"><a href="#1-React-lazy" class="headerlink" title="1. React.lazy"></a>1. <code>React.lazy</code></h4><ul><li><p>ç”¨äºå®ç°ç»„ä»¶çš„<strong>åŠ¨æ€æŒ‰éœ€åŠ è½½</strong>ï¼ˆä»£ç åˆ†å‰²ï¼‰ï¼Œå‡å°é¦–å±åŠ è½½ä½“ç§¯ã€‚</p></li><li><p>åªæœ‰å½“ç»„ä»¶çœŸæ­£éœ€è¦æ¸²æŸ“æ—¶æ‰å»åŠ è½½å¯¹åº”çš„ JS ä»£ç ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { lazy, <span class="title class_">Suspense</span> } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">LazyComponent</span> = <span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">'./LazyComponent'</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">{</span>&lt;<span class="attr">div</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>}&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">LazyComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="2-Suspense"><a href="#2-Suspense" class="headerlink" title="2. Suspense"></a>2. <code>Suspense</code></h4><ul><li>ç”¨äºåŒ…è£¹ <code>React.lazy</code> å¼‚æ­¥åŠ è½½çš„ç»„ä»¶ï¼ŒæŒ‡å®šåŠ è½½ä¸­çš„å ä½ UIï¼ˆå¦‚åŠ è½½åŠ¨ç”»æˆ–æç¤ºæ–‡å­—ï¼‰ã€‚</li><li>å½“å¼‚æ­¥ç»„ä»¶æœªåŠ è½½å®Œæˆæ—¶ï¼Œä¼šå±•ç¤º <code>fallback</code> æŒ‡å®šçš„å†…å®¹ã€‚</li></ul><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { <span class="title class_">Suspense</span>, lazy, useState } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ React.lazy åŠ¨æ€å¯¼å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">LazyComponent</span> = <span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">'./LazyComponent'</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> [show, setShow] = <span class="title function_">useState</span>(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{()</span> =&gt;</span> setShow(true)}&gt;æ˜¾ç¤ºæ‡’åŠ è½½ç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      {/* Suspense åŒ…è£¹æ‡’åŠ è½½ç»„ä»¶ï¼Œfallback æ˜¾ç¤ºåŠ è½½æ—¶å†…å®¹ */}</span></span><br><span class="line"><span class="language-xml">      {show &amp;&amp; (</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">{</span>&lt;<span class="attr">div</span>&gt;</span>åŠ è½½ä¸­ï¼Œè¯·ç¨å€™...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>}&gt;</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">LazyComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      )}</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><code>React.lazy</code> + <code>Suspense</code> å¯ä»¥æœ‰æ•ˆå®ç°æŒ‰éœ€åŠ è½½ï¼Œæå‡åº”ç”¨æ€§èƒ½ï¼Œå°¤å…¶é€‚åˆå¤§å‹åº”ç”¨å’Œè·¯ç”±æ‡’åŠ è½½ã€‚</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ReactåŸç†-ç»„ä»¶&amp;Context</title>
      <link href="/2025/05/27/qian-duan/react-yuan-li-lei/"/>
      <url>/2025/05/27/qian-duan/react-yuan-li-lei/</url>
      
        <content type="html"><![CDATA[<h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶ä¸ç±»ç»„ä»¶</h2><table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>å‡½æ•°ç»„ä»¶</th><th>ç±»ç»„ä»¶</th></tr></thead><tbody><tr><td>å†™æ³•</td><td>ç®€æ´</td><td>å†—é•¿ï¼ˆéœ€è¦æ„é€ å‡½æ•°ã€this ç»‘å®šç­‰ï¼‰</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td><code>useState</code></td><td><code>this.state</code> å’Œ <code>this.setState</code></td></tr><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td><code>useEffect</code> ç­‰ Hook</td><td>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¦‚ <code>componentDidMount</code></td></tr><tr><td><code>this</code> ä½¿ç”¨</td><td>ä¸ä½¿ç”¨</td><td>å¿…é¡»ç»‘å®š</td></tr><tr><td>ä»£ç å¤ç”¨</td><td>è‡ªå®šä¹‰ Hook ç®€å•çµæ´»</td><td>é«˜é˜¶ç»„ä»¶å’Œ render props è¾ƒç¹ç</td></tr><tr><td>æ¨èç¨‹åº¦</td><td>âœ… æ¨èç”¨äºæ–°é¡¹ç›®</td><td>âš ï¸ æ”¯æŒï¼Œä½†ä¸æ¨èæ–°å¼€å‘ä½¿ç”¨</td></tr></tbody></table><h3 id="å‡½æ•°ç»„ä»¶"><a href="#å‡½æ•°ç»„ä»¶" class="headerlink" title="å‡½æ•°ç»„ä»¶"></a>å‡½æ•°ç»„ä»¶</h3><p>åœ¨ React å‡½æ•°ç»„ä»¶ä¸­ï¼Œå¹¶æ²¡æœ‰ç±»ç»„ä»¶é‚£æ ·çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚ <code>componentDidMount</code>ã€<code>componentDidUpdate</code>ã€<code>componentWillUnmount</code>ï¼‰ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>Hooksï¼ˆä¸»è¦æ˜¯ <code>useEffect</code>ï¼‰</strong> æ¥æ¨¡æ‹Ÿè¿™äº›ç”Ÿå‘½å‘¨æœŸè¡Œä¸ºã€‚</p><hr><h4 id="ğŸ§ -ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ-ä¸-å‡½æ•°ç»„ä»¶-Hook-çš„å¯¹ç…§è¡¨"><a href="#ğŸ§ -ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ-ä¸-å‡½æ•°ç»„ä»¶-Hook-çš„å¯¹ç…§è¡¨" class="headerlink" title="ğŸ§  ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ ä¸ å‡½æ•°ç»„ä»¶ Hook çš„å¯¹ç…§è¡¨"></a>ğŸ§  ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ ä¸ å‡½æ•°ç»„ä»¶ Hook çš„å¯¹ç…§è¡¨</h4><table><thead><tr><th>ç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</th><th>å‡½æ•°ç»„ä»¶ä¸­çš„å†™æ³•ï¼ˆHookï¼‰</th></tr></thead><tbody><tr><td><code>componentDidMount</code></td><td><code>useEffect(() =&gt; { ... }, [])</code></td></tr><tr><td><code>componentDidUpdate</code></td><td><code>useEffect(() =&gt; { ... }, [ä¾èµ–é¡¹])</code></td></tr><tr><td><code>componentWillUnmount</code></td><td><code>useEffect(() =&gt; { return () =&gt; { ... }; }, [])</code></td></tr><tr><td>æ‰€æœ‰æ›´æ–°åè§¦å‘ï¼ˆç±»ä¼¼ render åï¼‰</td><td><code>useEffect(() =&gt; { ... })</code>ï¼ˆæ— ç¬¬äºŒå‚æ•°ï¼‰</td></tr></tbody></table><h4 id="ğŸ¯-æ€»ç»“"><a href="#ğŸ¯-æ€»ç»“" class="headerlink" title="ğŸ¯ æ€»ç»“"></a>ğŸ¯ æ€»ç»“</h4><table><thead><tr><th>ç›®çš„</th><th>useEffect å†™æ³•</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡</td><td><code>useEffect(() =&gt; { ... }, [])</code></td></tr><tr><td>æŸå€¼å˜åŒ–æ—¶æ‰§è¡Œ</td><td><code>useEffect(() =&gt; { ... }, [ä¾èµ–é¡¹])</code></td></tr><tr><td>å¸è½½å‰æ‰§è¡Œæ¸…ç†å‡½æ•°</td><td><code>useEffect(() =&gt; { return () =&gt; { ... } }, [])</code></td></tr><tr><td>æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œ</td><td><code>useEffect(() =&gt; { ... })</code></td></tr></tbody></table><hr><h4 id="âœ…-ç¤ºä¾‹ï¼šå¦‚ä½•ç”¨-useEffect-æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"><a href="#âœ…-ç¤ºä¾‹ï¼šå¦‚ä½•ç”¨-useEffect-æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="âœ… ç¤ºä¾‹ï¼šå¦‚ä½•ç”¨ useEffect æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"></a>âœ… ç¤ºä¾‹ï¼šå¦‚ä½•ç”¨ <code>useEffect</code> æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ</h4><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { useEffect, useState } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">LifeCycleDemo</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// âœ… æ¨¡æ‹Ÿ componentDidMount</span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'ç»„ä»¶æŒ‚è½½å®Œæˆ'</span>);</span><br><span class="line">  }, []);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// âœ… æ¨¡æ‹Ÿ componentDidUpdateï¼ˆç›‘å¬ countï¼‰</span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'count æ›´æ–°ä¸ºï¼š'</span>, count);</span><br><span class="line">  }, [count]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// âœ… æ¨¡æ‹Ÿ componentWillUnmount</span></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'ç»„ä»¶å³å°†å¸è½½'</span>);</span><br><span class="line">    };</span><br><span class="line">  }, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è®¡æ•°ï¼š{count}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h4 id="ğŸ“Œ-å¤šä¸ª-useEffect-å¯ä»¥ç»„åˆä½¿ç”¨"><a href="#ğŸ“Œ-å¤šä¸ª-useEffect-å¯ä»¥ç»„åˆä½¿ç”¨" class="headerlink" title="ğŸ“Œ å¤šä¸ª useEffect å¯ä»¥ç»„åˆä½¿ç”¨"></a>ğŸ“Œ å¤šä¸ª useEffect å¯ä»¥ç»„åˆä½¿ç”¨</h4><p>React æ”¯æŒä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª <code>useEffect</code> æ¥åˆ†åˆ«å¤„ç†ä¸åŒçš„é€»è¾‘ï¼Œè¿™æ¯”ç±»ç»„ä»¶ä¸­å°†æ‰€æœ‰é€»è¾‘å†™åœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œæ›´æ¸…æ™°ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="comment">// å¤„ç†è®¡æ—¶å™¨</span></span><br><span class="line">}, []);</span><br><span class="line"></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="comment">// ç›‘å¬çª—å£å¤§å°å˜åŒ–</span></span><br><span class="line">}, []);</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="åˆ†åˆ«å®ç°ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨"><a href="#åˆ†åˆ«å®ç°ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨" class="headerlink" title="åˆ†åˆ«å®ç°ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨"></a>åˆ†åˆ«å®ç°ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨</h3><p>âœ… ä¸€ã€å‡½æ•°ç»„ä»¶ç‰ˆï¼ˆä½¿ç”¨ Hookï¼‰</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { useState } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CounterFunction</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å‡½æ•°ç»„ä»¶è®¡æ•°å™¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å½“å‰è®¡æ•°ï¼š{count}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{()</span> =&gt;</span> setCount(count + 1)}&gt;å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{()</span> =&gt;</span> setCount(count - 1)}&gt;å‡å°‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{()</span> =&gt;</span> setCount(0)}&gt;é‡ç½®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">CounterFunction</span>;</span><br></pre></td></tr></tbody></table></figure><p>âœ… äºŒã€ç±»ç»„ä»¶ç‰ˆ</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { <span class="title class_">Component</span> } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CounterClass</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> {</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) {</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = {</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">    };</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  handleIncrement = <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>({ <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span> });</span><br><span class="line">  };</span><br><span class="line"></span><br><span class="line">  handleDecrement = <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>({ <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> - <span class="number">1</span> });</span><br><span class="line">  };</span><br><span class="line"></span><br><span class="line">  handleReset = <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>({ <span class="attr">count</span>: <span class="number">0</span> });</span><br><span class="line">  };</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç±»ç»„ä»¶è®¡æ•°å™¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å½“å‰è®¡æ•°ï¼š{this.state.count}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{this.handleIncrement}</span>&gt;</span>å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{this.handleDecrement}</span>&gt;</span>å‡å°‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">{this.handleReset}</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">CounterClass</span>;</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="å¦‚ä½•å®ç°ç»„ä»¶çš„æ¸…ç†"><a href="#å¦‚ä½•å®ç°ç»„ä»¶çš„æ¸…ç†" class="headerlink" title="å¦‚ä½•å®ç°ç»„ä»¶çš„æ¸…ç†"></a>å¦‚ä½•å®ç°ç»„ä»¶çš„æ¸…ç†</h2><p>ç»„ä»¶æ¸…ç†æ˜¯æŒ‡åœ¨ç»„ä»¶å¸è½½æˆ–å‰¯ä½œç”¨æ›´æ–°ä¹‹å‰ï¼Œ<strong>å–æ¶ˆå®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ã€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…ç­‰æ“ä½œ</strong>ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œä¸å¿…è¦çš„å‰¯ä½œç”¨ã€‚</p><hr><h3 id="âœ…-ä¸€ã€å‡½æ•°ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨-useEffectï¼‰"><a href="#âœ…-ä¸€ã€å‡½æ•°ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨-useEffectï¼‰" class="headerlink" title="âœ… ä¸€ã€å‡½æ•°ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨ useEffectï¼‰"></a>âœ… ä¸€ã€å‡½æ•°ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨ <code>useEffect</code>ï¼‰</h3><p>é€šè¿‡åœ¨ <code>useEffect</code> ä¸­è¿”å›ä¸€ä¸ªæ¸…ç†å‡½æ•°æ¥å®Œæˆï¼š</p><h4 id="ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†å®šæ—¶å™¨"><a href="#ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†å®šæ—¶å™¨" class="headerlink" title="ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†å®šæ—¶å™¨"></a>ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†å®šæ—¶å™¨</h4><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'è¿è¡Œä¸­...'</span>);</span><br><span class="line">  }, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="built_in">clearInterval</span>(timer); <span class="comment">// æ¸…ç†</span></span><br><span class="line">}, []);</span><br></pre></td></tr></tbody></table></figure><h4 id="ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨"><a href="#ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨" class="headerlink" title="ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨"></a>ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†äº‹ä»¶ç›‘å¬å™¨</h4><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleResize</span> = (<span class="params"></span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">innerWidth</span>);</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">'resize'</span>, handleResize);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">'resize'</span>, handleResize);</span><br><span class="line">}, []);</span><br></pre></td></tr></tbody></table></figure><h4 id="ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†ç½‘ç»œè¯·æ±‚ï¼ˆæ¨èä½¿ç”¨-AbortControllerï¼‰"><a href="#ğŸ“Œ-ç¤ºä¾‹ï¼šæ¸…ç†ç½‘ç»œè¯·æ±‚ï¼ˆæ¨èä½¿ç”¨-AbortControllerï¼‰" class="headerlink" title="ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†ç½‘ç»œè¯·æ±‚ï¼ˆæ¨èä½¿ç”¨ AbortControllerï¼‰"></a>ğŸ“Œ ç¤ºä¾‹ï¼šæ¸…ç†ç½‘ç»œè¯·æ±‚ï¼ˆæ¨èä½¿ç”¨ AbortControllerï¼‰</h4><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="keyword">const</span> controller = <span class="keyword">new</span> <span class="title class_">AbortController</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">fetch</span>(<span class="string">'https://api.example.com/data'</span>, { <span class="attr">signal</span>: controller.<span class="property">signal</span> })</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>())</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(data))</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">      <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">'AbortError'</span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'è¯·æ±‚å·²å–æ¶ˆ'</span>);</span><br><span class="line">      }</span><br><span class="line">    });</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> controller.<span class="title function_">abort</span>(); <span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br><span class="line">}, []);</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="âœ…-äºŒã€ç±»ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨-componentWillUnmountï¼‰"><a href="#âœ…-äºŒã€ç±»ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨-componentWillUnmountï¼‰" class="headerlink" title="âœ… äºŒã€ç±»ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨ componentWillUnmountï¼‰"></a>âœ… äºŒã€ç±»ç»„ä»¶ä¸­çš„æ¸…ç†ï¼ˆä½¿ç”¨ <code>componentWillUnmount</code>ï¼‰</h3><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> {</span><br><span class="line">  <span class="title function_">componentDidMount</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'è®¡æ—¶...'</span>);</span><br><span class="line">    }, <span class="number">1000</span>);</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="title function_">componentWillUnmount</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>); <span class="comment">// æ¸…ç†å®šæ—¶å™¨</span></span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>ç±»ç»„ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="âœ…-ä¸‰ã€å¸¸è§éœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨ç±»å‹"><a href="#âœ…-ä¸‰ã€å¸¸è§éœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨ç±»å‹" class="headerlink" title="âœ… ä¸‰ã€å¸¸è§éœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨ç±»å‹"></a>âœ… ä¸‰ã€å¸¸è§éœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨ç±»å‹</h3><table><thead><tr><th>å‰¯ä½œç”¨ç±»å‹</th><th>æ¸…ç†æ–¹æ³•</th></tr></thead><tbody><tr><td>å®šæ—¶å™¨</td><td><code>clearInterval / clearTimeout</code></td></tr><tr><td>DOM äº‹ä»¶ç›‘å¬å™¨</td><td><code>removeEventListener</code></td></tr><tr><td>WebSocket / Channel</td><td><code>.close()</code></td></tr><tr><td>è‡ªå®šä¹‰è®¢é˜…ï¼ˆå¦‚ RxJSï¼‰</td><td><code>.unsubscribe()</code></td></tr><tr><td>å¼‚æ­¥è¯·æ±‚</td><td><code>AbortController.abort()</code></td></tr></tbody></table><hr><h3 id="âš ï¸-ä¸ºä»€ä¹ˆå¿…é¡»æ¸…ç†å‰¯ä½œç”¨ï¼Ÿ"><a href="#âš ï¸-ä¸ºä»€ä¹ˆå¿…é¡»æ¸…ç†å‰¯ä½œç”¨ï¼Ÿ" class="headerlink" title="âš ï¸ ä¸ºä»€ä¹ˆå¿…é¡»æ¸…ç†å‰¯ä½œç”¨ï¼Ÿ"></a>âš ï¸ ä¸ºä»€ä¹ˆå¿…é¡»æ¸…ç†å‰¯ä½œç”¨ï¼Ÿ</h3><ul><li>ğŸ§  é¿å…å†…å­˜æ³„æ¼ï¼›</li><li>â›” é¿å…å¸è½½åä»å°è¯•æ›´æ–°ç»„ä»¶ï¼›</li><li>ğŸ” é˜²æ­¢é‡å¤ç»‘å®šæˆ–é‡å¤æ‰§è¡Œï¼›</li><li>ğŸ›  æé«˜æ€§èƒ½ï¼Œé¿å…æ½œåœ¨ bugã€‚</li></ul><hr><h2 id="Context-API"><a href="#Context-API" class="headerlink" title="Context API"></a>Context API</h2><p>Context API æ˜¯ React æä¾›çš„ç”¨æ¥å®ç°<strong>è·¨å±‚çº§ç»„ä»¶å…±äº«çŠ¶æ€</strong>çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦ç›®çš„æ˜¯é¿å…åœ¨ç»„ä»¶å±‚å±‚åµŒå¥—æ—¶ï¼Œé€šè¿‡ä¸€å±‚å±‚ props ä¼ é€’æ•°æ®ï¼Œéå¸¸é€‚åˆå…¨å±€æˆ–è€…åŠå…¨å±€çŠ¶æ€çš„ç®¡ç†ã€‚</p><h3 id="Context-API-çš„ä½¿ç”¨åœºæ™¯å’Œè¯¦ç»†è§£é‡Š"><a href="#Context-API-çš„ä½¿ç”¨åœºæ™¯å’Œè¯¦ç»†è§£é‡Š" class="headerlink" title="Context API çš„ä½¿ç”¨åœºæ™¯å’Œè¯¦ç»†è§£é‡Š"></a>Context API çš„ä½¿ç”¨åœºæ™¯å’Œè¯¦ç»†è§£é‡Š</h3><h4 id="1-ä¼ ç»Ÿçš„-props-ä¼ é€’ç—›ç‚¹"><a href="#1-ä¼ ç»Ÿçš„-props-ä¼ é€’ç—›ç‚¹" class="headerlink" title="1. ä¼ ç»Ÿçš„ props ä¼ é€’ç—›ç‚¹"></a>1. ä¼ ç»Ÿçš„ props ä¼ é€’ç—›ç‚¹</h4><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªç»„ä»¶æ ‘ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;App&gt;</span><br><span class="line">  &lt;Header&gt;</span><br><span class="line">    &lt;UserMenu&gt;</span><br><span class="line">      &lt;UserProfile /&gt;</span><br><span class="line">    &lt;/UserMenu&gt;</span><br><span class="line">  &lt;/Header&gt;</span><br><span class="line">&lt;/App&gt;</span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœ <code>UserProfile</code> éœ€è¦æ˜¾ç¤ºå½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åã€å¤´åƒï¼‰ï¼Œä¼ ç»Ÿåšæ³•æ˜¯ï¼š</p><ul><li>å…ˆåœ¨ <code>App</code> ç»„ä»¶æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯ï¼ˆæ¯”å¦‚ä» API æˆ– Reduxï¼‰</li><li>é€šè¿‡ props ä¸€å±‚å±‚ä¼ é€’ç»™ <code>Header</code>ï¼Œå†ä¼ ç»™ <code>UserMenu</code>ï¼Œå†ä¼ ç»™ <code>UserProfile</code></li></ul><p><strong>é—®é¢˜</strong>ï¼š</p><ul><li>å½“å±‚çº§å¾ˆæ·±æ—¶ï¼Œprops ä¼ é€’éå¸¸ç¹çä¸”è‡ƒè‚¿ï¼ˆâ€œprops drillingâ€ï¼Œprops é’»å–é—®é¢˜ï¼‰</li><li>ä¸­é—´ç»„ä»¶åªæ˜¯ä¼ é€’æ•°æ®ï¼Œå¹¶ä¸çœŸæ­£ç”¨åˆ°è¿™äº›æ•°æ®ï¼Œå¯¼è‡´ä»£ç å†—ä½™ä¸”ä¸æ˜“ç»´æŠ¤</li></ul><hr><h4 id="2-Context-API-è§£å†³æ–¹æ¡ˆ"><a href="#2-Context-API-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2. Context API è§£å†³æ–¹æ¡ˆ"></a>2. Context API è§£å†³æ–¹æ¡ˆ</h4><p>Context å…è®¸ä½ ï¼š</p><ul><li>åœ¨æŸä¸ªé¡¶å±‚ç»„ä»¶åˆ›å»ºä¸€ä¸ªâ€œä¸Šä¸‹æ–‡â€ï¼ˆContext å¯¹è±¡ï¼‰ï¼Œé‡Œé¢ä¿å­˜å…±äº«çš„æ•°æ®</li><li>åœ¨ä»»æ„æ·±åº¦çš„åä»£ç»„ä»¶ä¸­é€šè¿‡ <code>useContext</code>ï¼ˆå‡½æ•°ç»„ä»¶ï¼‰æˆ–è€… <code>Context.Consumer</code>ï¼ˆç±»ç»„ä»¶ï¼‰ç›´æ¥è·å–æ•°æ®</li><li>è¿™æ ·å°±é¿å…äº†å±‚å±‚ä¼  propsï¼Œç®€åŒ–äº†æ•°æ®æµè½¬</li></ul><hr><h4 id="3-ä½¿ç”¨æµç¨‹"><a href="#3-ä½¿ç”¨æµç¨‹" class="headerlink" title="3. ä½¿ç”¨æµç¨‹"></a>3. ä½¿ç”¨æµç¨‹</h4><h5 id="â‘ -åˆ›å»º-Context"><a href="#â‘ -åˆ›å»º-Context" class="headerlink" title="â‘  åˆ›å»º Context"></a>â‘  åˆ›å»º Context</h5><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">UserContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>(<span class="literal">null</span>);</span><br></pre></td></tr></tbody></table></figure><h5 id="â‘¡-åœ¨é¡¶å±‚æä¾›æ•°æ®ï¼ˆProviderï¼‰"><a href="#â‘¡-åœ¨é¡¶å±‚æä¾›æ•°æ®ï¼ˆProviderï¼‰" class="headerlink" title="â‘¡ åœ¨é¡¶å±‚æä¾›æ•°æ®ï¼ˆProviderï¼‰"></a>â‘¡ åœ¨é¡¶å±‚æä¾›æ•°æ®ï¼ˆProviderï¼‰</h5><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> user = { <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">avatar</span>: <span class="string">'alice.png'</span> };</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">UserContext.Provider</span> <span class="attr">value</span>=<span class="string">{user}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Header</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">UserContext.Provider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h5 id="â‘¢-åœ¨ä»»æ„æ·±å±‚å­ç»„ä»¶ä½¿ç”¨æ•°æ®"><a href="#â‘¢-åœ¨ä»»æ„æ·±å±‚å­ç»„ä»¶ä½¿ç”¨æ•°æ®" class="headerlink" title="â‘¢ åœ¨ä»»æ„æ·±å±‚å­ç»„ä»¶ä½¿ç”¨æ•°æ®"></a>â‘¢ åœ¨ä»»æ„æ·±å±‚å­ç»„ä»¶ä½¿ç”¨æ•°æ®</h5><ul><li>å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ <code>useContext</code>ï¼š</li></ul><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, { useContext } <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">UserProfile</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> user = <span class="title function_">useContext</span>(<span class="title class_">UserContext</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æ¬¢è¿ï¼Œ{user.name}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li>ç±»ç»„ä»¶ä¸­ä½¿ç”¨ <code>UserContext.Consumer</code>ï¼š</li></ul><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">UserContext</span>.<span class="property">Consumer</span>&gt;</span><br><span class="line">  {<span class="function"><span class="params">user</span> =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>æ¬¢è¿ï¼Œ{user.name}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>}</span><br><span class="line">&lt;/<span class="title class_">UserContext</span>.<span class="property">Consumer</span>&gt;</span><br></pre></td></tr></tbody></table></figure><h4 id="4-é€‚ç”¨åœºæ™¯ä¸¾ä¾‹"><a href="#4-é€‚ç”¨åœºæ™¯ä¸¾ä¾‹" class="headerlink" title="4. é€‚ç”¨åœºæ™¯ä¸¾ä¾‹"></a>4. é€‚ç”¨åœºæ™¯ä¸¾ä¾‹</h4><ul><li><strong>ä¸»é¢˜åˆ‡æ¢</strong>ï¼ˆæ·±å±‚ç»„ä»¶éœ€è¦è®¿é—®ä¸»é¢˜è‰²ã€å­—ä½“å¤§å°ç­‰é…ç½®ï¼‰</li><li><strong>ç”¨æˆ·èº«ä»½ä¿¡æ¯</strong>ï¼ˆç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼Œæƒé™æ§åˆ¶ç­‰ï¼‰</li><li><strong>å¤šè¯­è¨€å›½é™…åŒ–</strong>ï¼ˆå½“å‰è¯­è¨€åŒ…ï¼‰</li><li><strong>å…¨å±€é…ç½®é¡¹</strong>ï¼ˆAPI åœ°å€ã€ç•Œé¢é…ç½®ç­‰ï¼‰</li></ul><hr><h4 id="5-æ³¨æ„äº‹é¡¹"><a href="#5-æ³¨æ„äº‹é¡¹" class="headerlink" title="5. æ³¨æ„äº‹é¡¹"></a>5. æ³¨æ„äº‹é¡¹</h4><ul><li>Context é€‚åˆå…±äº«â€œå…¨å±€â€æˆ–â€œè·¨å¤šå±‚â€çŠ¶æ€ï¼Œä¸å»ºè®®ç”¨å®ƒåšé¢‘ç¹å˜æ›´çš„æœ¬åœ°çŠ¶æ€ï¼ˆå¦‚è¡¨å•è¾“å…¥ï¼‰</li><li>Context é‡Œçš„æ•°æ®å˜æ›´ï¼Œä¼šå¯¼è‡´æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæ³¨æ„æ€§èƒ½ä¼˜åŒ–</li><li>ç»“åˆ <code>React.memo</code> å’Œ <code>useMemo</code> å¯ä»¥é™ä½æ— æ•ˆæ¸²æŸ“</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript-åŸå‹å’ŒåŸå‹é“¾</title>
      <link href="/2025/05/27/qian-duan/javascript-yuan-xing-he-yuan-xing-lian/"/>
      <url>/2025/05/27/qian-duan/javascript-yuan-xing-he-yuan-xing-lian/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸå‹ä¸åŸå‹é“¾çš„ç†è§£"><a href="#åŸå‹ä¸åŸå‹é“¾çš„ç†è§£" class="headerlink" title="åŸå‹ä¸åŸå‹é“¾çš„ç†è§£"></a>åŸå‹ä¸åŸå‹é“¾çš„ç†è§£</h2><p><img src="/2025/05/27/qian-duan/javascript-yuan-xing-he-yuan-xing-lian/image-20250527130709416.png" alt="image-20250527130709416"></p><p>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªâ€œéšè—å±æ€§â€æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯å®ƒçš„<strong>åŸå‹</strong>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>__proto__</code> æ¥è®¿é—®å®ƒã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = { <span class="attr">name</span>: <span class="string">'å°æ˜'</span> };</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">__proto__</span>); <span class="comment">// [Object: null prototype] {...}</span></span><br></pre></td></tr></tbody></table></figure><p>è¿™è¡¨ç¤º <code>obj</code> æ˜¯é€šè¿‡ <code>Object</code> æ„é€ å‡½æ•°åˆ›å»ºçš„ï¼Œå®ƒçš„åŸå‹æ˜¯ <code>Object.prototype</code>ã€‚JavaScript åœ¨è®¿é—®å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡æœ¬èº«æ²¡æœ‰ï¼Œå°±ä¼šä»å®ƒçš„åŸå‹ä¸Šæ‰¾ã€‚</p><hr><h3 id="ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ</h3><p>å¯¹è±¡çš„ <code>__proto__</code> å±æ€§ï¼ˆå®é™…æ ‡å‡†ä¸­å« <code>[[Prototype]]</code>ï¼‰ä¼šä¸€ç›´å‘ä¸ŠæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼Œç›´åˆ°æŒ‡å‘ <code>null</code> ä¸ºæ­¢ï¼Œè¿™æ¡å‘ä¸ŠæŸ¥æ‰¾çš„è·¯å¾„å°±å«åš<strong>åŸå‹é“¾</strong>ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>) {}</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Hi'</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p.<span class="title function_">sayHi</span>(); <span class="comment">// Hi</span></span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œçš„æŸ¥æ‰¾è¿‡ç¨‹æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p â†’ p.__proto__ï¼ˆPerson.prototypeï¼‰â†’ Person.prototype.__proto__ï¼ˆObject.prototypeï¼‰â†’ null</span><br></pre></td></tr></tbody></table></figure><p>åªè¦æ‰¾åˆ°ä¸ºæ­¢å°±åœä¸‹æ¥ï¼Œå¦‚æœé“¾æ¡æœ«ç«¯ä¹Ÿæ²¡æœ‰ï¼ˆå³ <code>null</code>ï¼‰ï¼Œå°±è¿”å› <code>undefined</code>ã€‚</p><hr><h3 id="æ„é€ å‡½æ•°ã€prototype-å’Œå®ä¾‹å¯¹è±¡çš„å…³ç³»"><a href="#æ„é€ å‡½æ•°ã€prototype-å’Œå®ä¾‹å¯¹è±¡çš„å…³ç³»" class="headerlink" title="æ„é€ å‡½æ•°ã€prototype å’Œå®ä¾‹å¯¹è±¡çš„å…³ç³»"></a>æ„é€ å‡½æ•°ã€prototype å’Œå®ä¾‹å¯¹è±¡çš„å…³ç³»</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Animal</span>(<span class="params"></span>) {}</span><br><span class="line"><span class="keyword">const</span> dog = <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br></pre></td></tr></tbody></table></figure><p>å®ƒä»¬ä¹‹é—´çš„å…³ç³»å¯ä»¥æ€»ç»“ä¸ºï¼š</p><ul><li><code>dog.__proto__ === Animal.prototype</code></li><li><code>Animal.prototype.constructor === Animal</code></li></ul><p>è¿™æ„å‘³ç€æ„é€ å‡½æ•°é€šè¿‡ <code>.prototype</code> å®šä¹‰äº†å®ä¾‹å¯¹è±¡å…±äº«çš„å±æ€§æˆ–æ–¹æ³•ï¼Œå®ä¾‹å¯¹è±¡é€šè¿‡ <code>__proto__</code> è®¿é—®åˆ°è¿™äº›å†…å®¹ã€‚</p><hr><h3 id="æ€»ç»“ä¸€ä¸‹"><a href="#æ€»ç»“ä¸€ä¸‹" class="headerlink" title="æ€»ç»“ä¸€ä¸‹"></a>æ€»ç»“ä¸€ä¸‹</h3><ul><li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ <code>__proto__</code>ï¼ŒæŒ‡å‘å®ƒçš„åŸå‹å¯¹è±¡ï¼›</li><li>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ <code>prototype</code>ï¼Œåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡çš„ <code>__proto__</code> å°±æ˜¯è¿™ä¸ª <code>prototype</code>ï¼›</li><li>å¯¹è±¡çš„å±æ€§æŸ¥æ‰¾æ˜¯æ²¿ç€åŸå‹é“¾é€çº§æŸ¥æ‰¾çš„ï¼›</li><li>åŸå‹é“¾çš„å°½å¤´æ˜¯ <code>null</code>ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¶è¡Œ&amp;å¹¶å‘&amp;çº¿ç¨‹&amp;è¿›ç¨‹</title>
      <link href="/2025/05/27/ji-suan-ji-wang-luo-ji-chu/bing-xing-bing-fa-xian-cheng-jin-cheng/"/>
      <url>/2025/05/27/ji-suan-ji-wang-luo-ji-chu/bing-xing-bing-fa-xian-cheng-jin-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ§ -ä¸€å¥è¯ç†è§£ï¼š"><a href="#ğŸ§ -ä¸€å¥è¯ç†è§£ï¼š" class="headerlink" title="ğŸ§  ä¸€å¥è¯ç†è§£ï¼š"></a>ğŸ§  ä¸€å¥è¯ç†è§£ï¼š</h2><table><thead><tr><th>æ¦‚å¿µ</th><th>ä¸€å¥è¯è§£é‡Š</th></tr></thead><tbody><tr><td>è¿›ç¨‹</td><td>ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œæ˜¯èµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ã€‚</td></tr><tr><td>çº¿ç¨‹</td><td>è¿›ç¨‹å†…çš„â€œæ‰§è¡Œè·¯çº¿â€ï¼Œæ˜¯æ‰§è¡Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚</td></tr><tr><td>å¹¶å‘</td><td>å¤šä¸ªä»»åŠ¡<strong>ä½ ä¸€ä¼šæˆ‘ä¸€ä¼šåœ°æ‰§è¡Œ</strong>ï¼Œå®è§‚ä¸Šåƒæ˜¯åŒæ—¶è¿è¡Œã€‚</td></tr><tr><td>å¹¶è¡Œ</td><td>å¤šä¸ªä»»åŠ¡<strong>çœŸæ­£åœ¨åŒä¸€æ—¶é—´ç‚¹ä¸€èµ·æ‰§è¡Œ</strong>ï¼Œæ˜¯ç¡¬ä»¶æ”¯æŒçš„ç»“æœã€‚</td></tr></tbody></table><hr><h2 id="ç®€å•çš„æ¯”å–»"><a href="#ç®€å•çš„æ¯”å–»" class="headerlink" title="ç®€å•çš„æ¯”å–»"></a>ç®€å•çš„æ¯”å–»</h2><h3 id="ğŸ‘¨â€ğŸ³-è¿›ç¨‹-å¨æˆ¿"><a href="#ğŸ‘¨â€ğŸ³-è¿›ç¨‹-å¨æˆ¿" class="headerlink" title="ğŸ‘¨â€ğŸ³ è¿›ç¨‹ = å¨æˆ¿"></a>ğŸ‘¨â€ğŸ³ <strong>è¿›ç¨‹ = å¨æˆ¿</strong></h3><p>æ¯ä¸ªå¨æˆ¿æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œé‡Œé¢æœ‰ä¸€å¥—å®Œæ•´çš„å¨å…·ï¼ˆèµ„æºï¼‰ï¼Œèƒ½ç‹¬ç«‹åšé¥­ã€‚</p><h3 id="ğŸ§â€â™‚ï¸-çº¿ç¨‹-å¨å¸ˆ"><a href="#ğŸ§â€â™‚ï¸-çº¿ç¨‹-å¨å¸ˆ" class="headerlink" title="ğŸ§â€â™‚ï¸ çº¿ç¨‹ = å¨å¸ˆ"></a>ğŸ§â€â™‚ï¸ <strong>çº¿ç¨‹ = å¨å¸ˆ</strong></h3><p>ä¸€ä¸ªå¨æˆ¿é‡Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå¨å¸ˆï¼Œæ¯ä¸ªå¨å¸ˆè´Ÿè´£åšä¸€é“èœï¼Œä»–ä»¬å…±äº«å¨æˆ¿èµ„æºï¼ˆé”…ã€åˆ€ï¼‰ã€‚</p><h3 id="ğŸ”-å¹¶å‘-ä¸€ä¸ªå¨å¸ˆåšå¤šé“èœ"><a href="#ğŸ”-å¹¶å‘-ä¸€ä¸ªå¨å¸ˆåšå¤šé“èœ" class="headerlink" title="ğŸ” å¹¶å‘ = ä¸€ä¸ªå¨å¸ˆåšå¤šé“èœ"></a>ğŸ” <strong>å¹¶å‘ = ä¸€ä¸ªå¨å¸ˆåšå¤šé“èœ</strong></h3><p>æ¯”å¦‚ä¸€ä¸ªå¨å¸ˆè¾¹ç‚’èœè¾¹ç…²æ±¤ï¼Œè½®æµå»ç…§çœ‹å®ƒä»¬ã€‚<strong>çœ‹ä¸Šå»ä¸¤é“èœåŒæ—¶åœ¨åšï¼Œå…¶å®æ˜¯è½®æµåš</strong>ã€‚</p><h3 id="ğŸ§‘â€ğŸ³ğŸ§‘â€ğŸ³-å¹¶è¡Œ-å¤šä¸ªå¨å¸ˆåŒæ—¶åšèœ"><a href="#ğŸ§‘â€ğŸ³ğŸ§‘â€ğŸ³-å¹¶è¡Œ-å¤šä¸ªå¨å¸ˆåŒæ—¶åšèœ" class="headerlink" title="ğŸ§‘â€ğŸ³ğŸ§‘â€ğŸ³ å¹¶è¡Œ = å¤šä¸ªå¨å¸ˆåŒæ—¶åšèœ"></a>ğŸ§‘â€ğŸ³ğŸ§‘â€ğŸ³ <strong>å¹¶è¡Œ = å¤šä¸ªå¨å¸ˆåŒæ—¶åšèœ</strong></h3><p>å¤šä¸ªå¨å¸ˆæ¯äººåšä¸€é“èœï¼Œ<strong>çœŸçš„åŒæ—¶åœ¨å¹²æ´»</strong>ã€‚</p><hr><h2 id="ğŸ’»-è®¡ç®—æœºçŸ¥è¯†ï¼"><a href="#ğŸ’»-è®¡ç®—æœºçŸ¥è¯†ï¼" class="headerlink" title="ğŸ’» è®¡ç®—æœºçŸ¥è¯†ï¼"></a>ğŸ’» è®¡ç®—æœºçŸ¥è¯†ï¼</h2><h3 id="âœ…-è¿›ç¨‹ï¼ˆProcessï¼‰"><a href="#âœ…-è¿›ç¨‹ï¼ˆProcessï¼‰" class="headerlink" title="âœ… è¿›ç¨‹ï¼ˆProcessï¼‰"></a>âœ… <strong>è¿›ç¨‹ï¼ˆProcessï¼‰</strong></h3><ul><li>æ¯ä¸ªè¿è¡Œçš„ç¨‹åºå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚</li><li>æ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€å˜é‡ã€æ–‡ä»¶æè¿°ç¬¦ç­‰èµ„æºã€‚</li><li>æ¯”å¦‚ä½ å¼€äº†ä¸¤ä¸ªå¾®ä¿¡ã€ä¸€ä¸ªæµè§ˆå™¨ï¼Œæ˜¯ä¸‰ä¸ªè¿›ç¨‹ã€‚</li></ul><hr><h3 id="âœ…-çº¿ç¨‹ï¼ˆThreadï¼‰"><a href="#âœ…-çº¿ç¨‹ï¼ˆThreadï¼‰" class="headerlink" title="âœ… çº¿ç¨‹ï¼ˆThreadï¼‰"></a>âœ… <strong>çº¿ç¨‹ï¼ˆThreadï¼‰</strong></h3><ul><li>æ˜¯è¿›ç¨‹å†…çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒã€‚</li><li>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹<strong>å…±äº«è¿›ç¨‹çš„èµ„æº</strong>ã€‚</li><li>æ¯”å¦‚æµè§ˆå™¨çš„ä¸»çº¿ç¨‹è´Ÿè´£ UI æ¸²æŸ“ï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½å¤„ç†ç½‘ç»œè¯·æ±‚ã€JS æ‰§è¡Œç­‰ã€‚</li></ul><hr><h3 id="âœ…-å¹¶å‘ï¼ˆConcurrencyï¼‰"><a href="#âœ…-å¹¶å‘ï¼ˆConcurrencyï¼‰" class="headerlink" title="âœ… å¹¶å‘ï¼ˆConcurrencyï¼‰"></a>âœ… <strong>å¹¶å‘ï¼ˆConcurrencyï¼‰</strong></h3><ul><li>â€œåœ¨åŒä¸€æ—¶é—´æ®µå†…äº¤æ›¿æ‰§è¡Œå¤šä¸ªä»»åŠ¡â€ã€‚</li><li>æ¯”å¦‚å•æ ¸ CPUï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿå¿«é€Ÿåˆ‡æ¢çº¿ç¨‹å®ç°å¤šä¸ªä»»åŠ¡ã€‚</li><li><strong>çº¿ç¨‹çœ‹èµ·æ¥ä¸€èµ·è·‘ï¼Œå®é™…ä¸Šæ˜¯è½®æµè·‘ï¼ˆäº¤æ›¿ï¼‰</strong>ã€‚</li></ul><hr><h3 id="âœ…-å¹¶è¡Œï¼ˆParallelismï¼‰"><a href="#âœ…-å¹¶è¡Œï¼ˆParallelismï¼‰" class="headerlink" title="âœ… å¹¶è¡Œï¼ˆParallelismï¼‰"></a>âœ… <strong>å¹¶è¡Œï¼ˆParallelismï¼‰</strong></h3><ul><li>å¤šä¸ªä»»åŠ¡åœ¨<strong>åŒä¸€æ—¶åˆ»çœŸæ­£ä¸€èµ·è¿è¡Œ</strong>ã€‚</li><li>æ¯”å¦‚å¤šæ ¸ CPUï¼Œæ¯ä¸ªæ ¸éƒ½è·‘ä¸€ä¸ªçº¿ç¨‹ã€‚</li></ul><hr><h2 id="ğŸ§ª-ä¸€ä¸ªå¸¸è§è¯¯åŒºï¼š"><a href="#ğŸ§ª-ä¸€ä¸ªå¸¸è§è¯¯åŒºï¼š" class="headerlink" title="ğŸ§ª ä¸€ä¸ªå¸¸è§è¯¯åŒºï¼š"></a>ğŸ§ª ä¸€ä¸ªå¸¸è§è¯¯åŒºï¼š</h2><blockquote><p>â“ å¹¶å‘ = å¹¶è¡Œ å—ï¼Ÿ</p></blockquote><p><strong>ä¸æ˜¯ï¼</strong></p><table><thead><tr><th>å¹¶å‘</th><th>å¹¶è¡Œ</th></tr></thead><tbody><tr><td>å¼ºè°ƒâ€œé€»è¾‘ä¸ŠåŒæ—¶â€</td><td>å¼ºè°ƒâ€œç‰©ç†ä¸ŠåŒæ—¶â€</td></tr><tr><td>ä¸€ä¸ªäººä¼ªè£…å¤šä¸ªä»»åŠ¡</td><td>å¤šä¸ªäººçœŸåœ¨å¹²ä¸åŒä»»åŠ¡</td></tr><tr><td>å•æ ¸ CPU å¯å®ç°</td><td>å¤šæ ¸ CPU æ‰èƒ½å®ç°</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸ&amp;åŒæº</title>
      <link href="/2025/05/26/ji-suan-ji-wang-luo-ji-chu/kua-yu-tong-yuan/"/>
      <url>/2025/05/26/ji-suan-ji-wang-luo-ji-chu/kua-yu-tong-yuan/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒæº-è·¨åŸŸ"><a href="#åŒæº-è·¨åŸŸ" class="headerlink" title="åŒæº&amp;è·¨åŸŸ"></a>åŒæº&amp;è·¨åŸŸ</h2><h3 id="ğŸ”’-åŒæºç­–ç•¥ï¼ˆSame-Origin-Policyï¼‰"><a href="#ğŸ”’-åŒæºç­–ç•¥ï¼ˆSame-Origin-Policyï¼‰" class="headerlink" title="ğŸ”’ åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰"></a>ğŸ”’ åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰</h3><p>æµè§ˆå™¨çš„å®‰å…¨æœºåˆ¶ï¼Œ<strong>é™åˆ¶ JS å¯¹ä¸åŒæºèµ„æºçš„è®¿é—®</strong>ã€‚åˆ¤æ–­æ˜¯å¦åŒæºéœ€æ»¡è¶³ï¼š<strong>åè®®ã€åŸŸåã€ç«¯å£å·ç›¸åŒ</strong>ã€‚</p><p>ç¤ºä¾‹ï¼š</p><table><thead><tr><th>é¡µé¢åœ°å€</th><th>èµ„æºåœ°å€</th><th>æ˜¯å¦åŒæº</th><th>ğŸš¨åŸå› </th></tr></thead><tbody><tr><td><code>http://a.com:80</code></td><td><code>http://a.com:80</code></td><td>âœ…</td><td>å®Œå…¨ç›¸åŒ</td></tr><tr><td><code>http://a.com</code></td><td><code>https://a.com</code></td><td>âŒ</td><td>åè®®ä¸åŒ</td></tr><tr><td><code>http://a.com</code></td><td><code>http://b.com</code></td><td>âŒ</td><td>åŸŸåä¸åŒ</td></tr><tr><td><code>http://a.com:80</code></td><td><code>http://a.com:8080</code></td><td>âŒ</td><td>ç«¯å£ä¸åŒ</td></tr></tbody></table><hr><h3 id="ğŸš«-å“ªäº›æ“ä½œä¼šè¢«é™åˆ¶ï¼Ÿ"><a href="#ğŸš«-å“ªäº›æ“ä½œä¼šè¢«é™åˆ¶ï¼Ÿ" class="headerlink" title="ğŸš« å“ªäº›æ“ä½œä¼šè¢«é™åˆ¶ï¼Ÿ"></a>ğŸš« å“ªäº›æ“ä½œä¼šè¢«é™åˆ¶ï¼Ÿ</h3><ul><li>JS å‘èµ·çš„ <code>fetch</code> / <code>XMLHttpRequest</code> è·¨åŸŸè¯·æ±‚</li><li>è®¿é—® <code>localStorage</code>ã€<code>cookie</code> ç­‰æ•°æ®</li><li>iframe è·¨åŸŸè®¿é—®çˆ¶/å­é¡µé¢ DOM</li></ul><hr><h3 id="ğŸŒ-ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ"><a href="#ğŸŒ-ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ" class="headerlink" title="ğŸŒ ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ"></a>ğŸŒ ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ</h3><p><strong>æµè§ˆå™¨é˜»æ­¢ä½ è®¿é—®ä¸åŒæºèµ„æº</strong>æ—¶ï¼Œå°±å‘ç”Ÿäº†è·¨åŸŸã€‚<br> éåŒæºè®¿é—®èµ„æºï¼ˆå¦‚ Ajax è¯·æ±‚ï¼‰é»˜è®¤ä¼šè¢«æµè§ˆå™¨æ‹¦æˆªã€‚</p><hr><h3 id="ç®€å•è¯·æ±‚ä¸å¤æ‚è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚ä¸å¤æ‚è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚ä¸å¤æ‚è¯·æ±‚"></a>ç®€å•è¯·æ±‚ä¸å¤æ‚è¯·æ±‚</h3><p>æµè§ˆå™¨æŠŠè·¨åŸŸè¯·æ±‚åˆ†ä¸ºä¸¤ç±»ï¼š</p><h4 id="âœ…-ç®€å•è¯·æ±‚ï¼ˆä¸ä¼šå‘é€é¢„æ£€ï¼‰"><a href="#âœ…-ç®€å•è¯·æ±‚ï¼ˆä¸ä¼šå‘é€é¢„æ£€ï¼‰" class="headerlink" title="âœ… ç®€å•è¯·æ±‚ï¼ˆä¸ä¼šå‘é€é¢„æ£€ï¼‰"></a>âœ… ç®€å•è¯·æ±‚ï¼ˆä¸ä¼šå‘é€é¢„æ£€ï¼‰</h4><p>åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ol><li>æ–¹æ³•æ˜¯ <code>GET</code>ã€<code>POST</code> æˆ– <code>HEAD</code></li><li>è¯·æ±‚å¤´ <strong>ä»…é™äº</strong>ï¼š<code>Accept</code>ã€<code>Accept-Language</code>ã€<code>Content-Type</code>ï¼ˆå€¼ä»…é™äºï¼š<code>application/x-www-form-urlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code>ï¼‰</li><li><strong>æ²¡æœ‰è‡ªå®šä¹‰è¯·æ±‚å¤´</strong></li></ol><h4 id="âš ï¸-å¤æ‚è¯·æ±‚ï¼ˆä¼šå…ˆå‘é€é¢„æ£€-OPTIONS-è¯·æ±‚ï¼‰"><a href="#âš ï¸-å¤æ‚è¯·æ±‚ï¼ˆä¼šå…ˆå‘é€é¢„æ£€-OPTIONS-è¯·æ±‚ï¼‰" class="headerlink" title="âš ï¸ å¤æ‚è¯·æ±‚ï¼ˆä¼šå…ˆå‘é€é¢„æ£€ OPTIONS è¯·æ±‚ï¼‰"></a>âš ï¸ å¤æ‚è¯·æ±‚ï¼ˆä¼šå…ˆå‘é€é¢„æ£€ OPTIONS è¯·æ±‚ï¼‰</h4><p>åªè¦<strong>æ»¡è¶³ä»¥ä¸‹ä»»æ„ä¸€é¡¹</strong>ï¼Œå°±å±äºå¤æ‚è¯·æ±‚ï¼š</p><ul><li>æ–¹æ³•ä¸º <code>PUT</code>ã€<code>DELETE</code> ç­‰é GET/POST/HEAD</li><li>è¯·æ±‚å¤´ä¸­æœ‰<strong>è‡ªå®šä¹‰ Header</strong>ï¼ˆå¦‚ <code>X-Token</code>ï¼‰</li><li><code>Content-Type</code> ä¸º <code>application/json</code> ç­‰éç®€å•ç±»å‹</li><li>ä½¿ç”¨äº† <code>XMLHttpRequest.withCredentials = true</code>ï¼ˆæºå¸¦ cookieï¼‰</li></ul><p><strong>ğŸ” æµç¨‹ï¼š</strong></p><ol><li>æµè§ˆå™¨å…ˆå‘ <code>OPTIONS</code> è¯·æ±‚è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸</li><li>æœåŠ¡å™¨è¿”å› <code>Access-Control-Allow-*</code> ç³»åˆ—å“åº”å¤´ï¼Œè¡¨ç¤ºå…è®¸</li><li>æµè§ˆå™¨æ‰ä¼šå‘èµ·çœŸæ­£çš„è¯·æ±‚</li></ol><blockquote><p>â›” è‹¥é¢„æ£€å¤±è´¥ï¼ˆæœåŠ¡å™¨æœªæ­£ç¡®è®¾ç½®å…è®¸è·¨åŸŸï¼‰ï¼Œæ­£å¼è¯·æ±‚ä¸ä¼šè¢«å‘é€</p></blockquote><hr><h4 id="ğŸ”-é¢„æ£€è¯·æ±‚é•¿è¿™æ ·ï¼ˆç”±æµè§ˆå™¨è‡ªåŠ¨å‘å‡ºï¼‰ï¼š"><a href="#ğŸ”-é¢„æ£€è¯·æ±‚é•¿è¿™æ ·ï¼ˆç”±æµè§ˆå™¨è‡ªåŠ¨å‘å‡ºï¼‰ï¼š" class="headerlink" title="ğŸ” é¢„æ£€è¯·æ±‚é•¿è¿™æ ·ï¼ˆç”±æµè§ˆå™¨è‡ªåŠ¨å‘å‡ºï¼‰ï¼š"></a>ğŸ” é¢„æ£€è¯·æ±‚é•¿è¿™æ ·ï¼ˆç”±æµè§ˆå™¨è‡ªåŠ¨å‘å‡ºï¼‰ï¼š</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">httpCopyEditOPTIONS /user HTTP/1.1</span><br><span class="line">Origin: https://web.example.com</span><br><span class="line">Access-Control-Request-Method: POST</span><br><span class="line">Access-Control-Request-Headers: Content-Type</span><br></pre></td></tr></tbody></table></figure><p>æœåŠ¡ç«¯å“åº”åº”å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">httpCopyEditHTTP/1.1 204 No Content</span><br><span class="line">Access-Control-Allow-Origin: https://web.example.com</span><br><span class="line">Access-Control-Allow-Methods: POST, GET, OPTIONS</span><br><span class="line">Access-Control-Allow-Headers: Content-Type</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="âœ…-CORSï¼šä¸»æµè·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#âœ…-CORSï¼šä¸»æµè·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="âœ… CORSï¼šä¸»æµè·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>âœ… CORSï¼šä¸»æµè·¨åŸŸè§£å†³æ–¹æ¡ˆ</h3><p>æœåŠ¡ç«¯è¿”å›ç‰¹æ®Šå“åº”å¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨â€œæˆ‘å…è®¸ä½ è·¨åŸŸè®¿é—®â€ï¼š</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Access-Control-Allow-Origin</span><span class="punctuation">: </span>https://your-frontend.com</span><br><span class="line"><span class="attribute">Access-Control-Allow-Methods</span><span class="punctuation">: </span>GET, POST</span><br><span class="line"><span class="attribute">Access-Control-Allow-Headers</span><span class="punctuation">: </span>Content-Type</span><br></pre></td></tr></tbody></table></figure><p>é€šé…ç¬¦å…è®¸æ‰€æœ‰ï¼š</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Access-Control-Allow-Origin</span><span class="punctuation">: </span>*</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ§ª-è·¨åŸŸå¼€å‘å¸¸è§è§£å†³æ–¹æ¡ˆ"><a href="#ğŸ§ª-è·¨åŸŸå¼€å‘å¸¸è§è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ğŸ§ª è·¨åŸŸå¼€å‘å¸¸è§è§£å†³æ–¹æ¡ˆ"></a>ğŸ§ª è·¨åŸŸå¼€å‘å¸¸è§è§£å†³æ–¹æ¡ˆ</h3><table><thead><tr><th>æ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… CORS</td><td>æœåŠ¡ç«¯è®¾ç½®å“åº”å¤´ï¼ˆæœ€æ¨èï¼‰</td></tr><tr><td>ğŸŒ€ ä»£ç†è½¬å‘</td><td>æœ¬åœ°å¼€å‘ç”¨ <code>webpack devServer</code> æˆ– Nginx è½¬å‘</td></tr><tr><td>ğŸ“œ JSONP</td><td>åªæ”¯æŒ GETï¼Œå·²è¿‡æ—¶</td></tr><tr><td>ğŸ“¨ postMessage</td><td>iframe/çª—å£é—´é€šä¿¡æ–¹æ¡ˆ</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Javascript-å¼‚æ­¥</title>
      <link href="/2025/05/25/qian-duan/javascript-yao-dian/"/>
      <url>/2025/05/25/qian-duan/javascript-yao-dian/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼‚æ­¥ç¼–ç¨‹"><a href="#å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="å¼‚æ­¥ç¼–ç¨‹"></a>å¼‚æ­¥ç¼–ç¨‹</h1><p>JavaScript æ˜¯å•çº¿ç¨‹çš„ï¼Œæ„å‘³ç€å®ƒä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœé‡åˆ°è€—æ—¶æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œç¨‹åºä¼šâ€œé˜»å¡â€ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaScript ä½¿ç”¨<strong>å¼‚æ­¥ç¼–ç¨‹</strong>ï¼Œè®©è€—æ—¶æ“ä½œåœ¨åå°æ‰§è¡Œï¼ŒåŒæ—¶ç»§ç»­æ‰§è¡Œå…¶ä»–ä»£ç ã€‚</p><h4 id="å¼‚æ­¥çš„ç‰¹ç‚¹ï¼š"><a href="#å¼‚æ­¥çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="å¼‚æ­¥çš„ç‰¹ç‚¹ï¼š"></a>å¼‚æ­¥çš„ç‰¹ç‚¹ï¼š</h4><ul><li>ä¸ä¼šé˜»å¡åç»­ä»£ç çš„æ‰§è¡Œã€‚</li><li>è€—æ—¶æ“ä½œå®Œæˆåï¼Œé€šè¿‡å›è°ƒå‡½æ•°ã€Promise æˆ– async/await æ¥å¤„ç†ç»“æœã€‚</li></ul><p>ä¹Ÿå°±æ˜¯å®ç°å¼‚æ­¥ç¼–ç¨‹æœ‰ 3 ç§æ–¹æ³•ï¼šå›è°ƒå‡½æ•°ã€Promise æˆ– async/await </p><blockquote><p>å›è°ƒå‡½æ•°å®¹æ˜“å‡ºç°â€å›è°ƒåœ°ç‹±â€çš„æƒ…å†µï¼Œæ‰€ä»¥ç›®å‰ä¸æ€ä¹ˆä¾èµ–å®ƒæ¥å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Œæˆ‘ä»¬ç®€å•ä»‹ç»å³å¯</p></blockquote><hr><h2 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h2><p>å›è°ƒå‡½æ•°æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåªæ˜¯æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†å¦ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶åœ¨æŸä¸ªæ“ä½œå®Œæˆåè¢«è°ƒç”¨ã€‚å›è°ƒå‡½æ•°çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p><ul><li><strong>å»¶è¿Ÿæ‰§è¡Œ</strong>ï¼šåœ¨æŸä¸ªæ¡ä»¶æ»¡è¶³æˆ–æŸä¸ªæ“ä½œå®Œæˆåï¼Œæ‰æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</li><li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šå¸¸ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆå–é¤åçš„åŠ¨ä½œï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">takeFood</span>(<span class="params">food</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"å–é¤ï¼š"</span> + food);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ˆç‚¹é¤ï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">orderFood</span>(<span class="params">callback</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"ç‚¹é¤ï¼šæ±‰å ¡"</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="keyword">const</span> food = <span class="string">"æ±‰å ¡"</span>;</span><br><span class="line">        <span class="title function_">callback</span>(food); <span class="comment">// 3ç§’åè°ƒç”¨å›è°ƒå‡½æ•°</span></span><br><span class="line">    }, <span class="number">3000</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. ç‚¹é¤ï¼Œå¹¶å‘Šè¯‰æœåŠ¡å‘˜å–é¤æ—¶è°ƒç”¨ takeFood å‡½æ•°</span></span><br><span class="line"><span class="title function_">orderFood</span>(takeFood);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. ç»§ç»­åšå…¶ä»–äº‹æƒ…</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"ç­‰å¾…å–é¤ä¸­ï¼Œå…ˆç©æ‰‹æœº..."</span>);</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight text"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç‚¹é¤ï¼šæ±‰å ¡</span><br><span class="line">ç­‰å¾…å–é¤ä¸­ï¼Œå…ˆç©æ‰‹æœº...</span><br><span class="line">å–é¤ï¼šæ±‰å ¡</span><br></pre></td></tr></tbody></table></figure><hr><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>æœ¬è´¨ä¸Š Promise æ˜¯ä¸€ä¸ªå‡½æ•°è¿”å›çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®ƒä¸Šé¢ç»‘å®šå›è°ƒå‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨ä¸€å¼€å§‹æŠŠå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥è¿™ä¸ªå‡½æ•°äº†,å®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æœå€¼ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªâ€œæ‰¿è¯ºâ€ï¼š</p><ul><li><strong>æ‰¿è¯º</strong>ï¼šå°†æ¥ä¼šå®ŒæˆæŸä¸ªæ“ä½œï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰</li><li><strong>ç»“æœ</strong>ï¼šæ“ä½œå®Œæˆåï¼Œä¼šè¿”å›ä¸€ä¸ªå€¼ï¼ˆæˆ–é”™è¯¯ï¼‰</li></ul><h3 id="Promise-çš„ä¸‰ç§çŠ¶æ€"><a href="#Promise-çš„ä¸‰ç§çŠ¶æ€" class="headerlink" title="Promise çš„ä¸‰ç§çŠ¶æ€"></a><strong>Promise çš„ä¸‰ç§çŠ¶æ€</strong></h3><p>ä¸€ä¸ª Promise å¯¹è±¡æœ‰ä¸‰ç§çŠ¶æ€ï¼š</p><ol><li><strong>Pendingï¼ˆè¿›è¡Œä¸­ï¼‰</strong>ï¼šåˆå§‹çŠ¶æ€ï¼Œè¡¨ç¤ºæ“ä½œå°šæœªå®Œæˆã€‚</li><li><strong>Fulfilledï¼ˆå·²æˆåŠŸï¼‰</strong>ï¼šè¡¨ç¤ºæ“ä½œæˆåŠŸå®Œæˆï¼Œå¹¶è¿”å›ç»“æœå€¼ã€‚</li><li><strong>Rejectedï¼ˆå·²å¤±è´¥ï¼‰</strong>ï¼šè¡¨ç¤ºæ“ä½œå¤±è´¥ï¼Œå¹¶è¿”å›é”™è¯¯åŸå› ã€‚</li></ol><p>ä¸€æ—¦ Promise çš„çŠ¶æ€ä» Pending å˜ä¸º Fulfilled æˆ– Rejectedï¼Œå°±ä¸å¯å†æ”¹å˜ã€‚</p><h3 id="then"><a href="#then" class="headerlink" title="then()"></a>then()</h3><p><code>.then()</code> æ˜¯ <strong>Promise</strong> å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå¤„ç† Promise æˆåŠŸå®Œæˆåçš„ç»“æœã€‚å®ƒæ˜¯ JavaScript ä¸­å®ç°å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒå·¥å…·ä¹‹ä¸€ï¼Œè®©ä»£ç æ›´æ¸…æ™°ã€æ›´æ˜“è¯»</p><h4 id="then-çš„ä½œç”¨"><a href="#then-çš„ä½œç”¨" class="headerlink" title=".then() çš„ä½œç”¨"></a><strong><code>.then()</code> çš„ä½œç”¨</strong></h4><ul><li><strong>å¤„ç†æˆåŠŸçš„ç»“æœ</strong>ï¼šå½“ Promise çš„çŠ¶æ€ä» Pending å˜ä¸º Fulfilledï¼ˆå³æˆåŠŸï¼‰æ—¶ï¼Œ<code>.then()</code> ä¸­çš„å›è°ƒå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚</li><li><strong>é“¾å¼è°ƒç”¨</strong>ï¼š<code>.then()</code> è¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œå¯ä»¥ç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ª <code>.then()</code>ï¼Œä»è€Œå®ç°å¤šä¸ªå¼‚æ­¥æ“ä½œçš„é¡ºåºæ‰§è¡Œã€‚</li></ul><h4 id="then-çš„è¯­æ³•"><a href="#then-çš„è¯­æ³•" class="headerlink" title=".then()çš„è¯­æ³•"></a>.then()çš„è¯­æ³•</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">promise.then(onFulfilled, onRejected);</span><br></pre></td></tr></tbody></table></figure><ul><li>**<code>onFulfilled</code>**ï¼šä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ Promise æˆåŠŸæ—¶è°ƒç”¨ã€‚å®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³ Promise çš„æˆåŠŸç»“æœã€‚</li><li>**<code>onRejected</code>**ï¼ˆå¯é€‰ï¼‰ï¼šä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ Promise å¤±è´¥æ—¶è°ƒç”¨ã€‚å®ƒæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå³ Promise çš„å¤±è´¥åŸå› ã€‚</li></ul><p>é€šå¸¸ï¼Œæˆ‘ä»¬åªä½¿ç”¨ <code>onFulfilled</code>ï¼Œè€Œç”¨ <code>.catch()</code> æ¥å¤„ç†å¤±è´¥çš„æƒ…å†µã€‚</p><p>é“¾å¼è°ƒç”¨-ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> {</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">"ç¬¬ä¸€æ­¥ç»“æœ"</span>), <span class="number">1000</span>);</span><br><span class="line">  });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doSomethingElse</span>(<span class="params">result</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> {</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(result + <span class="string">" -&gt; ç¬¬äºŒæ­¥ç»“æœ"</span>), <span class="number">1000</span>);</span><br><span class="line">  });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doThirdThing</span>(<span class="params">result</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> {</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(result + <span class="string">" -&gt; ç¬¬ä¸‰æ­¥ç»“æœ"</span>), <span class="number">1000</span>);</span><br><span class="line">  });</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">failureCallback</span>(<span class="params">error</span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">"å‡ºé”™ï¼š"</span>, error);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="title function_">doSomething</span>()</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">result</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">doSomethingElse</span>(result);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">newResult</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">doThirdThing</span>(newResult);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">finalResult</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¾—åˆ°æœ€ç»ˆç»“æœï¼š<span class="subst">${finalResult}</span>`</span>);</span><br><span class="line">  })</span><br><span class="line">  .<span class="title function_">catch</span>(failureCallback);</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight text"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¾—åˆ°æœ€ç»ˆç»“æœï¼šç¬¬ä¸€æ­¥ç»“æœ -&gt; ç¬¬äºŒæ­¥ç»“æœ -&gt; ç¬¬ä¸‰æ­¥ç»“æœ</span><br></pre></td></tr></tbody></table></figure><h2 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async<code>/</code>await</h2><p>async/await æ˜¯ JavaScript ä¸­ç”¨äºç®€åŒ–å¼‚æ­¥ç¼–ç¨‹çš„<strong>è¯­æ³•ç³–</strong>ã€‚å®ƒåŸºäº Promiseï¼Œä½†è®©å¼‚æ­¥ä»£ç çš„å†™æ³•æ›´åƒåŒæ­¥ä»£ç ï¼Œä»è€Œæ›´å®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚</p><p><strong>async</strong>ï¼šç”¨äºå£°æ˜ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚å¼‚æ­¥å‡½æ•°ä¼šéšå¼è¿”å›ä¸€ä¸ª Promise</p><p><strong>await</strong>ï¼šç”¨äºç­‰å¾…ä¸€ä¸ª Promise å®Œæˆï¼ˆå³ Promise çš„çŠ¶æ€å˜ä¸º resolvedï¼‰ã€‚await åªèƒ½åœ¨ async å‡½æ•°ä¸­ä½¿ç”¨</p><p>promiseç« èŠ‚ä¸­çš„ä»£ç ç”¨async<code>/</code>awaitç®€å†™å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">async function main() {</span><br><span class="line">  try {</span><br><span class="line">    const result1 = await doSomething(); // ç­‰å¾…ç¬¬ä¸€æ­¥å®Œæˆ</span><br><span class="line">    const result2 = await doSomethingElse(result1); // ç­‰å¾…ç¬¬äºŒæ­¥å®Œæˆ</span><br><span class="line">    const finalResult = await doThirdThing(result2); // ç­‰å¾…ç¬¬ä¸‰æ­¥å®Œæˆ</span><br><span class="line">    console.log(`å¾—åˆ°æœ€ç»ˆç»“æœï¼š${finalResult}`);</span><br><span class="line">  } catch (error) {</span><br><span class="line">    failureCallback(error); // æ•è·é”™è¯¯</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// è°ƒç”¨ main å‡½æ•°</span><br><span class="line">main();</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ğŸ’¡å…³äºè¯­æ³•ç³–<br>ä¸æ”¹å˜è¯­è¨€çš„åŠŸèƒ½ï¼šè¯­æ³•ç³–åªæ˜¯æä¾›äº†ä¸€ç§æ›´ç®€æ´çš„å†™æ³•ï¼Œåº•å±‚å®ç°ä»ç„¶æ˜¯åŸæœ‰çš„è¯­æ³•æˆ–æœºåˆ¶ã€‚</p><p>æé«˜ä»£ç çš„å¯è¯»æ€§ï¼šè¯­æ³•ç³–é€šå¸¸ä¼šè®©ä»£ç æ›´ç›´è§‚ã€æ›´æ˜“ç†è§£ã€‚</p><p>å‡å°‘ä»£ç é‡ï¼šè¯­æ³•ç³–å¯ä»¥å¸®åŠ©å¼€å‘è€…ç”¨æ›´å°‘çš„ä»£ç å®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚</p></blockquote><hr><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>é—­åŒ…æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿâ€œè®°ä½â€å¹¶è®¿é—®å®ƒå®šä¹‰æ—¶çš„ç¯å¢ƒï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°åœ¨å®šä¹‰æ—¶çš„ç¯å¢ƒä¹‹å¤–æ‰§è¡Œã€‚å³ <code>é—­åŒ… = å‡½æ•° + å¼•ç”¨ç¯å¢ƒ</code></p><h3 id="é—­åŒ…çš„æ ¸å¿ƒ"><a href="#é—­åŒ…çš„æ ¸å¿ƒ" class="headerlink" title="é—­åŒ…çš„æ ¸å¿ƒ"></a>é—­åŒ…çš„æ ¸å¿ƒ</h3><ol><li><p><strong>å‡½æ•°åµŒå¥—</strong>ï¼š</p><ul><li>é—­åŒ…é€šå¸¸å‘ç”Ÿåœ¨å‡½æ•°åµŒå¥—çš„æƒ…å†µä¸‹ï¼Œå³ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰äº†å¦ä¸€ä¸ªå‡½æ•°ã€‚</li></ul></li><li><p><strong>è®¿é—®å¤–éƒ¨å˜é‡</strong>ï¼š</p><ul><li>å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li><li><p><strong>â€œè®°ä½â€ç¯å¢ƒ</strong>ï¼š</p><ul><li>é—­åŒ…ä¼šâ€œè®°ä½â€å®ƒå®šä¹‰æ—¶çš„ç¯å¢ƒï¼ˆå³å¤–éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸï¼‰ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li></ol><p>ç¤ºä¾‹ 1ï¼šç®€å•çš„é—­åŒ…</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">"Hello, Closure!"</span>; <span class="comment">// å¤–éƒ¨å‡½æ•°çš„å˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">inner</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(message); <span class="comment">// å†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner; <span class="comment">// è¿”å›å†…éƒ¨å‡½æ•°</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> innerFunc = <span class="title function_">outer</span>(); <span class="comment">// outer æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line"><span class="title function_">innerFunc</span>(); <span class="comment">// è¾“å‡º: Hello, Closure!</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>outer</code> å‡½æ•°å†…éƒ¨æœ‰ä¸€ä¸ªå˜é‡ <code>message</code>ã€‚</li><li><code>inner</code> å‡½æ•°ä½¿ç”¨äº† <code>message</code>ã€‚</li><li>å³ä½¿ <code>outer</code> å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œ<code>inner</code> å‡½æ•°ä»ç„¶å¯ä»¥è®¿é—® <code>message</code>ï¼Œè¿™å°±æ˜¯é—­åŒ…ã€‚</li></ul><h3 id="é—­åŒ…çš„ä½œç”¨"><a href="#é—­åŒ…çš„ä½œç”¨" class="headerlink" title="é—­åŒ…çš„ä½œç”¨"></a>é—­åŒ…çš„ä½œç”¨</h3><ol><li><p><strong>è®°ä½å˜é‡</strong>ï¼š</p><ul><li>é—­åŒ…å¯ä»¥è®©å‡½æ•°â€œè®°ä½â€å®ƒå®šä¹‰æ—¶çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li><li><p><strong>åˆ›å»ºç§æœ‰å˜é‡</strong>ï¼š</p><ul><li>é—­åŒ…å¯ä»¥ç”¨æ¥éšè—å˜é‡ï¼Œé¿å…è¢«å¤–éƒ¨ç›´æ¥ä¿®æ”¹ã€‚</li></ul><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createPerson</span>(<span class="params">name</span>) {</span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">0</span>; <span class="comment">// ç§æœ‰å˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">getAge</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">celebrateBirthday</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">            age++;</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="title function_">createPerson</span>(<span class="string">"Alice"</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">getName</span>()); <span class="comment">// è¾“å‡º: Alice</span></span><br><span class="line">person.<span class="title function_">celebrateBirthday</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">getAge</span>()); <span class="comment">// è¾“å‡º: 1</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>å®ç°æ¨¡å—åŒ–</strong>ï¼š</p><ul><li>é—­åŒ…å¯ä»¥ç”¨æ¥éšè—å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦çš„åŠŸèƒ½ã€‚</li></ul><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable language_">module</span> = (<span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">const</span> privateVariable = <span class="string">"I am private"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">publicMethod</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(privateVariable);</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">})();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="title function_">publicMethod</span>(); <span class="comment">// è¾“å‡º: I am private</span></span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="é—­åŒ…çš„æ³¨æ„äº‹é¡¹"><a href="#é—­åŒ…çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="é—­åŒ…çš„æ³¨æ„äº‹é¡¹"></a>é—­åŒ…çš„æ³¨æ„äº‹é¡¹</h3><ol><li><strong>å†…å­˜æ³„æ¼</strong>ï¼š<ul><li>é—­åŒ…ä¼šä¸€ç›´â€œè®°ä½â€å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå³ä½¿è¿™äº›å˜é‡å·²ç»ä¸å†éœ€è¦äº†ã€‚å¦‚æœé—­åŒ…ç”¨å¾—å¤ªå¤šï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜ã€‚</li><li>è§£å†³æ–¹æ³•ï¼šåœ¨ä¸éœ€è¦æ—¶æ‰‹åŠ¨è§£é™¤å¼•ç”¨ã€‚</li></ul></li></ol><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">const</span> largeData = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1000000</span>).<span class="title function_">fill</span>(<span class="string">"data"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Closure!"</span>);</span><br><span class="line">    };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> innerFunc = <span class="title function_">outer</span>();</span><br><span class="line"><span class="comment">// ä¸å†éœ€è¦æ—¶è§£é™¤å¼•ç”¨</span></span><br><span class="line">innerFunc = <span class="literal">null</span>;</span><br></pre></td></tr></tbody></table></figure><hr><h1 id="ğŸ–¥ï¸-JavaScriptçš„å•çº¿ç¨‹å’Œå¼‚æ­¥å¹¶å‘åŸç†"><a href="#ğŸ–¥ï¸-JavaScriptçš„å•çº¿ç¨‹å’Œå¼‚æ­¥å¹¶å‘åŸç†" class="headerlink" title="ğŸ–¥ï¸ JavaScriptçš„å•çº¿ç¨‹å’Œå¼‚æ­¥å¹¶å‘åŸç†"></a>ğŸ–¥ï¸ JavaScriptçš„å•çº¿ç¨‹å’Œå¼‚æ­¥å¹¶å‘åŸç†</h1><h2 id="1-JavaScriptæ˜¯å•çº¿ç¨‹çš„"><a href="#1-JavaScriptæ˜¯å•çº¿ç¨‹çš„" class="headerlink" title="1. JavaScriptæ˜¯å•çº¿ç¨‹çš„"></a>1. <strong>JavaScriptæ˜¯å•çº¿ç¨‹çš„</strong></h2><ul><li>åªæœ‰ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹ï¼ˆä¸»çº¿ç¨‹ï¼‰æ‰§è¡Œä»£ç ï¼Œä»»ä½•æ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ã€‚</li><li>è¿™å°±æ„å‘³ç€ï¼Œä»£ç æ˜¯<strong>é€è¡Œæ‰§è¡Œ</strong>ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€ä¸ªæ¥ä¸€ä¸ªã€‚</li></ul><hr><h2 id="2-ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼Ÿ"></a>2. <strong>ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥ï¼Ÿ</strong></h2><ul><li>æœ‰äº›æ“ä½œè€—æ—¶ï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å–ã€å®šæ—¶å™¨ã€‚</li><li>å¦‚æœè¿™äº›æ“ä½œéƒ½æ˜¯åŒæ­¥æ‰§è¡Œï¼ŒJSä¸»çº¿ç¨‹ä¼šè¢«å µå¡ï¼Œé¡µé¢å¡æ­»ã€‚</li><li>æ‰€ä»¥å¼•å…¥<strong>å¼‚æ­¥æœºåˆ¶</strong>ï¼Œé¿å…é˜»å¡ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li></ul><hr><h2 id="3-äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰æœºåˆ¶"><a href="#3-äº‹ä»¶å¾ªç¯ï¼ˆEvent-Loopï¼‰æœºåˆ¶" class="headerlink" title="3. äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æœºåˆ¶"></a>3. <strong>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æœºåˆ¶</strong></h2><p>æ ¸å¿ƒå°±æ˜¯ï¼š</p><ul><li>ä¸»çº¿ç¨‹æœ‰ä¸€ä¸ªä»»åŠ¡æ ˆï¼ˆCall Stackï¼‰ï¼ŒåŒæ­¥ä»»åŠ¡è¿›æ ˆæ‰§è¡Œï¼Œæ‰§è¡Œå®Œå‡ºæ ˆã€‚</li><li>å¼‚æ­¥ä»»åŠ¡ï¼ˆæ¯”å¦‚setTimeoutã€Promiseç­‰ï¼‰ä¼šè¢«æ”¾å…¥<strong>ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼ˆTask Queue / Microtask Queueï¼‰ã€‚</li><li>äº‹ä»¶å¾ªç¯ä¸æ–­æ£€æŸ¥ä»»åŠ¡æ ˆæ˜¯å¦ä¸ºç©ºï¼Œç©ºäº†å°±å»ä»»åŠ¡é˜Ÿåˆ—é‡Œå–ä»»åŠ¡æ‰§è¡Œã€‚</li></ul><hr><h2 id="4-ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸¤ç§"><a href="#4-ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸¤ç§" class="headerlink" title="4. ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸¤ç§"></a>4. <strong>ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸¤ç§</strong></h2><ul><li><strong>å®ä»»åŠ¡ï¼ˆMacrotasksï¼‰</strong>ï¼šsetTimeoutã€setIntervalã€I/Oã€UIæ¸²æŸ“ç­‰ã€‚</li><li><strong>å¾®ä»»åŠ¡ï¼ˆMicrotasksï¼‰</strong>ï¼šPromiseçš„.then/catch/finallyï¼ŒMutationObserverç­‰ã€‚</li></ul><p>äº‹ä»¶å¾ªç¯çš„è§„åˆ™ï¼š</p><ol><li>æ‰§è¡Œä¸»çº¿ç¨‹çš„åŒæ­¥ä»£ç ï¼ˆä»»åŠ¡æ ˆï¼‰ã€‚</li><li>ä¸»çº¿ç¨‹ç©ºäº†ï¼Œæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ã€‚</li><li>å¾®ä»»åŠ¡æ¸…ç©ºåï¼Œæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ã€‚</li><li>é‡å¤ä»¥ä¸Šæ­¥éª¤ã€‚</li></ol><hr><h2 id="5-å¹¶å‘æ•ˆæœä½†ä¸æ˜¯å¹¶è¡Œ"><a href="#5-å¹¶å‘æ•ˆæœä½†ä¸æ˜¯å¹¶è¡Œ" class="headerlink" title="5. å¹¶å‘æ•ˆæœä½†ä¸æ˜¯å¹¶è¡Œ"></a>5. <strong>å¹¶å‘æ•ˆæœä½†ä¸æ˜¯å¹¶è¡Œ</strong></h2><p>è™½ç„¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå¼‚æ­¥ä»»åŠ¡é€šè¿‡äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Œå®ç°äº†<strong>é€»è¾‘ä¸Šçš„å¹¶å‘</strong>ï¼š</p><ul><li>ä½ å‘èµ·å¤šä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šå¸®ä½ ç®¡ç†å®ƒä»¬ã€‚</li><li>JSä¸»çº¿ç¨‹ä¸ç­‰å¾…ç»“æœï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»£ç ã€‚</li><li>å¼‚æ­¥æ“ä½œå®Œæˆåï¼Œå›è°ƒå‡½æ•°æ’å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾…ä¸»çº¿ç¨‹ç©ºé—²æ—¶æ‰§è¡Œã€‚</li></ul><p>æ‰€ä»¥ï¼Œçœ‹èµ·æ¥æ˜¯â€œå¤šä¸ªä»»åŠ¡åŒæ—¶è¿›è¡Œâ€ï¼Œå…¶å®æ˜¯â€œä»»åŠ¡è½®æµæ‰§è¡Œâ€ï¼Œè¿™å°±æ˜¯<strong>å¹¶å‘</strong>ï¼Œè€Œä¸æ˜¯ç¡¬ä»¶å±‚é¢çš„<strong>å¹¶è¡Œ</strong>ã€‚</p><hr><h2 id="6-ä¸¾ä¾‹è¯´æ˜"><a href="#6-ä¸¾ä¾‹è¯´æ˜" class="headerlink" title="6. ä¸¾ä¾‹è¯´æ˜"></a>6. <strong>ä¸¾ä¾‹è¯´æ˜</strong></h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'start'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'timeout'</span>);</span><br><span class="line">}, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'promise'</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'end'</span>);</span><br></pre></td></tr></tbody></table></figure><p>æ‰§è¡Œé¡ºåºæ˜¯ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">start</span><br><span class="line">end</span><br><span class="line">promise</span><br><span class="line">timeout</span><br></pre></td></tr></tbody></table></figure><ul><li><code>console.log('start')</code> åŒæ­¥æ‰§è¡Œã€‚</li><li><code>setTimeout</code> çš„å›è°ƒæ˜¯å®ä»»åŠ¡ï¼Œå…ˆæ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ã€‚</li><li><code>Promise.then</code> çš„å›è°ƒæ˜¯å¾®ä»»åŠ¡ï¼Œæ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</li><li><code>console.log('end')</code> åŒæ­¥æ‰§è¡Œã€‚</li><li>ä¸»çº¿ç¨‹ç©ºäº†ï¼Œå…ˆæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆæ‰“å° â€˜promiseâ€™ï¼‰ã€‚</li><li>å†æ‰§è¡Œå®ä»»åŠ¡ï¼ˆæ‰“å° â€˜timeoutâ€™ï¼‰ã€‚</li></ul><hr><h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. <strong>æ€»ç»“</strong></h2><table><thead><tr><th>æœ¯è¯­</th><th>JSä¸­ä½“ç°</th></tr></thead><tbody><tr><td>å•çº¿ç¨‹</td><td>JSåªæœ‰ä¸€ä¸ªä¸»æ‰§è¡Œçº¿ç¨‹</td></tr><tr><td>å¹¶å‘</td><td>å¼‚æ­¥ä»»åŠ¡é€šè¿‡äº‹ä»¶å¾ªç¯äº¤æ›¿æ‰§è¡Œ</td></tr><tr><td>å¹¶è¡Œ</td><td>éœ€è¦å¤šæ ¸CPUæˆ–Web Workeræ”¯æŒ</td></tr><tr><td>äº‹ä»¶å¾ªç¯</td><td>ç®¡ç†åŒæ­¥/å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œé¡ºåº</td></tr><tr><td>å¾®ä»»åŠ¡/å®ä»»åŠ¡é˜Ÿåˆ—</td><td>æŒ‰ä¼˜å…ˆçº§æ‰§è¡Œå¼‚æ­¥å›è°ƒ</td></tr></tbody></table><hr><h2 id="è¿›é˜¶å†…å®¹ä¹‹-Web-Worker-â€”â€”-JavaScriptçš„å¤šçº¿ç¨‹å®ç°"><a href="#è¿›é˜¶å†…å®¹ä¹‹-Web-Worker-â€”â€”-JavaScriptçš„å¤šçº¿ç¨‹å®ç°" class="headerlink" title="è¿›é˜¶å†…å®¹ä¹‹ Web Worker â€”â€” JavaScriptçš„å¤šçº¿ç¨‹å®ç°"></a>è¿›é˜¶å†…å®¹ä¹‹ Web Worker â€”â€” JavaScriptçš„å¤šçº¿ç¨‹å®ç°</h2><h3 id="1-ä»€ä¹ˆæ˜¯-Web-Workerï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Web-Workerï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Web Workerï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ Web Workerï¼Ÿ</h3><ul><li>Web Worker æ˜¯æµè§ˆå™¨æä¾›çš„ <strong>åå°çº¿ç¨‹</strong>ï¼Œå¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¹‹å¤–è¿è¡Œè„šæœ¬ã€‚</li><li>è¿™æ ·ï¼Œè€—æ—¶çš„è®¡ç®—æˆ–ä»»åŠ¡ä¸ä¼šé˜»å¡é¡µé¢ä¸»çº¿ç¨‹ï¼Œæå‡æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</li><li>ä¸»çº¿ç¨‹å’Œ Worker çº¿ç¨‹æ˜¯ <strong>ç‹¬ç«‹çš„çº¿ç¨‹</strong>ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡æ¶ˆæ¯ä¼ é€’é€šä¿¡ã€‚</li></ul><h5 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h5><ul><li><strong>Web Worker</strong> æ˜¯æµè§ˆå™¨ç»™JavaScriptçš„â€œå¤šçº¿ç¨‹â€æ”¯æŒï¼Œå¸®åŠ©å®ç°å¹¶è¡Œã€‚</li><li>ä¸»çº¿ç¨‹å’Œ Worker çº¿ç¨‹ç›¸äº’ç‹¬ç«‹ï¼Œé€šè¿‡æ¶ˆæ¯ä¼ é€’äº¤æµã€‚</li><li>è§£å†³äº† JS å•çº¿ç¨‹é˜»å¡çš„é—®é¢˜ï¼Œæå‡æ€§èƒ½å’Œå“åº”é€Ÿåº¦ã€‚</li></ul><hr><h3 id="2-ä¸ºä»€ä¹ˆéœ€è¦-Web-Workerï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆéœ€è¦-Web-Workerï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆéœ€è¦ Web Workerï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆéœ€è¦ Web Workerï¼Ÿ</h3><ul><li>JavaScript æœ¬èº«æ˜¯å•çº¿ç¨‹ï¼Œè€—æ—¶ä»»åŠ¡ï¼ˆå¤§è®¡ç®—ã€å¤æ‚æ•°æ®å¤„ç†ï¼‰ä¼šé˜»å¡UIï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚</li><li>ä½¿ç”¨ Web Workerï¼Œå¯ä»¥æŠŠè€—æ—¶ä»»åŠ¡æ”¾åˆ°åå°çº¿ç¨‹ï¼Œä¸»çº¿ç¨‹ç»§ç»­å“åº”ç”¨æˆ·æ“ä½œã€‚</li></ul><hr><h3 id="3-Web-Worker-çš„åŸºæœ¬ç”¨æ³•"><a href="#3-Web-Worker-çš„åŸºæœ¬ç”¨æ³•" class="headerlink" title="3. Web Worker çš„åŸºæœ¬ç”¨æ³•"></a>3. Web Worker çš„åŸºæœ¬ç”¨æ³•</h3><h4 id="ä¸»çº¿ç¨‹ä»£ç ï¼ˆmain-jsï¼‰"><a href="#ä¸»çº¿ç¨‹ä»£ç ï¼ˆmain-jsï¼‰" class="headerlink" title="ä¸»çº¿ç¨‹ä»£ç ï¼ˆmain.jsï¼‰"></a>ä¸»çº¿ç¨‹ä»£ç ï¼ˆmain.jsï¼‰</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">jsCopy code// åˆ›å»ºä¸€ä¸ªWorkerï¼ŒæŒ‡å®šè¿è¡Œçš„è„šæœ¬æ–‡ä»¶worker.js</span><br><span class="line">const worker = new Worker('worker.js');</span><br><span class="line"></span><br><span class="line">// ç›‘å¬Workerå‘é€æ¥çš„æ¶ˆæ¯</span><br><span class="line">worker.onmessage = function(event) {</span><br><span class="line">  console.log('ä»workeræ”¶åˆ°æ¶ˆæ¯:', event.data);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">// å‘Workerå‘é€æ¶ˆæ¯</span><br><span class="line">worker.postMessage('å¼€å§‹è®¡ç®—');</span><br></pre></td></tr></tbody></table></figure><hr><h4 id="Workerçº¿ç¨‹ä»£ç ï¼ˆworker-jsï¼‰"><a href="#Workerçº¿ç¨‹ä»£ç ï¼ˆworker-jsï¼‰" class="headerlink" title="Workerçº¿ç¨‹ä»£ç ï¼ˆworker.jsï¼‰"></a>Workerçº¿ç¨‹ä»£ç ï¼ˆworker.jsï¼‰</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">jsCopy code// ç›‘å¬ä¸»çº¿ç¨‹å‘é€çš„æ¶ˆæ¯</span><br><span class="line">onmessage = function(event) {</span><br><span class="line">  console.log('Workeræ”¶åˆ°æ¶ˆæ¯:', event.data);</span><br><span class="line"></span><br><span class="line">  // æ‰§è¡Œä¸€äº›è€—æ—¶è®¡ç®—ï¼Œæ¯”å¦‚å¤§å¾ªç¯</span><br><span class="line">  let count = 0;</span><br><span class="line">  for (let i = 0; i &lt; 1e9; i++) {</span><br><span class="line">    count += i;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  // è®¡ç®—å®Œï¼Œå‘ä¸»çº¿ç¨‹å‘é€ç»“æœ</span><br><span class="line">  postMessage('è®¡ç®—å®Œæˆï¼Œç»“æœæ˜¯ï¼š' + count);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="4-Web-Worker-çš„ç‰¹ç‚¹"><a href="#4-Web-Worker-çš„ç‰¹ç‚¹" class="headerlink" title="4. Web Worker çš„ç‰¹ç‚¹"></a>4. Web Worker çš„ç‰¹ç‚¹</h3><ul><li>è¿è¡Œåœ¨ç‹¬ç«‹çº¿ç¨‹ï¼Œæ‹¥æœ‰è‡ªå·±çš„è¿è¡Œç¯å¢ƒã€‚</li><li>ä¸èƒ½è®¿é—® DOM å’Œå…¨å±€å˜é‡ï¼Œåªèƒ½é€šè¿‡æ¶ˆæ¯é€šä¿¡ã€‚</li><li>åªèƒ½ç”¨æœ‰é™çš„APIï¼ˆæ¯”å¦‚ä¸èƒ½ç›´æ¥æ“ä½œwindowã€documentï¼‰ã€‚</li><li>é€‚åˆåšå¤§é‡è®¡ç®—ã€æ•°æ®å¤„ç†ã€å›¾åƒå¤„ç†ç­‰ã€‚</li></ul><hr><h3 id="5-Web-Worker-vs-ä¸»çº¿ç¨‹"><a href="#5-Web-Worker-vs-ä¸»çº¿ç¨‹" class="headerlink" title="5. Web Worker vs ä¸»çº¿ç¨‹"></a>5. Web Worker vs ä¸»çº¿ç¨‹</h3><table><thead><tr><th>æ¯”è¾ƒé¡¹</th><th>ä¸»çº¿ç¨‹</th><th>Web Worker</th></tr></thead><tbody><tr><td>çº¿ç¨‹æ•°</td><td>å•çº¿ç¨‹</td><td>ç‹¬ç«‹å¤šçº¿ç¨‹</td></tr><tr><td>DOMè®¿é—®</td><td>å¯ä»¥ç›´æ¥è®¿é—®DOM</td><td>ä¸èƒ½è®¿é—®DOMï¼Œåªèƒ½é€šä¿¡</td></tr><tr><td>é˜»å¡é£é™©</td><td>å¤§é‡è®¡ç®—ä¼šé˜»å¡UI</td><td>ä¸é˜»å¡UIï¼Œåå°è¿è¡Œ</td></tr><tr><td>é€šä¿¡æ–¹å¼</td><td>ç›´æ¥æ“ä½œå˜é‡/å‡½æ•°</td><td>é€šè¿‡ <code>postMessage</code> ä¼ é€’æ¶ˆæ¯</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>UIæ¸²æŸ“ã€äº‹ä»¶å“åº”</td><td>å¤æ‚è®¡ç®—ã€æ•°æ®å¤„ç†</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webç›¸å…³-è®¡ç½‘çŸ¥è¯†</title>
      <link href="/2025/05/25/ji-suan-ji-wang-luo-ji-chu/postweb-xiang-guan-ji-wang-zhi-shi/"/>
      <url>/2025/05/25/ji-suan-ji-wang-luo-ji-chu/postweb-xiang-guan-ji-wang-zhi-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸŒ-æµè§ˆå™¨è¾“å…¥-URL-åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#ğŸŒ-æµè§ˆå™¨è¾“å…¥-URL-åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸŒ æµè§ˆå™¨è¾“å…¥ URL åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>ğŸŒ æµè§ˆå™¨è¾“å…¥ URL åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h2><hr><h3 id="â›“ï¸-ä¸€ã€URL-è§£æ"><a href="#â›“ï¸-ä¸€ã€URL-è§£æ" class="headerlink" title="â›“ï¸ ä¸€ã€URL è§£æ"></a>â›“ï¸ ä¸€ã€URL è§£æ</h3><ol><li><p>æµè§ˆå™¨è§£æä½ è¾“å…¥çš„ URLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.example.com:443/path?query=abc#hash</span><br></pre></td></tr></tbody></table></figure><ul><li>åè®®ï¼ˆSchemeï¼‰ï¼š<code>https</code></li><li>ä¸»æœºåï¼ˆHostï¼‰ï¼š<code>www.example.com</code></li><li>ç«¯å£ï¼ˆPortï¼‰ï¼šé»˜è®¤443ï¼ˆHTTPSï¼‰</li><li>è·¯å¾„ï¼ˆPathï¼‰ï¼š<code>/path</code></li><li>æŸ¥è¯¢å‚æ•°ï¼ˆQueryï¼‰ï¼š<code>query=abc</code></li><li>é”šç‚¹ï¼ˆHashï¼‰ï¼š<code>#hash</code>ï¼ˆå®¢æˆ·ç«¯ç”¨ï¼Œä¸å‘é€ç»™æœåŠ¡å™¨ï¼‰</li></ul></li></ol><hr><h3 id="ğŸŒ-äºŒã€DNS-è§£æï¼ˆåŸŸåè§£æï¼‰"><a href="#ğŸŒ-äºŒã€DNS-è§£æï¼ˆåŸŸåè§£æï¼‰" class="headerlink" title="ğŸŒ äºŒã€DNS è§£æï¼ˆåŸŸåè§£æï¼‰"></a>ğŸŒ äºŒã€DNS è§£æï¼ˆåŸŸåè§£æï¼‰</h3><ul><li>æµè§ˆå™¨ â†’ ç³»ç»Ÿ â†’ æœ¬åœ° DNS ç¼“å­˜ â†’ hosts æ–‡ä»¶ â†’ DNS æœåŠ¡å™¨</li><li>å°† <code>www.example.com</code> è§£æä¸º IP åœ°å€ï¼Œå¦‚ <code>93.184.216.34</code></li></ul><hr><h3 id="ğŸ”-ä¸‰ã€å»ºç«‹è¿æ¥"><a href="#ğŸ”-ä¸‰ã€å»ºç«‹è¿æ¥" class="headerlink" title="ğŸ” ä¸‰ã€å»ºç«‹è¿æ¥"></a>ğŸ” ä¸‰ã€å»ºç«‹è¿æ¥</h3><h4 id="æƒ…å†µä¸€ï¼šHTTP"><a href="#æƒ…å†µä¸€ï¼šHTTP" class="headerlink" title="æƒ…å†µä¸€ï¼šHTTP"></a>æƒ…å†µä¸€ï¼šHTTP</h4><ul><li>ä½¿ç”¨ TCP ä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹è¿æ¥ã€‚</li></ul><h4 id="æƒ…å†µäºŒï¼šHTTPS"><a href="#æƒ…å†µäºŒï¼šHTTPS" class="headerlink" title="æƒ…å†µäºŒï¼šHTTPS"></a>æƒ…å†µäºŒï¼šHTTPS</h4><ul><li>å…ˆè¿›è¡Œ TCP ä¸‰æ¬¡æ¡æ‰‹ã€‚</li><li>ç„¶åè¿›è¡Œ TLS/SSL æ¡æ‰‹ï¼Œåå•†åŠ å¯†ç®—æ³•ã€äº¤æ¢è¯ä¹¦ã€å…¬é’¥ï¼Œå»ºç«‹ã€Œå®‰å…¨è¿æ¥ã€ã€‚</li></ul><hr><h3 id="ğŸ“¤-å››ã€å‘é€-HTTP-è¯·æ±‚"><a href="#ğŸ“¤-å››ã€å‘é€-HTTP-è¯·æ±‚" class="headerlink" title="ğŸ“¤ å››ã€å‘é€ HTTP è¯·æ±‚"></a>ğŸ“¤ å››ã€å‘é€ HTTP è¯·æ±‚</h3><p>æµè§ˆå™¨æ„é€ å¹¶å‘é€è¯·æ±‚æŠ¥æ–‡ï¼š</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/path?query=abc</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>www.example.com</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Chrome/123.0</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ“¥-äº”ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚"><a href="#ğŸ“¥-äº”ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚" class="headerlink" title="ğŸ“¥ äº”ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚"></a>ğŸ“¥ äº”ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚</h3><ul><li>Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginxã€Apacheã€Node.jsï¼‰æ¥æ”¶è¯·æ±‚ã€‚</li><li>åº”ç”¨æœåŠ¡å™¨å¤„ç†è·¯å¾„å’Œå‚æ•°ï¼Œä¾‹å¦‚è°ƒåç«¯æ¥å£ã€æ•°æ®åº“ã€‚</li><li>è¿”å› HTTP å“åº”ï¼Œå¯èƒ½åŒ…å« HTML é¡µé¢ã€JSON æ•°æ®æˆ–å…¶ä»–èµ„æºã€‚</li></ul><hr><h3 id="ğŸ“¨-å…­ã€æµè§ˆå™¨æ¥æ”¶å“åº”"><a href="#ğŸ“¨-å…­ã€æµè§ˆå™¨æ¥æ”¶å“åº”" class="headerlink" title="ğŸ“¨ å…­ã€æµè§ˆå™¨æ¥æ”¶å“åº”"></a>ğŸ“¨ å…­ã€æµè§ˆå™¨æ¥æ”¶å“åº”</h3><p>æœåŠ¡å™¨è¿”å›å“åº”ï¼š</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">HTTP/1.1</span> <span class="number">200</span> OK</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>text/html</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>1234</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span>...<span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ–¼ï¸-ä¸ƒã€æµè§ˆå™¨æ¸²æŸ“é¡µé¢"><a href="#ğŸ–¼ï¸-ä¸ƒã€æµè§ˆå™¨æ¸²æŸ“é¡µé¢" class="headerlink" title="ğŸ–¼ï¸ ä¸ƒã€æµè§ˆå™¨æ¸²æŸ“é¡µé¢"></a>ğŸ–¼ï¸ ä¸ƒã€æµè§ˆå™¨æ¸²æŸ“é¡µé¢</h3><ol><li><strong>è§£æ HTMLï¼Œæ„å»º DOM æ ‘</strong></li><li><strong>ä¸‹è½½ CSS â†’ æ„å»º CSSOM æ ‘</strong></li><li><strong>æ‰§è¡Œ JavaScript è„šæœ¬</strong></li><li><strong>æ„å»º Render Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰</strong></li><li><strong>è®¡ç®—å¸ƒå±€ï¼ˆLayoutï¼‰</strong></li><li><strong>ç»˜åˆ¶é¡µé¢ï¼ˆPaintï¼‰</strong></li><li>ç”¨æˆ·çœ‹åˆ°å®Œæ•´ç½‘é¡µ</li></ol><hr><h3 id="ğŸ“¦-å…«ã€å¯èƒ½çš„é¢å¤–åŠ¨ä½œ"><a href="#ğŸ“¦-å…«ã€å¯èƒ½çš„é¢å¤–åŠ¨ä½œ" class="headerlink" title="ğŸ“¦ å…«ã€å¯èƒ½çš„é¢å¤–åŠ¨ä½œ"></a>ğŸ“¦ å…«ã€å¯èƒ½çš„é¢å¤–åŠ¨ä½œ</h3><ul><li>æµè§ˆå™¨å‘é€èµ„æºè¯·æ±‚ï¼ˆå¦‚ CSSã€JSã€å›¾ç‰‡ç­‰ï¼‰</li><li>Cookie å­˜å–ã€Session æ ¡éªŒ</li><li>ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚å¼ºç¼“å­˜ã€åå•†ç¼“å­˜ï¼‰</li><li>CORS è·¨åŸŸæ ¡éªŒ</li><li>æ•°æ®é¢„åŠ è½½ç­‰</li></ul><hr><h2 id="ğŸ§ -æ€»ç»“ä¸€å¥è¯ï¼š"><a href="#ğŸ§ -æ€»ç»“ä¸€å¥è¯ï¼š" class="headerlink" title="ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š"></a>ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š</h2><blockquote><p>è¾“å…¥ URL â†’ DNS è§£æ â†’ å»ºç«‹è¿æ¥ï¼ˆTCP/TLSï¼‰â†’ å‘é€è¯·æ±‚ â†’ æœåŠ¡å™¨å“åº” â†’ æµè§ˆå™¨æ¸²æŸ“ â†’ å±•ç¤ºé¡µé¢</p></blockquote><hr><h2 id="è·¨åŸŸåŒæºç­–ç•¥"><a href="#è·¨åŸŸåŒæºç­–ç•¥" class="headerlink" title="è·¨åŸŸåŒæºç­–ç•¥"></a>è·¨åŸŸåŒæºç­–ç•¥</h2><h3 id="ğŸ”’-ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼ˆSame-Origin-Policy-SOPï¼‰"><a href="#ğŸ”’-ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼ˆSame-Origin-Policy-SOPï¼‰" class="headerlink" title="ğŸ”’ ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼ˆSame-Origin Policy, SOPï¼‰"></a>ğŸ”’ ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼ˆSame-Origin Policy, SOPï¼‰</h3><p><strong>åŒæºç­–ç•¥</strong>æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œ<strong>é™åˆ¶ä¸åŒæºçš„ç½‘é¡µä¹‹é—´çš„äº¤äº’</strong>ï¼Œä»¥é˜²æ­¢æ¶æ„ç½‘ç«™çªƒå–æ•æ„Ÿä¿¡æ¯ã€‚</p><h4 id="ğŸ“Œ-ä»€ä¹ˆæ˜¯â€œåŒæºâ€ï¼Ÿ"><a href="#ğŸ“Œ-ä»€ä¹ˆæ˜¯â€œåŒæºâ€ï¼Ÿ" class="headerlink" title="ğŸ“Œ ä»€ä¹ˆæ˜¯â€œåŒæºâ€ï¼Ÿ"></a>ğŸ“Œ ä»€ä¹ˆæ˜¯â€œåŒæºâ€ï¼Ÿ</h4><p>ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£ <strong>å®Œå…¨ç›¸åŒ</strong>ï¼Œæ‰ç§°ä¸ºåŒæºï¼š</p><p>ä¾‹å¦‚ï¼š</p><table><thead><tr><th>URL</th><th>æ˜¯å¦åŒæº</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>https://example.com</code></td><td>âœ… åŒæº</td><td>å®Œå…¨ä¸€è‡´</td></tr><tr><td><code>http://example.com</code></td><td>âŒ è·¨æº</td><td>åè®®ä¸åŒ</td></tr><tr><td><code>https://sub.example.com</code></td><td>âŒ è·¨æº</td><td>å­åŸŸåä¸åŒ</td></tr><tr><td><code>https://example.com:8080</code></td><td>âŒ è·¨æº</td><td>ç«¯å£ä¸åŒ</td></tr></tbody></table><hr><h3 id="ğŸš«-åŒæºç­–ç•¥çš„é™åˆ¶å†…å®¹"><a href="#ğŸš«-åŒæºç­–ç•¥çš„é™åˆ¶å†…å®¹" class="headerlink" title="ğŸš« åŒæºç­–ç•¥çš„é™åˆ¶å†…å®¹"></a>ğŸš« åŒæºç­–ç•¥çš„é™åˆ¶å†…å®¹</h3><p>æµè§ˆå™¨ä¸­ï¼Œå¦‚æœä¸¤ä¸ªé¡µé¢ <strong>éåŒæº</strong>ï¼Œåˆ™å—é™åˆ¶ï¼š</p><table><thead><tr><th>å—é™åˆ¶çš„å†…å®¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>DOM è®¿é—®</td><td>JS ä¸èƒ½è®¿é—®å¦ä¸€ä¸ªæºé¡µé¢çš„ DOM</td></tr><tr><td>Cookie/LocalStorage</td><td>ä¸èƒ½è¯»å†™å…¶ä»–æºçš„ cookie å’Œæœ¬åœ°å­˜å‚¨</td></tr><tr><td>AJAX è¯·æ±‚</td><td>JS ä¸èƒ½ç”¨ <code>XMLHttpRequest</code>/<code>fetch</code> è®¿é—®å…¶ä»–æºçš„æ¥å£</td></tr></tbody></table><hr><h3 id="ğŸ”-ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ"><a href="#ğŸ”-ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ" class="headerlink" title="ğŸ” ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ"></a>ğŸ” ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ</h3><p>å½“ä½ å°è¯•è®¿é—®éåŒæºçš„èµ„æºæ—¶ï¼Œå°±å«åšâ€œè·¨åŸŸâ€ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“å‰é¡µé¢ï¼š https://a.com</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">"https://b.com/api/data"</span>); <span class="comment">// â† è·¨åŸŸè¯·æ±‚</span></span><br></pre></td></tr></tbody></table></figure><p>ç”±äºåŒæºç­–ç•¥é™åˆ¶ï¼Œè¿™ç±»è¯·æ±‚é»˜è®¤ä¼šè¢«æµè§ˆå™¨æ‹¦æˆªæˆ–é™åˆ¶ã€‚</p><hr><h3 id="âœ…-å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#âœ…-å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="âœ… å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>âœ… å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h3><table><thead><tr><th>æ–¹æ³•</th><th>åŸç†ç®€ä»‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>CORS</strong></td><td>æœåŠ¡å™¨é€šè¿‡è®¾ç½®å“åº”å¤´å…è®¸è·¨åŸŸè®¿é—®</td><td>æœ€å¸¸ç”¨ã€æ¨èçš„æ–¹å¼</td></tr><tr><td><strong>JSONP</strong></td><td>é€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾å®ç° GET è·¨åŸŸ</td><td>ä»…æ”¯æŒ GETï¼Œè¯·æ±‚ä¸å®‰å…¨</td></tr><tr><td><strong>ä»£ç†æœåŠ¡å™¨</strong></td><td>å‰ç«¯è¯·æ±‚å‘åˆ°åŒæºä»£ç†ï¼Œä»£ç†å†è®¿é—®çœŸå®æ¥å£</td><td>å¼€å‘ä¸­å¸¸ç”¨äºæœ¬åœ°è°ƒè¯•</td></tr><tr><td><strong>postMessage</strong></td><td>ç”¨äºä¸¤ä¸ªä¸åŒæºçš„çª—å£ä¹‹é—´å®‰å…¨åœ°é€šä¿¡</td><td>å¸¸ç”¨äº iframeã€çª—å£é€šä¿¡</td></tr><tr><td><strong>nginx åå‘ä»£ç†</strong></td><td>nginx è½¬å‘å‰ç«¯è¯·æ±‚åˆ°ç›®æ ‡æœåŠ¡å™¨</td><td>æœåŠ¡ç«¯é…ç½®</td></tr><tr><td><strong>è·¨åŸŸèµ„æºåµŒå…¥</strong></td><td>å¦‚ <code>&lt;img&gt;</code> <code>&lt;script&gt;</code> <code>&lt;iframe&gt;</code> åŠ è½½å¤–éƒ¨èµ„æº</td><td>ä¸å—åŒæºç­–ç•¥é™åˆ¶ï¼ˆä½†æœ‰é™èƒ½åŠ›ï¼‰</td></tr></tbody></table><hr><h3 id="ğŸŒ-CORS-ç¤ºä¾‹"><a href="#ğŸŒ-CORS-ç¤ºä¾‹" class="headerlink" title="ğŸŒ CORS ç¤ºä¾‹"></a>ğŸŒ CORS ç¤ºä¾‹</h3><p>å‰ç«¯è¯·æ±‚ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">'https://api.example.com/data'</span>)</span><br></pre></td></tr></tbody></table></figure><p>æœåŠ¡å™¨å“åº”å¤´å¿…é¡»åŒ…å«ï¼š</p><figure class="highlight http"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Access-Control-Allow-Origin</span><span class="punctuation">: </span>https://your-frontend.com</span><br><span class="line"><span class="attribute">Access-Control-Allow-Methods</span><span class="punctuation">: </span>GET, POST</span><br><span class="line"><span class="attribute">Access-Control-Allow-Headers</span><span class="punctuation">: </span>Content-Type</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ§ -æ€»ç»“ä¸€å¥è¯ï¼š-1"><a href="#ğŸ§ -æ€»ç»“ä¸€å¥è¯ï¼š-1" class="headerlink" title="ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š"></a>ğŸ§  æ€»ç»“ä¸€å¥è¯ï¼š</h3><blockquote><p>åŒæºç­–ç•¥ä¿æŠ¤æµè§ˆå™¨å®‰å…¨ï¼Œé˜²æ­¢ä¸åŒæºä¹‹é—´éšæ„äº¤äº’ã€‚è·¨åŸŸæ˜¯ç»•è¿‡åŒæºç­–ç•¥çš„æ–¹å¼ï¼Œå¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ <strong>CORS</strong>ã€‚</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æŠŠæ¢­ä¹‹NextJs</title>
      <link href="/2025/04/14/qian-duan/yi-ba-suo-zhi-nextjs/"/>
      <url>/2025/04/14/qian-duan/yi-ba-suo-zhi-nextjs/</url>
      
        <content type="html"><![CDATA[<h2 id="File-Router-æ–‡ä»¶è·¯ç”±"><a href="#File-Router-æ–‡ä»¶è·¯ç”±" class="headerlink" title="File Router - æ–‡ä»¶è·¯ç”±"></a>File Router - æ–‡ä»¶è·¯ç”±</h2><h3 id="ğŸ§ -ä»€ä¹ˆæ˜¯-File-Routerï¼Ÿ"><a href="#ğŸ§ -ä»€ä¹ˆæ˜¯-File-Routerï¼Ÿ" class="headerlink" title="ğŸ§  ä»€ä¹ˆæ˜¯ File Routerï¼Ÿ"></a>ğŸ§  ä»€ä¹ˆæ˜¯ File Routerï¼Ÿ</h3><blockquote><p><strong>File Router</strong> æ˜¯æŒ‡ï¼š<strong>æ–‡ä»¶ç»“æ„å°±æ˜¯è·¯ç”±ç»“æ„</strong>ã€‚</p></blockquote><p>ä½ ä¸éœ€è¦æ‰‹åŠ¨é…ç½®è·¯ç”±ï¼ˆä¸åƒ React-Router é‚£æ ·å†™ä¸€å † <code>&lt;Route&gt;</code>ï¼‰ï¼Œåªéœ€è¦æŠŠé¡µé¢ç»„ä»¶æ”¾åˆ° <code>app/</code> æˆ– <code>pages/</code> ç›®å½•ä¸‹ï¼ŒNext.js å°±ä¼š<strong>è‡ªåŠ¨æŠŠå®ƒæ³¨å†Œæˆ URL è·¯ç”±</strong>ã€‚</p><hr><h3 id="ğŸ“-App-Router-æ¨¡å¼ï¼ˆapp-ç›®å½•ï¼‰"><a href="#ğŸ“-App-Router-æ¨¡å¼ï¼ˆapp-ç›®å½•ï¼‰" class="headerlink" title="ğŸ“ App Router æ¨¡å¼ï¼ˆapp/ ç›®å½•ï¼‰"></a>ğŸ“ App Router æ¨¡å¼ï¼ˆ<code>app/</code> ç›®å½•ï¼‰</h3><p>ä» <strong>Next.js 13</strong> èµ·ï¼Œæ¨èä½¿ç”¨ <code>app/</code> ç›®å½•ï¼Œæ”¯æŒæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š</p><ul><li>Layout åµŒå¥—</li><li>æœåŠ¡ç«¯ç»„ä»¶ï¼ˆServer Componentï¼‰</li><li>å¹¶å‘å’ŒåŠ è½½çŠ¶æ€</li><li>å…±äº«æ¨¡æ¿ï¼ˆ<code>layout.tsx</code>ã€<code>template.tsx</code>ï¼‰</li><li>ç­‰ç­‰â€¦</li></ul><hr><h4 id="ğŸ”—-æ–‡ä»¶ç»“æ„-è·¯ç”±ç»“æ„ï¼ˆæ ¸å¿ƒï¼‰"><a href="#ğŸ”—-æ–‡ä»¶ç»“æ„-è·¯ç”±ç»“æ„ï¼ˆæ ¸å¿ƒï¼‰" class="headerlink" title="ğŸ”— æ–‡ä»¶ç»“æ„ = è·¯ç”±ç»“æ„ï¼ˆæ ¸å¿ƒï¼‰"></a>ğŸ”— æ–‡ä»¶ç»“æ„ = è·¯ç”±ç»“æ„ï¼ˆæ ¸å¿ƒï¼‰</h4><p>å‡è®¾ä½ æœ‰è¿™ä¸ªé¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/app</span><br><span class="line">  â”œâ”€â”€ layout.tsx</span><br><span class="line">  â”œâ”€â”€ page.tsx               // å¯¹åº” "/"</span><br><span class="line">  â”œâ”€â”€ about</span><br><span class="line">  â”‚    â””â”€â”€ page.tsx          // å¯¹åº” "/about"</span><br><span class="line">  â”œâ”€â”€ blog</span><br><span class="line">  â”‚    â”œâ”€â”€ page.tsx          // å¯¹åº” "/blog"</span><br><span class="line">  â”‚    â””â”€â”€ [slug]</span><br><span class="line">  â”‚         â””â”€â”€ page.tsx     // å¯¹åº” "/blog/xxx"</span><br></pre></td></tr></tbody></table></figure><p>ğŸ‘‰ ä¸Šé¢è¿™äº›æ–‡ä»¶å’Œè·¯å¾„ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™äº›è·¯ç”±ï¼š</p><table><thead><tr><th>æ–‡ä»¶è·¯å¾„</th><th>è®¿é—®åœ°å€</th></tr></thead><tbody><tr><td><code>app/page.tsx</code></td><td><code>/</code></td></tr><tr><td><code>app/about/page.tsx</code></td><td><code>/about</code></td></tr><tr><td><code>app/blog/page.tsx</code></td><td><code>/blog</code></td></tr><tr><td><code>app/blog/[slug]/page.tsx</code></td><td><code>/blog/123</code>ã€<code>/blog/abc</code> ç­‰åŠ¨æ€è·¯ç”±</td></tr></tbody></table><hr><h3 id="ğŸ”-åŠ¨æ€è·¯ç”±ï¼ˆDynamic-Routesï¼‰"><a href="#ğŸ”-åŠ¨æ€è·¯ç”±ï¼ˆDynamic-Routesï¼‰" class="headerlink" title="ğŸ” åŠ¨æ€è·¯ç”±ï¼ˆDynamic Routesï¼‰"></a>ğŸ” åŠ¨æ€è·¯ç”±ï¼ˆDynamic Routesï¼‰</h3><p>å¦‚æœä½ æƒ³è®©è·¯ç”±æ¥å—å‚æ•°ï¼Œåªéœ€è¦ç”¨ <code>[]</code> æ‹¬èµ·æ¥å‚æ•°åï¼š</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app/products/[<span class="built_in">id</span>]/page.tsx</span><br></pre></td></tr></tbody></table></figure><p>è®¿é—® <code>/products/123</code> æ—¶ï¼Œç»„ä»¶ä¸­å°±å¯ä»¥ç”¨ <code>params.id</code> è¯»å–è¿™ä¸ªå‚æ•°ã€‚</p><figure class="highlight tsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app/products/[id]/page.tsx</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">ProductPage</span>(<span class="params">{ params }</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Product ID: {params.id}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ“¦-Layout-å’Œ-Page-çš„åŒºåˆ«"><a href="#ğŸ“¦-Layout-å’Œ-Page-çš„åŒºåˆ«" class="headerlink" title="ğŸ“¦ Layout å’Œ Page çš„åŒºåˆ«"></a>ğŸ“¦ Layout å’Œ Page çš„åŒºåˆ«</h3><table><thead><tr><th>æ–‡ä»¶å</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>layout.tsx</code></td><td>å¯å¤ç”¨çš„ç•Œé¢ç»“æ„ï¼ˆå¦‚å¯¼èˆªæ ã€ä¾§è¾¹æ ï¼‰</td></tr><tr><td><code>page.tsx</code></td><td>å®é™…çš„é¡µé¢å†…å®¹ï¼ˆè·¯ç”±ç»ˆç‚¹ï¼‰</td></tr></tbody></table><p>ä½ å¯ä»¥æœ‰åµŒå¥—çš„ layoutï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/app</span><br><span class="line">  â”œâ”€â”€ layout.tsx           // å…¨å±€ Layout</span><br><span class="line">  â””â”€â”€ dashboard</span><br><span class="line">        â”œâ”€â”€ layout.tsx     // Dashboard ä¸“å± Layout</span><br><span class="line">        â””â”€â”€ page.tsx       // /dashboard é¡µé¢</span><br></pre></td></tr></tbody></table></figure><hr><h3 id="ğŸ§ª-ç‰¹æ®Šæ–‡ä»¶å"><a href="#ğŸ§ª-ç‰¹æ®Šæ–‡ä»¶å" class="headerlink" title="ğŸ§ª ç‰¹æ®Šæ–‡ä»¶å"></a>ğŸ§ª ç‰¹æ®Šæ–‡ä»¶å</h3><table><thead><tr><th>æ–‡ä»¶</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>page.tsx</code></td><td>é¡µé¢ç»„ä»¶ï¼Œå¯¹åº”å…·ä½“è·¯ç”±</td></tr><tr><td><code>layout.tsx</code></td><td>å…±äº«å¸ƒå±€ï¼ˆæ¯å±‚ç›®å½•å¯ä»¥æœ‰è‡ªå·±çš„ Layoutï¼‰</td></tr><tr><td><code>loading.tsx</code></td><td>é¡µé¢åŠ è½½æ—¶å±•ç¤ºçš„ loading åŠ¨ç”»</td></tr><tr><td><code>error.tsx</code></td><td>é¡µé¢åŠ è½½å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†</td></tr><tr><td><code>not-found.tsx</code></td><td>404 é¡µé¢</td></tr></tbody></table><hr><h2 id="âœ…-å°æ€»ç»“"><a href="#âœ…-å°æ€»ç»“" class="headerlink" title="âœ… å°æ€»ç»“"></a>âœ… å°æ€»ç»“</h2><table><thead><tr><th>ç‰¹æ€§</th><th>ç®€ä»‹</th></tr></thead><tbody><tr><td>âœ… æ–‡ä»¶ç»“æ„å°±æ˜¯è·¯ç”±</td><td>ä¸ç”¨å†™è·¯ç”±è¡¨ï¼Œç›®å½•ç»“æ„å¤©ç„¶å†³å®šè·¯å¾„</td></tr><tr><td>âœ… åŠ¨æ€è·¯ç”±</td><td><code>[param]</code> å½¢å¼æ¥æ”¶å‚æ•°</td></tr><tr><td>âœ… æ”¯æŒåµŒå¥—è·¯ç”±</td><td>å­ç›®å½•å³å­é¡µé¢ï¼Œè‡ªç„¶åµŒå¥—</td></tr><tr><td>âœ… Layout å¯å…±äº«é¡µé¢ç»“æ„</td><td><code>layout.tsx</code> éå¸¸é€‚åˆæ”¾å¯¼èˆªæ ã€å¤´éƒ¨ç­‰</td></tr><tr><td>âœ… æ”¯æŒ loadingã€errorã€not-found</td><td>å†…å»ºé¡µé¢çŠ¶æ€ç®¡ç†æ”¯æŒ</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>TailWindCss</title>
      <link href="/2025/03/02/qian-duan/tailwindcss/"/>
      <url>/2025/03/02/qian-duan/tailwindcss/</url>
      
        <content type="html"><![CDATA[<h1 id="TailWind"><a href="#TailWind" class="headerlink" title="TailWind"></a>TailWind</h1><h3 id="å®‰è£…-tailwindcss"><a href="#å®‰è£…-tailwindcss" class="headerlink" title="å®‰è£… tailwindcss"></a>å®‰è£… tailwindcss</h3><figure class="highlight powershell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install <span class="literal">-D</span> tailwindcss</span><br><span class="line">npx tailwindcss init</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»º<code>tailwind.config.js</code> é…ç½®æ–‡ä»¶</p><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>åœ¨ <code>tailwind.config.js</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** <span class="doctag">@type</span> {<span class="type">import('tailwindcss').Config</span>} */</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">  <span class="attr">content</span>: [<span class="string">"./src/**/*.{html,js}"</span>],  <span class="comment">// æ ¹æ®é¡¹ç›®å®é™…æ–‡ä»¶ç±»å‹è°ƒæ•´</span></span><br><span class="line">  <span class="attr">theme</span>: {</span><br><span class="line">    <span class="attr">extend</span>: {},</span><br><span class="line">  },</span><br><span class="line">  <span class="attr">plugins</span>: [],</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨xåˆ†é’Ÿå†…å­¦ä¼šgo</title>
      <link href="/2025/02/25/hou-duan/zai-x-fen-zhong-nei-xue-hui-go/"/>
      <url>/2025/02/25/hou-duan/zai-x-fen-zhong-nei-xue-hui-go/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://learnxinyminutes.com/go/">https://learnxinyminutes.com/go/</a></li></ul><hr><h2 id="go-ç±»å‹"><a href="#go-ç±»å‹" class="headerlink" title="go ç±»å‹"></a>go ç±»å‹</h2><table><thead><tr><th>ç±»å‹åˆ†ç±»</th><th>ç±»å‹ç¤ºä¾‹</th><th>å®šä¹‰è¯­æ³•</th></tr></thead><tbody><tr><td><strong>åŸºæœ¬ç±»å‹</strong></td><td><code>int</code>, <code>float32</code>, <code>bool</code>, <code>string</code>, <code>rune</code> ç­‰</td><td><code>var x int</code>  <code>var y float32</code>  <code>var isTrue bool</code>  <code>var s string</code></td></tr><tr><td><strong>å¤åˆç±»å‹</strong></td><td><code>array</code>, <code>slice</code>, <code>map</code>, <code>struct</code></td><td><code>var arr [5]int</code>  <code>var s []int</code>  <code>var m map[string]int</code>  <code>type Person struct { Name string; Age int }</code></td></tr><tr><td><strong>å¼•ç”¨ç±»å‹</strong></td><td><code>slice</code>, <code>map</code>, <code>channel</code>, <code>pointer</code></td><td><code>var p *int</code>  <code>var ch chan int</code>  <code>var s []int</code>  <code>var m map[string]int</code></td></tr><tr><td><strong>æ¥å£ç±»å‹</strong></td><td><code>interface{}</code>, è‡ªå®šä¹‰æ¥å£</td><td><code>var i interface{}</code>  <code>type Animal interface { Speak() string }</code></td></tr><tr><td><strong>å‡½æ•°ç±»å‹</strong></td><td>å‡½æ•°ç±»å‹å¯ä»¥ä½œä¸ºç±»å‹ï¼Œä¼ é€’å‡½æ•°</td><td><code>type AddFunc func(a int, b int) int</code>  <code>var sum AddFunc</code></td></tr><tr><td><strong>å¸¸é‡ç±»å‹</strong></td><td>å¸¸é‡ç±»å‹é€šè¿‡ <code>const</code> å£°æ˜ï¼Œå€¼ä¸å¯æ›´æ”¹</td><td><code>const Pi = 3.14</code>  <code>const Name = "Go"</code></td></tr><tr><td><strong>ç±»å‹åˆ«å</strong></td><td><code>type NewType oldType</code> ç”¨äºä¸ºç±»å‹åˆ›å»ºåˆ«å</td><td><code>type MyInt int</code>  <code>var x MyInt</code></td></tr></tbody></table><h2 id="ä»£ç é€šè¯†ğŸ’¡"><a href="#ä»£ç é€šè¯†ğŸ’¡" class="headerlink" title="ä»£ç é€šè¯†ğŸ’¡"></a>ä»£ç é€šè¯†ğŸ’¡</h2><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">/* å¤šè¡Œæ³¨é‡Š */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ„å»ºæ ‡ç­¾æ˜¯ä»¥ //go:build å¼€å¤´çš„è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">  å¯ä»¥é€šè¿‡ go build -tags="foo bar" å‘½ä»¤æ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment">  æ„å»ºæ ‡ç­¾æ”¾åœ¨åŒ…å£°æ˜ä¹‹å‰ï¼Œé è¿‘æ–‡ä»¶é¡¶éƒ¨</span></span><br><span class="line"><span class="comment">  åé¢è·Ÿç€ä¸€ä¸ªç©ºè¡Œæˆ–å…¶ä»–è¡Œæ³¨é‡Šã€‚ */</span></span><br><span class="line"><span class="comment">//go:build prod || dev || test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯ä¸ªæºæ–‡ä»¶éƒ½ä»¥åŒ…å£°æ˜å¼€å§‹ã€‚</span></span><br><span class="line"><span class="comment">// main æ˜¯ä¸€ä¸ªç‰¹æ®Šåç§°ï¼Œå£°æ˜ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶è€Œä¸æ˜¯åº“ã€‚</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥å£°æ˜å£°æ˜åœ¨æ­¤æ–‡ä»¶ä¸­å¼•ç”¨çš„åº“åŒ…ã€‚</span></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">"fmt"</span>              <span class="comment">// Go æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªåŒ…ã€‚</span></span><br><span class="line"><span class="string">"io"</span>               <span class="comment">// å®ç°ä¸€äº› I/O å·¥å…·å‡½æ•°ã€‚</span></span><br><span class="line">m <span class="string">"math"</span>           <span class="comment">// å¸¦æœ‰æœ¬åœ°åˆ«å m çš„æ•°å­¦åº“ã€‚</span></span><br><span class="line"><span class="string">"net/http"</span>         <span class="comment">// æ˜¯çš„ï¼Œä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨ï¼</span></span><br><span class="line">_ <span class="string">"net/http/pprof"</span> <span class="comment">// ä»…ä¸ºå‰¯ä½œç”¨å¯¼å…¥çš„åˆ†æåº“</span></span><br><span class="line"><span class="string">"os"</span>               <span class="comment">// åƒå¤„ç†æ–‡ä»¶ç³»ç»Ÿçš„ OS å‡½æ•°</span></span><br><span class="line"><span class="string">"strconv"</span>          <span class="comment">// å­—ç¬¦ä¸²è½¬æ¢ã€‚</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰ã€‚Main æ˜¯ç‰¹æ®Šçš„ã€‚å®ƒæ˜¯å¯æ‰§è¡Œç¨‹åºçš„å…¥å£ç‚¹ã€‚</span></span><br><span class="line"><span class="comment">// å–œæ¬¢å®ƒæˆ–è®¨åŒå®ƒï¼ŒGo ä½¿ç”¨å¤§æ‹¬å·ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// Println è¾“å‡ºä¸€è¡Œåˆ°æ ‡å‡†è¾“å‡ºã€‚</span></span><br><span class="line"><span class="comment">// å®ƒæ¥è‡ª fmt åŒ…ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"Hello world!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨æ­¤åŒ…å†…è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚</span></span><br><span class="line">beyondHello()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°å¯ä»¥æœ‰å‚æ•°åœ¨æ‹¬å·ä¸­ã€‚</span></span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œç©ºæ‹¬å·ä»ç„¶æ˜¯å¿…éœ€çš„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">beyondHello</span><span class="params">()</span></span> {</span><br><span class="line"><span class="keyword">var</span> x <span class="type">int</span> <span class="comment">// å˜é‡å£°æ˜ã€‚å˜é‡å¿…é¡»åœ¨ä½¿ç”¨å‰å£°æ˜ã€‚</span></span><br><span class="line">x = <span class="number">3</span>     <span class="comment">// å˜é‡èµ‹å€¼ã€‚</span></span><br><span class="line"><span class="comment">// "çŸ­"å£°æ˜ä½¿ç”¨ := æ¥æ¨æ–­ç±»å‹ï¼Œå£°æ˜å¹¶èµ‹å€¼ã€‚</span></span><br><span class="line">y := <span class="number">4</span></span><br><span class="line">sum, prod := learnMultiple(x, y)        <span class="comment">// å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"sum:"</span>, sum, <span class="string">"prod:"</span>, prod) <span class="comment">// ç®€å•è¾“å‡ºã€‚</span></span><br><span class="line">learnTypes()                            <span class="comment">// &lt; y åˆ†é’Ÿï¼Œäº†è§£æ›´å¤šï¼</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &lt;- å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">å‡½æ•°å¯ä»¥æœ‰å‚æ•°å’Œï¼ˆå¤šä¸ªï¼ï¼‰è¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">è¿™é‡Œ `x`ï¼Œ`y` æ˜¯å‚æ•°ï¼Œ`sum`ï¼Œ`prod` æ˜¯ç­¾åï¼ˆè¿”å›çš„å†…å®¹ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">æ³¨æ„ `x` å’Œ `sum` æ¥æ”¶ç±»å‹ `int`ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnMultiple</span><span class="params">(x, y <span class="type">int</span>)</span></span> (sum, prod <span class="type">int</span>) {</span><br><span class="line"><span class="keyword">return</span> x + y, x * y <span class="comment">// è¿”å›ä¸¤ä¸ªå€¼ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€äº›å†…ç½®ç±»å‹å’Œå­—é¢é‡ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnTypes</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// çŸ­å£°æ˜é€šå¸¸ä¼šç»™ä½ æƒ³è¦çš„ä¸œè¥¿ã€‚</span></span><br><span class="line">str := <span class="string">"Learn Go!"</span> <span class="comment">// å­—ç¬¦ä¸²ç±»å‹ã€‚</span></span><br><span class="line"></span><br><span class="line">s2 := <span class="string">`A "raw" string literal</span></span><br><span class="line"><span class="string">can include line breaks.`</span> <span class="comment">// åŒæ ·çš„å­—ç¬¦ä¸²ç±»å‹ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é ASCII å­—é¢é‡ã€‚Go æºä»£ç æ˜¯ UTF-8ã€‚</span></span><br><span class="line">g := <span class="string">'Î£'</span> <span class="comment">// rune ç±»å‹ï¼Œæ˜¯ int32 çš„åˆ«åï¼Œä¿å­˜ä¸€ä¸ª unicode ç ç‚¹ã€‚</span></span><br><span class="line"></span><br><span class="line">f := <span class="number">3.14159</span> <span class="comment">// float64ï¼ŒIEEE-754 64 ä½æµ®ç‚¹æ•°ã€‚</span></span><br><span class="line">c := <span class="number">3</span> + <span class="number">4i</span>  <span class="comment">// complex128ï¼Œå†…éƒ¨ç”¨ä¸¤ä¸ª float64 è¡¨ç¤ºã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦æœ‰åˆå§‹åŒ–å™¨çš„ var è¯­æ³•ã€‚</span></span><br><span class="line"><span class="keyword">var</span> u <span class="type">uint</span> = <span class="number">7</span> <span class="comment">// æ— ç¬¦å·ï¼Œä½†å®ç°ä¾èµ–äºå¤§å°ï¼Œä¸ int ä¸€æ ·ã€‚</span></span><br><span class="line"><span class="keyword">var</span> pi <span class="type">float32</span> = <span class="number">22.</span> / <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æ¢è¯­æ³•ä¸çŸ­å£°æ˜ã€‚</span></span><br><span class="line">n := <span class="type">byte</span>(<span class="string">'\n'</span>) <span class="comment">// byte æ˜¯ uint8 çš„åˆ«åã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶å›ºå®šã€‚</span></span><br><span class="line"><span class="keyword">var</span> a4 [<span class="number">4</span>]<span class="type">int</span>                    <span class="comment">// ä¸€ä¸ªåŒ…å« 4 ä¸ª int çš„æ•°ç»„ï¼Œåˆå§‹åŒ–ä¸ºå…¨ 0ã€‚</span></span><br><span class="line">a5 := [...]<span class="type">int</span>{<span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">100</span>} <span class="comment">// ä¸€ä¸ªåˆå§‹åŒ–ä¸ºå›ºå®šå¤§å°ä¸ºäº”çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">// å…ƒç´ ï¼Œå€¼ä¸º 3ï¼Œ1ï¼Œ5ï¼Œ10 å’Œ 100ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„å…·æœ‰å€¼è¯­ä¹‰ã€‚</span></span><br><span class="line">a4_cpy := a4                    <span class="comment">// a4_cpy æ˜¯ a4 çš„å‰¯æœ¬ï¼Œä¸¤ä¸ªç‹¬ç«‹çš„å®ä¾‹ã€‚</span></span><br><span class="line">a4_cpy[<span class="number">0</span>] = <span class="number">25</span>                  <span class="comment">// åªæœ‰ a4_cpy è¢«æ›´æ”¹ï¼Œa4 ä¿æŒä¸å˜ã€‚</span></span><br><span class="line">fmt.Println(a4_cpy[<span class="number">0</span>] == a4[<span class="number">0</span>]) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡ç‰‡å…·æœ‰åŠ¨æ€å¤§å°ã€‚æ•°ç»„å’Œåˆ‡ç‰‡å„æœ‰ä¼˜ç¼ºç‚¹</span></span><br><span class="line"><span class="comment">// ä½†åˆ‡ç‰‡çš„ä½¿ç”¨åœºæ™¯æ›´ä¸ºå¸¸è§ã€‚</span></span><br><span class="line">s3 := []<span class="type">int</span>{<span class="number">4</span>, <span class="number">5</span>, <span class="number">9</span>}    <span class="comment">// ä¸ a5 ç›¸æ¯”ã€‚è¿™é‡Œæ²¡æœ‰çœç•¥å·ã€‚</span></span><br><span class="line">s4 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">4</span>)    <span class="comment">// åˆ†é… 4 ä¸ª int çš„åˆ‡ç‰‡ï¼Œåˆå§‹åŒ–ä¸ºå…¨ 0ã€‚</span></span><br><span class="line"><span class="keyword">var</span> d2 [][]<span class="type">float64</span>      <span class="comment">// ä»…å£°æ˜ï¼Œæ²¡æœ‰åˆ†é…ä»»ä½•å†…å®¹ã€‚</span></span><br><span class="line">bs := []<span class="type">byte</span>(<span class="string">"a slice"</span>) <span class="comment">// ç±»å‹è½¬æ¢è¯­æ³•ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡ç‰‡ï¼ˆä»¥åŠæ˜ å°„å’Œé€šé“ï¼‰å…·æœ‰å¼•ç”¨è¯­ä¹‰ã€‚</span></span><br><span class="line">s3_cpy := s3                    <span class="comment">// ä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå®ä¾‹ã€‚</span></span><br><span class="line">s3_cpy[<span class="number">0</span>] = <span class="number">0</span>                   <span class="comment">// è¿™æ„å‘³ç€ä¸¤ä¸ªéƒ½è¢«æ›´æ–°ã€‚</span></span><br><span class="line">fmt.Println(s3_cpy[<span class="number">0</span>] == s3[<span class="number">0</span>]) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å› ä¸ºå®ƒä»¬æ˜¯åŠ¨æ€çš„ï¼Œåˆ‡ç‰‡å¯ä»¥æŒ‰éœ€è¿½åŠ ã€‚</span></span><br><span class="line"><span class="comment">// è¦å‘åˆ‡ç‰‡è¿½åŠ å…ƒç´ ï¼Œä½¿ç”¨å†…ç½®çš„ append() å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬è¦è¿½åŠ çš„åˆ‡ç‰‡ã€‚é€šå¸¸ï¼Œ</span></span><br><span class="line"><span class="comment">// åˆ‡ç‰‡å˜é‡å°±åœ°æ›´æ–°ï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹ã€‚</span></span><br><span class="line">s := []<span class="type">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}    <span class="comment">// ç»“æœæ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„åˆ‡ç‰‡ã€‚</span></span><br><span class="line">s = <span class="built_in">append</span>(s, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>) <span class="comment">// æ·»åŠ äº† 3 ä¸ªå…ƒç´ ã€‚åˆ‡ç‰‡ç°åœ¨çš„é•¿åº¦ä¸º 6ã€‚</span></span><br><span class="line">fmt.Println(s)         <span class="comment">// æ›´æ–°åçš„åˆ‡ç‰‡ç°åœ¨æ˜¯ [1 2 3 4 5 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦è¿½åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè€Œä¸æ˜¯åŸå­å…ƒç´ çš„åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥</span></span><br><span class="line"><span class="comment">// ä¼ é€’å¯¹åˆ‡ç‰‡çš„å¼•ç”¨æˆ–åƒè¿™æ ·å¸¦æœ‰å°¾éšçœç•¥å·çš„åˆ‡ç‰‡å­—é¢é‡ï¼Œ</span></span><br><span class="line"><span class="comment">// æ„æ€æ˜¯å–ä¸€ä¸ªåˆ‡ç‰‡å¹¶å±•å¼€å…¶å…ƒç´ ï¼Œ</span></span><br><span class="line"><span class="comment">// å°†å®ƒä»¬è¿½åŠ åˆ°åˆ‡ç‰‡ sã€‚</span></span><br><span class="line">s = <span class="built_in">append</span>(s, []<span class="type">int</span>{<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>}...) <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆ‡ç‰‡å­—é¢é‡ã€‚</span></span><br><span class="line">fmt.Println(s)                   <span class="comment">// æ›´æ–°åçš„åˆ‡ç‰‡ç°åœ¨æ˜¯ [1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"></span><br><span class="line">p, q := learnMemory() <span class="comment">// å£°æ˜ pï¼Œq ä¸ºæŒ‡å‘ int çš„æŒ‡é’ˆã€‚</span></span><br><span class="line">fmt.Println(*p, *q)   <span class="comment">// * åè·ŸæŒ‡é’ˆã€‚è¿™å°†æ‰“å°ä¸¤ä¸ª intã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜ å°„æ˜¯åŠ¨æ€å¯å¢é•¿çš„å…³è”æ•°ç»„ç±»å‹ï¼Œç±»ä¼¼äºæŸäº›å…¶ä»–è¯­è¨€çš„</span></span><br><span class="line"><span class="comment">// å“ˆå¸Œæˆ–å­—å…¸ç±»å‹ã€‚</span></span><br><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>{<span class="string">"three"</span>: <span class="number">3</span>, <span class="string">"four"</span>: <span class="number">4</span>}</span><br><span class="line">m[<span class="string">"one"</span>] = <span class="number">1</span></span><br><span class="line"><span class="comment">// æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨äºæ˜ å°„ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</span></span><br><span class="line"><span class="keyword">if</span> val, ok := m[<span class="string">"one"</span>]; ok {</span><br><span class="line"><span class="comment">// åšä¸€äº›äº‹æƒ…</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœªä½¿ç”¨çš„å˜é‡åœ¨ Go ä¸­æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment">// ä¸‹åˆ’çº¿è®©ä½ "ä½¿ç”¨"ä¸€ä¸ªå˜é‡ä½†ä¸¢å¼ƒå…¶å€¼ã€‚</span></span><br><span class="line">_, _, _, _, _, _, _, _, _, _ = str, s2, g, f, u, pi, n, a5, s4, bs</span><br><span class="line"><span class="comment">// é€šå¸¸ä½ ç”¨å®ƒæ¥å¿½ç•¥å‡½æ•°çš„è¿”å›å€¼ä¹‹ä¸€</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå¿«é€Ÿè€Œè‚®è„çš„è„šæœ¬ä¸­ï¼Œä½ å¯èƒ½ä¼šå¿½ç•¥</span></span><br><span class="line"><span class="comment">// ä» os.Create è¿”å›çš„é”™è¯¯å€¼ï¼Œå¹¶æœŸæœ›æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// æ€»æ˜¯ä¼šè¢«åˆ›å»ºã€‚</span></span><br><span class="line">file, _ := os.Create(<span class="string">"output.txt"</span>)</span><br><span class="line">fmt.Fprint(file, <span class="string">"è¿™å°±æ˜¯ä½ å¦‚ä½•å†™å…¥æ–‡ä»¶ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹"</span>)</span><br><span class="line">file.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ç„¶ï¼Œè¾“å‡ºä¹Ÿç®—ä½œä½¿ç”¨ä¸€ä¸ªå˜é‡ã€‚</span></span><br><span class="line">fmt.Println(s, c, a4, s3, d2, m)</span><br><span class="line"></span><br><span class="line">learnFlowControl() <span class="comment">// å›åˆ°æµç¨‹æ§åˆ¶ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è®¸å¤šå…¶ä»–è¯­è¨€ä¸­ï¼ŒGo ä¸­çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// å¯ä»¥æœ‰å‘½åè¿”å›å€¼ã€‚</span></span><br><span class="line"><span class="comment">// åœ¨å‡½æ•°å£°æ˜è¡Œä¸­ä¸ºè¿”å›çš„ç±»å‹åˆ†é…ä¸€ä¸ªåç§°</span></span><br><span class="line"><span class="comment">// å…è®¸æˆ‘ä»¬è½»æ¾åœ°ä»å‡½æ•°ä¸­çš„å¤šä¸ªç‚¹è¿”å›ï¼Œä»¥åŠ</span></span><br><span class="line"><span class="comment">// åªä½¿ç”¨ return å…³é”®å­—ï¼Œè€Œä¸éœ€è¦å…¶ä»–å†…å®¹ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnNamedReturns</span><span class="params">(x, y <span class="type">int</span>)</span></span> (z <span class="type">int</span>) {</span><br><span class="line">z = x * y</span><br><span class="line"><span class="keyword">return</span> <span class="comment">// z åœ¨è¿™é‡Œæ˜¯éšå¼çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹å‰å‘½åäº†å®ƒã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// Go æ˜¯å®Œå…¨åƒåœ¾å›æ”¶çš„ã€‚å®ƒæœ‰æŒ‡é’ˆä½†æ²¡æœ‰æŒ‡é’ˆè¿ç®—ã€‚</span></span><br><span class="line"><span class="comment">// ä½ å¯ä»¥çŠ¯ä¸€ä¸ª nil æŒ‡é’ˆçš„é”™è¯¯ï¼Œä½†ä¸ä¼šé€šè¿‡é€’å¢æŒ‡é’ˆã€‚</span></span><br><span class="line"><span class="comment">// ä¸ C/C++ ä¸åŒï¼Œè·å–å’Œè¿”å›å±€éƒ¨å˜é‡çš„åœ°å€ä¹Ÿæ˜¯å®‰å…¨çš„ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnMemory</span><span class="params">()</span></span> (p, q *<span class="type">int</span>) {</span><br><span class="line"><span class="comment">// å‘½åè¿”å›å€¼ p å’Œ q çš„ç±»å‹æ˜¯æŒ‡å‘ int çš„æŒ‡é’ˆã€‚</span></span><br><span class="line">p = <span class="built_in">new</span>(<span class="type">int</span>) <span class="comment">// å†…ç½®å‡½æ•° new åˆ†é…å†…å­˜ã€‚</span></span><br><span class="line"><span class="comment">// åˆ†é…çš„ int åˆ‡ç‰‡åˆå§‹åŒ–ä¸º 0ï¼Œp ä¸å†æ˜¯ nilã€‚</span></span><br><span class="line">s := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">20</span>) <span class="comment">// åˆ†é… 20 ä¸ª int ä½œä¸ºä¸€å—å†…å­˜ã€‚</span></span><br><span class="line">s[<span class="number">3</span>] = <span class="number">7</span>             <span class="comment">// èµ‹å€¼å…¶ä¸­ä¸€ä¸ªã€‚</span></span><br><span class="line">r := <span class="number">-2</span>              <span class="comment">// å£°æ˜å¦ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚</span></span><br><span class="line"><span class="keyword">return</span> &amp;s[<span class="number">3</span>], &amp;r     <span class="comment">// &amp; è·å–å¯¹è±¡çš„åœ°å€ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨åˆ«åæ•°å­¦åº“ï¼ˆè§ä¸Šé¢çš„å¯¼å…¥ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">expensiveComputation</span><span class="params">()</span></span> <span class="type">float64</span> {</span><br><span class="line"><span class="keyword">return</span> m.Exp(<span class="number">10</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnFlowControl</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// å¦‚æœè¯­å¥éœ€è¦å¤§æ‹¬å·ï¼Œå¹¶ä¸”ä¸éœ€è¦æ‹¬å·ã€‚</span></span><br><span class="line"><span class="keyword">if</span> <span class="literal">true</span> {</span><br><span class="line">fmt.Println(<span class="string">"æˆ‘å‘Šè¯‰è¿‡ä½ "</span>)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ ¼å¼åŒ–ç”±å‘½ä»¤è¡Œå‘½ä»¤ "go fmt" æ ‡å‡†åŒ–ã€‚</span></span><br><span class="line"><span class="keyword">if</span> <span class="literal">false</span> {</span><br><span class="line"><span class="comment">// å‘œå‘œã€‚</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line"><span class="comment">// å¾—æ„ã€‚</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// ä½¿ç”¨ switch ä¼˜å…ˆäºé“¾å¼ if è¯­å¥ã€‚</span></span><br><span class="line">x := <span class="number">42.0</span></span><br><span class="line"><span class="keyword">switch</span> x {</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>, <span class="number">2</span>: <span class="comment">// å¯ä»¥åœ¨ä¸€ä¸ª case ä¸­æœ‰å¤šä¸ªåŒ¹é…</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">42</span>:</span><br><span class="line"><span class="comment">// case ä¸ä¼š"ç©¿é€"ã€‚</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç„¶è€Œï¼Œæœ‰ä¸€ä¸ª `fallthrough` å…³é”®å­—ï¼Œè§ï¼š</span></span><br><span class="line"><span class="comment">https://go.dev/wiki/Switch#fall-through</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">43</span>:</span><br><span class="line"><span class="comment">// æœªåˆ°è¾¾ã€‚</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="comment">// é»˜è®¤æƒ…å†µæ˜¯å¯é€‰çš„ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å‹å¼€å…³å…è®¸æ ¹æ®æŸä¸ªä¸œè¥¿çš„ç±»å‹è€Œä¸æ˜¯å€¼è¿›è¡Œåˆ‡æ¢</span></span><br><span class="line"><span class="keyword">var</span> data <span class="keyword">interface</span>{}</span><br><span class="line">data = <span class="string">""</span></span><br><span class="line"><span class="keyword">switch</span> c := data.(<span class="keyword">type</span>) {</span><br><span class="line"><span class="keyword">case</span> <span class="type">string</span>:</span><br><span class="line">fmt.Println(c, <span class="string">"æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="type">int64</span>:</span><br><span class="line">fmt.Printf(<span class="string">"%d æ˜¯ä¸€ä¸ª int64\n"</span>, c)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="comment">// æ‰€æœ‰å…¶ä»–æƒ…å†µ</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ if ä¸€æ ·ï¼Œfor ä¹Ÿä¸ä½¿ç”¨æ‹¬å·ã€‚</span></span><br><span class="line"><span class="comment">// åœ¨ for å’Œ if ä¸­å£°æ˜çš„å˜é‡æ˜¯å±€éƒ¨çš„ã€‚</span></span><br><span class="line"><span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">3</span>; x++ { <span class="comment">// ++ æ˜¯ä¸€ä¸ªè¯­å¥ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"è¿­ä»£"</span>, x)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// x == 42 åœ¨è¿™é‡Œã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for æ˜¯ Go ä¸­å”¯ä¸€çš„å¾ªç¯è¯­å¥ï¼Œä½†å®ƒæœ‰æ›¿ä»£å½¢å¼ã€‚</span></span><br><span class="line"><span class="keyword">for</span> { <span class="comment">// æ— é™å¾ªç¯ã€‚</span></span><br><span class="line"><span class="keyword">break</span>    <span class="comment">// å¼€ç©ç¬‘çš„ã€‚</span></span><br><span class="line"><span class="keyword">continue</span> <span class="comment">// æœªåˆ°è¾¾ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½ å¯ä»¥ä½¿ç”¨ range éå†æ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€æ˜ å°„æˆ–é€šé“ã€‚</span></span><br><span class="line"><span class="comment">// range è¿”å›ä¸€ä¸ªï¼ˆé€šé“ï¼‰æˆ–ä¸¤ä¸ªå€¼ï¼ˆæ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²å’Œæ˜ å°„ï¼‰ã€‚</span></span><br><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span>{<span class="string">"one"</span>: <span class="number">1</span>, <span class="string">"two"</span>: <span class="number">2</span>, <span class="string">"three"</span>: <span class="number">3</span>} {</span><br><span class="line"><span class="comment">// å¯¹äºæ˜ å°„ä¸­çš„æ¯ä¸€å¯¹ï¼Œæ‰“å°é”®å’Œå€¼</span></span><br><span class="line">fmt.Printf(<span class="string">"key=%s, value=%d\n"</span>, key, value)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// å¦‚æœä½ åªéœ€è¦å€¼ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿ä½œä¸ºé”®</span></span><br><span class="line"><span class="keyword">for</span> _, name := <span class="keyword">range</span> []<span class="type">string</span>{<span class="string">"Bob"</span>, <span class="string">"Bill"</span>, <span class="string">"Joe"</span>} {</span><br><span class="line">fmt.Printf(<span class="string">"ä½ å¥½ï¼Œ%s\n"</span>, name)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ for ä¸€æ ·ï¼Œ:= åœ¨ if è¯­å¥ä¸­æ„å‘³ç€å…ˆå£°æ˜å¹¶èµ‹å€¼</span></span><br><span class="line"><span class="comment">// yï¼Œç„¶åæµ‹è¯• y &gt; xã€‚</span></span><br><span class="line"><span class="keyword">if</span> y := expensiveComputation(); y &gt; x {</span><br><span class="line">x = y</span><br><span class="line">}</span><br><span class="line"><span class="comment">// å‡½æ•°å­—é¢é‡æ˜¯é—­åŒ…ã€‚</span></span><br><span class="line">xBig := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">bool</span> {</span><br><span class="line"><span class="keyword">return</span> x &gt; <span class="number">10000</span> <span class="comment">// å¼•ç”¨ä¸Šé¢ switch è¯­å¥ä¸­å£°æ˜çš„ xã€‚</span></span><br><span class="line">}</span><br><span class="line">x = <span class="number">99999</span></span><br><span class="line">fmt.Println(<span class="string">"xBig:"</span>, xBig()) <span class="comment">// true</span></span><br><span class="line">x = <span class="number">1.3e3</span>                    <span class="comment">// è¿™ä½¿å¾— x == 1300</span></span><br><span class="line">fmt.Println(<span class="string">"xBig:"</span>, xBig()) <span class="comment">// ç°åœ¨æ˜¯ falseã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´é‡è¦çš„æ˜¯ï¼Œå‡½æ•°å­—é¢é‡å¯ä»¥åœ¨çº¿å®šä¹‰å’Œè°ƒç”¨ï¼Œ</span></span><br><span class="line"><span class="comment">// ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œåªè¦ï¼š</span></span><br><span class="line"><span class="comment">// a) å‡½æ•°å­—é¢é‡ç«‹å³è°ƒç”¨ï¼ˆï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">// b) ç»“æœç±»å‹ä¸å‚æ•°çš„é¢„æœŸç±»å‹åŒ¹é…ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"åŠ  + ä¹˜ä»¥ä¸¤ä¸ªæ•°å­—ï¼š"</span>,</span><br><span class="line"><span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> {</span><br><span class="line"><span class="keyword">return</span> (a + b) * <span class="number">2</span></span><br><span class="line">}(<span class="number">10</span>, <span class="number">2</span>)) <span class="comment">// ç”¨å‚æ•° 10 å’Œ 2 è°ƒç”¨</span></span><br><span class="line"><span class="comment">// =&gt; åŠ  + ä¹˜ä»¥ä¸¤ä¸ªæ•°å­—ï¼š24</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ä½ éœ€è¦å®ƒæ—¶ï¼Œä½ ä¼šå–œæ¬¢å®ƒã€‚</span></span><br><span class="line"><span class="keyword">goto</span> love</span><br><span class="line">love:</span><br><span class="line"></span><br><span class="line">learnFunctionFactory() <span class="comment">// func è¿”å› func æ˜¯æœ‰è¶£çš„(3)(3)</span></span><br><span class="line">learnDefer()      <span class="comment">// ä¸€ä¸ªå¿«é€Ÿçš„ç»•é“åˆ°ä¸€ä¸ªé‡è¦çš„å…³é”®å­—ã€‚</span></span><br><span class="line">learnInterfaces() <span class="comment">// å¥½ä¸œè¥¿å³å°†åˆ°æ¥ï¼</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnFunctionFactory</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæ˜¯ç­‰æ•ˆçš„ï¼Œç¬¬äºŒä¸ªæ›´å®ç”¨</span></span><br><span class="line">fmt.Println(sentenceFactory(<span class="string">"summer"</span>)(<span class="string">"ä¸€ä¸ªç¾ä¸½çš„"</span>, <span class="string">"æ—¥å­ï¼"</span>))</span><br><span class="line"></span><br><span class="line">d := sentenceFactory(<span class="string">"summer"</span>)</span><br><span class="line">fmt.Println(d(<span class="string">"ä¸€ä¸ªç¾ä¸½çš„"</span>, <span class="string">"æ—¥å­ï¼"</span>))</span><br><span class="line">fmt.Println(d(<span class="string">"ä¸€ä¸ªæ‡’æƒ°çš„"</span>, <span class="string">"ä¸‹åˆï¼"</span>))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// è£…é¥°å™¨åœ¨å…¶ä»–è¯­è¨€ä¸­å¾ˆå¸¸è§ã€‚Go ä¸­ä¹Ÿå¯ä»¥åšåˆ°</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¥å—å‚æ•°çš„å‡½æ•°å­—é¢é‡ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sentenceFactory</span><span class="params">(mystring <span class="type">string</span>)</span></span> <span class="function"><span class="keyword">func</span><span class="params">(before, after <span class="type">string</span>)</span></span> <span class="type">string</span> {</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(before, after <span class="type">string</span>)</span></span> <span class="type">string</span> {</span><br><span class="line"><span class="keyword">return</span> fmt.Sprintf(<span class="string">"%s %s %s"</span>, before, mystring, after) <span class="comment">// æ–°å­—ç¬¦ä¸²</span></span><br><span class="line">}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//defer-åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰é¡ºåºæ‰§è¡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnDefer</span><span class="params">()</span></span> (ok <span class="type">bool</span>) {</span><br><span class="line"><span class="comment">// defer è¯­å¥å°†å‡½æ•°è°ƒç”¨æ¨é€åˆ°åˆ—è¡¨ä¸­ã€‚ä¿å­˜çš„</span></span><br><span class="line"><span class="comment">// è°ƒç”¨åˆ—è¡¨åœ¨å‘¨å›´çš„å‡½æ•°è¿”å›åæ‰§è¡Œã€‚</span></span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">"å»¶è¿Ÿè¯­å¥ä»¥ç›¸åçš„é¡ºåºæ‰§è¡Œï¼ˆLIFOï¼‰ã€‚"</span>)</span><br><span class="line"><span class="keyword">defer</span> fmt.Println(<span class="string">"\nè¿™ä¸€è¡Œé¦–å…ˆè¢«æ‰“å°ï¼Œå› ä¸º"</span>)</span><br><span class="line"><span class="comment">// defer é€šå¸¸ç”¨äºå…³é—­æ–‡ä»¶ï¼Œå› æ­¤å…³é—­æ–‡ä»¶çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// ä¿æŒåœ¨æ‰“å¼€æ–‡ä»¶çš„å‡½æ•°é™„è¿‘ã€‚</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ Stringer ä½œä¸ºå…·æœ‰ä¸€ä¸ªæ–¹æ³• String çš„æ¥å£ç±»å‹ã€‚</span></span><br><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> {</span><br><span class="line">String() <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ pair ä½œä¸ºå…·æœ‰ä¸¤ä¸ªå­—æ®µçš„ç»“æ„ä½“ï¼Œå‘½åä¸º x å’Œ y çš„ intã€‚</span></span><br><span class="line"><span class="keyword">type</span> pair <span class="keyword">struct</span> {</span><br><span class="line">x, y <span class="type">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ç±»å‹ pair ä¸Šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ã€‚Pair ç°åœ¨å®ç°äº† Stringerï¼Œå› ä¸º Pair å®šä¹‰äº†æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p pair)</span></span> String() <span class="type">string</span> { <span class="comment">// p è¢«ç§°ä¸º"æ¥æ”¶è€…"</span></span><br><span class="line"><span class="comment">// Sprintf æ˜¯ fmt åŒ…ä¸­çš„å¦ä¸€ä¸ªå…¬å…±å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">// ç‚¹è¯­æ³•å¼•ç”¨ p çš„å­—æ®µã€‚</span></span><br><span class="line"><span class="keyword">return</span> fmt.Sprintf(<span class="string">"(%d, %d)"</span>, p.x, p.y)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnInterfaces</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// å¤§æ‹¬å·è¯­æ³•æ˜¯"ç»“æ„å­—é¢é‡"ã€‚å®ƒè®¡ç®—ä¸ºåˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">// ç»“æ„ã€‚:= è¯­æ³•å£°æ˜å¹¶åˆå§‹åŒ– p ä¸ºæ­¤ç»“æ„ã€‚</span></span><br><span class="line">p := pair{<span class="number">3</span>, <span class="number">4</span>}</span><br><span class="line">fmt.Println(p.String()) <span class="comment">// è°ƒç”¨ç±»å‹ä¸º pair çš„ p çš„ String æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="keyword">var</span> i Stringer          <span class="comment">// å£°æ˜ i ä¸ºæ¥å£ç±»å‹ Stringerã€‚</span></span><br><span class="line">i = p                   <span class="comment">// æœ‰æ•ˆï¼Œå› ä¸º pair å®ç°äº† Stringer</span></span><br><span class="line"><span class="comment">// è°ƒç”¨ç±»å‹ä¸º Stringer çš„ i çš„ String æ–¹æ³•ã€‚è¾“å‡ºä¸ä¸Šé¢ç›¸åŒã€‚</span></span><br><span class="line">fmt.Println(i.String())</span><br><span class="line"></span><br><span class="line"><span class="comment">// fmt åŒ…ä¸­çš„å‡½æ•°è°ƒç”¨ String æ–¹æ³•ä»¥è¯·æ±‚å¯¹è±¡</span></span><br><span class="line"><span class="comment">// çš„å¯æ‰“å°è¡¨ç¤ºã€‚</span></span><br><span class="line">fmt.Println(p) <span class="comment">// è¾“å‡ºä¸ä¸Šé¢ç›¸åŒã€‚Println è°ƒç”¨ String æ–¹æ³•ã€‚</span></span><br><span class="line">fmt.Println(i) <span class="comment">// è¾“å‡ºä¸ä¸Šé¢ç›¸åŒã€‚</span></span><br><span class="line"></span><br><span class="line">learnVariadicParams(<span class="string">"å¾ˆæ£’çš„"</span>, <span class="string">"å­¦ä¹ "</span>, <span class="string">"åœ¨è¿™é‡Œï¼"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°å¯ä»¥æœ‰å˜å‚ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnVariadicParams</span><span class="params">(myStrings ...any)</span></span> { <span class="comment">// any æ˜¯ interface{} çš„åˆ«å</span></span><br><span class="line"><span class="comment">// è¿­ä»£æ¯ä¸ªå˜å‚çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment">// è¿™é‡Œçš„ä¸‹åˆ’çº¿å¿½ç•¥äº†æ•°ç»„çš„ç´¢å¼•å‚æ•°ã€‚</span></span><br><span class="line"><span class="keyword">for</span> _, param := <span class="keyword">range</span> myStrings {</span><br><span class="line">fmt.Println(<span class="string">"å‚æ•°:"</span>, param)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å˜å‚å€¼ä½œä¸ºå˜å‚ä¼ é€’ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"å‚æ•°:"</span>, fmt.Sprintln(myStrings...))</span><br><span class="line"></span><br><span class="line">learnErrorHandling()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnErrorHandling</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// ", ok" ä¹ è¯­ç”¨äºå‘Šè¯‰æŸä»¶äº‹æƒ…æ˜¯å¦æˆåŠŸã€‚</span></span><br><span class="line">m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">string</span>{<span class="number">3</span>: <span class="string">"three"</span>, <span class="number">4</span>: <span class="string">"four"</span>}</span><br><span class="line"><span class="keyword">if</span> x, ok := m[<span class="number">1</span>]; !ok { <span class="comment">// ok å°†ä¸º falseï¼Œå› ä¸º 1 ä¸åœ¨æ˜ å°„ä¸­ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"æ²¡æœ‰äºº"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">fmt.Print(x) <span class="comment">// å¦‚æœ x åœ¨æ˜ å°„ä¸­ï¼Œå®ƒå°†æ˜¯å€¼ã€‚</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// é”™è¯¯å€¼ä¸ä»…ä¼ è¾¾"ok"ï¼Œè¿˜ä¼ è¾¾æ›´å¤šå…³äºé—®é¢˜çš„ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="keyword">if</span> _, err := strconv.Atoi(<span class="string">"éæ•´æ•°"</span>); err != <span class="literal">nil</span> { <span class="comment">// _ ä¸¢å¼ƒå€¼</span></span><br><span class="line"><span class="comment">// æ‰“å° 'strconv.ParseInt: parsing "non-int": invalid syntax'</span></span><br><span class="line">fmt.Println(err)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æˆ‘ä»¬ç¨åä¼šé‡æ–°è®¿é—®æ¥å£ã€‚ä¸æ­¤åŒæ—¶ï¼Œ</span></span><br><span class="line">learnConcurrency()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// c æ˜¯ä¸€ä¸ªé€šé“ï¼Œä¸€ä¸ªå¹¶å‘å®‰å…¨çš„é€šä¿¡å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">inc</span><span class="params">(i <span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> {</span><br><span class="line">c &lt;- i + <span class="number">1</span> <span class="comment">// &lt;- æ˜¯å½“é€šé“å‡ºç°åœ¨å·¦ä¾§æ—¶çš„"å‘é€"è¿ç®—ç¬¦ã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬å°†ä½¿ç”¨ inc æ¥å¹¶å‘åœ°é€’å¢ä¸€äº›æ•°å­—ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnConcurrency</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// ä¸ä¹‹å‰ç”¨äºåˆ›å»ºåˆ‡ç‰‡çš„ make å‡½æ•°ç›¸åŒã€‚Make åˆ†é…å’Œ</span></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–åˆ‡ç‰‡ã€æ˜ å°„å’Œé€šé“ã€‚</span></span><br><span class="line">c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line"><span class="comment">// å¯åŠ¨ä¸‰ä¸ªå¹¶å‘çš„ goroutineã€‚æ•°å­—å°†è¢«é€’å¢</span></span><br><span class="line"><span class="comment">// å¹¶å‘åœ°ï¼Œå¯èƒ½åœ¨æœºå™¨èƒ½å¤Ÿå¹¶ä¸”</span></span><br><span class="line"><span class="comment">// æ­£ç¡®é…ç½®çš„æƒ…å†µä¸‹å¹¶è¡Œã€‚æ‰€æœ‰ä¸‰ä¸ªå‘é€åˆ°åŒä¸€ä¸ªé€šé“ã€‚</span></span><br><span class="line"><span class="keyword">go</span> inc(<span class="number">0</span>, c) <span class="comment">// go æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œå¯åŠ¨ä¸€ä¸ªæ–°çš„ goroutineã€‚</span></span><br><span class="line"><span class="keyword">go</span> inc(<span class="number">10</span>, c)</span><br><span class="line"><span class="keyword">go</span> inc(<span class="number">-805</span>, c)</span><br><span class="line"><span class="comment">// ä»é€šé“è¯»å–ä¸‰ä¸ªç»“æœå¹¶æ‰“å°å®ƒä»¬ã€‚</span></span><br><span class="line"><span class="comment">// æ²¡æœ‰åŠæ³•çŸ¥é“ç»“æœå°†ä»¥ä»€ä¹ˆé¡ºåºåˆ°è¾¾ï¼</span></span><br><span class="line">fmt.Println(&lt;-c, &lt;-c, &lt;-c) <span class="comment">// é€šé“åœ¨å³ä¾§ï¼Œ&lt;- æ˜¯"æ¥æ”¶"è¿ç®—ç¬¦ã€‚</span></span><br><span class="line"></span><br><span class="line">cs := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)       <span class="comment">// å¦ä¸€ä¸ªé€šé“ï¼Œè¿™ä¸ªå¤„ç†å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line">ccs := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">chan</span> <span class="type">string</span>) <span class="comment">// ä¸€ä¸ªå­—ç¬¦ä¸²é€šé“çš„é€šé“ã€‚</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> { c &lt;- <span class="number">84</span> }()       <span class="comment">// å¯åŠ¨ä¸€ä¸ªæ–°çš„ goroutine ä»…ä»…å‘é€ä¸€ä¸ªå€¼ã€‚</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> { cs &lt;- <span class="string">"wordy"</span> }() <span class="comment">// å†æ¬¡ï¼Œä¸º cs è¿™æ¬¡ã€‚</span></span><br><span class="line"><span class="comment">// select çš„è¯­æ³•ç±»ä¼¼äº switch è¯­å¥ï¼Œä½†æ¯ä¸ª case æ¶‰åŠ</span></span><br><span class="line"><span class="comment">// é€šé“æ“ä½œã€‚å®ƒéšæœºé€‰æ‹©å‡†å¤‡é€šä¿¡çš„ caseã€‚</span></span><br><span class="line"><span class="keyword">select</span> {</span><br><span class="line"><span class="keyword">case</span> i := &lt;-c: <span class="comment">// æ¥æ”¶åˆ°çš„å€¼å¯ä»¥åˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼Œ</span></span><br><span class="line">fmt.Printf(<span class="string">"å®ƒæ˜¯ä¸€ä¸ª %T"</span>, i)</span><br><span class="line"><span class="keyword">case</span> &lt;-cs: <span class="comment">// æˆ–è€…æ¥æ”¶åˆ°çš„å€¼å¯ä»¥è¢«ä¸¢å¼ƒã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²"</span>)</span><br><span class="line"><span class="keyword">case</span> &lt;-ccs: <span class="comment">// ç©ºé€šé“ï¼Œæœªå‡†å¤‡å¥½é€šä¿¡ã€‚</span></span><br><span class="line">fmt.Println(<span class="string">"æ²¡æœ‰å‘ç”Ÿã€‚"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ­¤æ—¶ï¼Œä» c æˆ– cs ä¸­å–å‡ºäº†ä¸€ä¸ªå€¼ã€‚ä¸Šé¢å¯åŠ¨çš„ä¸¤ä¸ª</span></span><br><span class="line"><span class="comment">// goroutine ä¸­çš„ä¸€ä¸ªå·²ç»å®Œæˆï¼Œå¦ä¸€ä¸ªå°†ä¿æŒé˜»å¡ã€‚</span></span><br><span class="line"></span><br><span class="line">learnWebProgramming() <span class="comment">// Go åšåˆ°äº†ã€‚ä½ ä¹Ÿæƒ³è¿™æ ·åšã€‚</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// package http ä¸­çš„ä¸€ä¸ªå•ä¸€å‡½æ•°å¯åŠ¨ä¸€ä¸ªç½‘ç»œæœåŠ¡å™¨ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnWebProgramming</span><span class="params">()</span></span> {</span><br><span class="line"><span class="comment">// ListenAndServe çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„ TCP åœ°å€ã€‚</span></span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ¥å£ï¼Œç‰¹åˆ«æ˜¯ http.Handlerã€‚</span></span><br><span class="line"><span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> {</span><br><span class="line">err := http.ListenAndServe(<span class="string">":8080"</span>, pair{})</span><br><span class="line">fmt.Println(err) <span class="comment">// ä¸è¦å¿½ç•¥é”™è¯¯</span></span><br><span class="line">}()</span><br><span class="line"></span><br><span class="line">requestServer()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å®ç°å…¶å”¯ä¸€æ–¹æ³• ServeHTTPï¼Œä½¿ pair æˆä¸º http.Handlerã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p pair)</span></span> ServeHTTP(w http.ResponseWriter, r *http.Request) {</span><br><span class="line"><span class="comment">// ä½¿ç”¨ http.ResponseWriter çš„æ–¹æ³•æä¾›æ•°æ®ã€‚</span></span><br><span class="line">w.Write([]<span class="type">byte</span>(<span class="string">"ä½ åœ¨ Y åˆ†é’Ÿå†…å­¦ä¼šäº† Goï¼"</span>))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">requestServer</span><span class="params">()</span></span>{</span><br><span class="line"><span class="comment">//å‡½æ•°å‘ http://localhost:8080 å‘é€ä¸€ä¸ª GET è¯·æ±‚ã€‚</span></span><br><span class="line">resp,err := http.Get(<span class="string">"http://localhost:8080"</span>)</span><br><span class="line">fmt.Println(err)</span><br><span class="line"><span class="keyword">defer</span> resp.Body.Close()<span class="comment">//åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åå…³é—­è¯·æ±‚</span></span><br><span class="line"><span class="comment">//è¯»å– resp.Body ä¸­çš„æ‰€æœ‰å†…å®¹-å“åº”ä½“</span></span><br><span class="line">body,err := io.ReadAll(resp.Body)</span><br><span class="line">fmt.Printf(<span class="string">"\nWebserver è¯´: `%s`"</span>, <span class="type">string</span>(body))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="éš¾ç‚¹è§£æğŸ’¡"><a href="#éš¾ç‚¹è§£æğŸ’¡" class="headerlink" title="éš¾ç‚¹è§£æğŸ’¡"></a>éš¾ç‚¹è§£æğŸ’¡</h3><h4 id="ä¸€ã€è£…é¥°å™¨"><a href="#ä¸€ã€è£…é¥°å™¨" class="headerlink" title="ä¸€ã€è£…é¥°å™¨"></a>ä¸€ã€è£…é¥°å™¨</h4><blockquote><p><strong>è£…é¥°å™¨çš„æ¦‚å¿µï¼š</strong></p><ul><li><strong>è£…é¥°å™¨ï¼ˆDecoratorï¼‰</strong> æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œç›®çš„æ˜¯åœ¨ä¸æ”¹å˜åŸæœ‰å‡½æ•°çš„æƒ…å†µä¸‹å¯¹å…¶åŠŸèƒ½è¿›è¡Œæ‰©å±•æˆ–ä¿®æ”¹ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œé€šè¿‡é—­åŒ…å¯ä»¥å®ç°ç±»ä¼¼è£…é¥°å™¨çš„åŠŸèƒ½ã€‚</li><li>åœ¨æœ¬ä¾‹ä¸­ï¼Œ<code>sentenceFactory</code> å°±æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ï¼Œå®ƒå°†ä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²ï¼ˆ<code>mystring</code>ï¼‰å’Œä¼ å…¥çš„å‚æ•°ç»„åˆæˆæ–°çš„å¥å­ã€‚</li></ul></blockquote><ol><li><h5 id="sentenceFactory-å‡½æ•°å·¥å‚ï¼š"><a href="#sentenceFactory-å‡½æ•°å·¥å‚ï¼š" class="headerlink" title="sentenceFactory å‡½æ•°å·¥å‚ï¼š"></a><strong><code>sentenceFactory</code> å‡½æ•°å·¥å‚ï¼š</strong></h5><p><code>sentenceFactory</code> æ˜¯ä¸€ä¸ªå‡½æ•°å·¥å‚ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆå¦‚ <code>"summer"</code>ï¼‰å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªè¿”å›çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•° <code>before</code> å’Œ <code>after</code>ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sentenceFactory</span><span class="params">(mystring <span class="type">string</span>)</span></span> <span class="function"><span class="keyword">func</span><span class="params">(before, after <span class="type">string</span>)</span></span> <span class="type">string</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(before, after <span class="type">string</span>)</span></span> <span class="type">string</span> {</span><br><span class="line">        <span class="keyword">return</span> fmt.Sprintf(<span class="string">"%s %s %s"</span>, before, mystring, after)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™ä¸ªå‡½æ•°å·¥å‚çš„æ ¸å¿ƒæ˜¯ï¼š</p><ul><li>å®ƒè¿”å›ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ˆä¹Ÿå«åšé—­åŒ…ï¼‰ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°æ¥å—ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•° <code>before</code> å’Œ <code>after</code>ï¼Œå¹¶é€šè¿‡ <code>fmt.Sprintf</code> æ ¼å¼åŒ–å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</li><li>åœ¨æ ¼å¼åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œ<code>mystring</code> æ˜¯å‡½æ•°å·¥å‚çš„è¾“å…¥å‚æ•°ï¼Œä»£è¡¨å›ºå®šçš„ä¸€éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚<code>before</code> å’Œ <code>after</code> åˆ™æ˜¯è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ä¼ å…¥çš„å‚æ•°ã€‚</li></ul></li><li><p><strong><code>learnFunctionFactory</code> ä½¿ç”¨ï¼š</strong></p><p><code>learnFunctionFactory</code> å‡½æ•°æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>sentenceFactory</code>ã€‚</p><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">learnFunctionFactory</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(sentenceFactory(<span class="string">"summer"</span>)(<span class="string">"ä¸€ä¸ªç¾ä¸½çš„"</span>, <span class="string">"æ—¥å­ï¼"</span>))</span><br><span class="line"></span><br><span class="line">    d := sentenceFactory(<span class="string">"summer"</span>)</span><br><span class="line">    fmt.Println(d(<span class="string">"ä¸€ä¸ªç¾ä¸½çš„"</span>, <span class="string">"æ—¥å­ï¼"</span>))</span><br><span class="line">    fmt.Println(d(<span class="string">"ä¸€ä¸ªæ‡’æƒ°çš„"</span>, <span class="string">"ä¸‹åˆï¼"</span>))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ul><li><code>sentenceFactory("summer")("ä¸€ä¸ªç¾ä¸½çš„", "æ—¥å­ï¼")</code> è¿™ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªä½¿ç”¨ <code>"summer"</code> å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œå¹¶ç«‹å³è°ƒç”¨å®ƒï¼Œä¼ å…¥ <code>"ä¸€ä¸ªç¾ä¸½çš„"</code> å’Œ <code>"æ—¥å­ï¼"</code> ä½œä¸ºå‚æ•°ã€‚è¾“å‡ºå°†æ˜¯ï¼š<code>"ä¸€ä¸ªç¾ä¸½çš„ summer æ—¥å­ï¼"</code>.</li><li><code>d := sentenceFactory("summer")</code> å…ˆå°†å·¥å‚è¿”å›çš„å‡½æ•°èµ‹å€¼ç»™ <code>d</code>ï¼Œç„¶åå¯ä»¥å¤šæ¬¡è°ƒç”¨ <code>d</code>ï¼Œä¼ å…¥ä¸åŒçš„å‚æ•°ï¼Œç”Ÿæˆä¸åŒçš„å¥å­ã€‚ç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ä¼ å…¥çš„æ˜¯ <code>"ä¸€ä¸ªæ‡’æƒ°çš„"</code> å’Œ <code>"ä¸‹åˆï¼"</code>ï¼Œè¾“å‡ºå°†æ˜¯ï¼š<code>"ä¸€ä¸ªæ‡’æƒ°çš„ summer ä¸‹åˆï¼"</code>ã€‚</li></ul></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Coin &amp; Token åœ¨ä½¿ç”¨ä¸­çš„ä¸€äº›åŒºåˆ«</title>
      <link href="/2025/02/23/qu-kuai-lian/coin-token-yi-ji-balance-de-qu-bie/"/>
      <url>/2025/02/23/qu-kuai-lian/coin-token-yi-ji-balance-de-qu-bie/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://www.bilibili.com/video/BV1MPrvYpE4z?spm_id_from=333.788.videopod.sections&amp;vd_source=7815abf75f25008fd075daf46f5ff072">HOHæ°´åˆ†å­ç¤¾åŒºå‰ç«¯è¯¾</a></li><li><a href="https://docs.sui.io/standards">SUIå®˜æ–¹æ–‡æ¡£</a></li></ul><h1 id="ä¸»è¦åŒºåˆ«"><a href="#ä¸»è¦åŒºåˆ«" class="headerlink" title="ä¸»è¦åŒºåˆ«"></a>ä¸»è¦åŒºåˆ«</h1><table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left"><code>sui::token</code></th><th align="left"><code>sui::coin</code></th></tr></thead><tbody><tr><td align="left"><strong>ç³»ç»Ÿç±»å‹</strong></td><td align="left">é—­ç¯ç³»ç»Ÿ</td><td align="left">å¼€ç¯ç³»ç»Ÿ</td></tr><tr><td align="left"><strong>æƒé™æ§åˆ¶</strong></td><td align="left">åŒå±‚(TokenPolicyCap + TreasuryCap)</td><td align="left">å•å±‚(TreasuryCap)</td></tr><tr><td align="left"><strong>æ“ä½œéªŒè¯</strong></td><td align="left">å¿…é¡»é€šè¿‡ç­–ç•¥è§„åˆ™éªŒè¯</td><td align="left">æ— éœ€éªŒè¯</td></tr><tr><td align="left"><strong>ä»£å¸è½¬ç§»</strong></td><td align="left">éœ€è¦åˆ›å»ºå’Œç¡®è®¤ActionRequest</td><td align="left">ç›´æ¥è½¬ç§»</td></tr><tr><td align="left"><strong>ä¾›åº”é‡æ§åˆ¶</strong></td><td align="left">æ›´ç²¾ç»†(æ”¯æŒæš‚å­˜ä½™é¢)</td><td align="left">ç›´æ¥å¢å‡</td></tr><tr><td align="left"><strong>çµæ´»æ€§</strong></td><td align="left">æ”¯æŒè‡ªå®šä¹‰è§„åˆ™å’Œæ“ä½œ</td><td align="left">å›ºå®šæ“ä½œé›†</td></tr><tr><td align="left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td align="left">ç›‘ç®¡ä¸¥æ ¼çš„åº”ç”¨</td><td align="left">é€šç”¨ä»£å¸</td></tr></tbody></table><p><strong>ç»“æ„åŒºåˆ«</strong></p><img src="/2025/02/23/qu-kuai-lian/coin-token-yi-ji-balance-de-qu-bie/CoinBalanceToken.png" alt="CoinBalanceToken" style="zoom:80%;"><p><strong>APIåŒºåˆ«</strong></p><img src="/2025/02/23/qu-kuai-lian/coin-token-yi-ji-balance-de-qu-bie/apiåŒºåˆ«-17471474544153.png" alt="apiåŒºåˆ«" style="zoom: 80%;"><h2 id="Coin-Open-loop-fungible-token"><a href="#Coin-Open-loop-fungible-token" class="headerlink" title="Coin -  Open-loop fungible token"></a>Coin -  Open-loop fungible token</h2><p><strong>ğŸ’¡å«ä¹‰</strong>ï¼š å¯ä»¥è‡ªç”±è½¬è®©ï¼Œèƒ½å’Œå…¶ä»–Coinå®ç°äº’æ¢ï¼Œè‡ªç”±æµåŠ¨ï¼Œkey+store(å¯åŒ…è£…ï¼‰ã€‚ç±»ä¼¼äºrmbï¼Œæ‹¥æœ‰è€…å¯ä»¥è‡ªç”±åœ°æ”¯é…ä»–</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct Coin&lt;phantom T&gt; has key, store { id: UID, balance: Balance&lt;T&gt; }</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ä¸€èˆ¬ç§° Coin ä¸ºâ€œå¸â€ï¼Œç§° Token ä¸º â€œä»£å¸â€</p><p>æ€ä¹ˆç†è§£å¯åŒ…è£…</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">struct Foo has key {</span><br><span class="line"> id: UID,</span><br><span class="line"> bar: Bar,</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">struct Bar has store {</span><br><span class="line"> value: u64,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></blockquote><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a><strong>ä½¿ç”¨</strong></h3><p>å…·ä½“ä½¿ç”¨å¯ä»¥ç»“åˆå®˜æ–¹ä»“åº“ä¸­sui::coinçš„æ¨¡å—è¿›è¡Œå­¦ä¹ </p><p><strong>åˆ›å»ºä»£å¸</strong>ï¼šé‡‡ç”¨coin::create_currencyï¼Œè¿”å›ä¸€ä¸ª<code>treasury</code>å’Œ<code>metadate</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let (treasury_cap, metadata) = coin::create_currency&lt;HOH&gt;(</span><br><span class="line">       otw,</span><br><span class="line">       DECIMALS,</span><br><span class="line">       SYMBOLS, </span><br><span class="line">       NAME, </span><br><span class="line">       DESCRIPTION, </span><br><span class="line">       option::some(new_unsafe_from_bytes(ICON_URL)), </span><br><span class="line">       ctx</span><br><span class="line">   );</span><br></pre></td></tr></tbody></table></figure><ul><li><p><code>metadate</code>ä¸»è¦åŒ…æ‹¬ä¸€ä¸ªcoinæ‰€æ‹¥æœ‰çš„å­—èŠ‚</p><ul><li><pre><code class="move">  public struct CoinMetadata&lt;phantom T&gt; has key, store {      id: UID,      ///å®šä¹‰äº†å¦‚ä½•å°†é“¾ä¸Šå­˜å‚¨çš„æ•´æ•°å€¼ N è½¬æ¢ä¸ºç”¨æˆ·å‹å¥½çš„å°æ•°æ ¼å¼ï¼ˆå¦‚ UI æ˜¾ç¤ºæˆ–äº¤æ˜“æ‰€æŠ¥ä»·ï¼‰      ///decimals ä»…ç”¨äºæ˜¾ç¤ºé€»è¾‘ï¼Œé“¾ä¸Šå­˜å‚¨çš„ value å§‹ç»ˆæ˜¯æ•´æ•°      decimals: u8,      name: string::String,      /// ä»£å¸ç¬¦å·      symbol: ascii::String,      description: string::String,      /// ä»£å¸å›¾ç‰‡      icon_url: Option&lt;Url&gt;  }  //ä¸ºä»€ä¹ˆéœ€è¦ decimalsï¼Ÿ  //1.ä¸åŒä»£å¸å¯èƒ½æœ‰ä¸åŒçš„æœ€å°å•ä½ï¼ˆå¦‚ BTC ç”¨ 8 ä½å°æ•°ï¼ŒUSDC ç”¨ 6 ä½ï¼‰ã€‚//decimals ç¡®ä¿å‰ç«¯èƒ½æ­£ç¡®è§£æã€‚  //2.é¿å…æµ®ç‚¹æ•°é—®é¢˜  //é“¾ä¸Šåªå­˜æ•´æ•°ï¼ˆå¦‚ 7002ï¼‰ï¼Œé€šè¿‡ decimals åœ¨é“¾ä¸‹è½¬æ¢ä¸ºå°æ•°ï¼Œé¿å…æµ®ç‚¹æ•°è®¡ç®—çš„å¤æ‚æ€§ã€‚  //3.å…¼å®¹æ€§  //ä¸ ERC-20 ç­‰æ ‡å‡†çš„å°æ•°ä½è®¾è®¡ä¸€è‡´ï¼Œå‡å°‘è·¨é“¾æˆ–è·¨åè®®æ—¶çš„é€‚é…æˆæœ¬</code></pre></li></ul></li><li><p><code>TreasuryCap</code>ä»£è¡¨äº†ä¸€ä¸ªä»£å¸çš„mintå’Œburnæƒé™ï¼Œé€šå¸¸ç”±é¡¹ç›®æ–¹æˆ–è€…æ²»ç†äººæ‹¥æœ‰ï¼Œç”¨äºåˆå§‹ä»£å¸åˆ†å‘ã€å¢å‘ä»£å¸ã€ä»£å¸é”€æ¯ã€ä»£å¸ä¾›åº”é‡ç®¡ç†ç­‰</p><ul><li><pre><code class="move">public struct TreasuryCap&lt;phantom T&gt; has key, store {    id: UID,    ///ä»£å¸çš„æ€»ä¾›åº”é‡    total_supply: Supply&lt;T&gt;}<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´Coinç¤ºä¾‹å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">```move</span><br><span class="line">module my_coin::my_coin {</span><br><span class="line">    use sui::coin::{Self, TreasuryCap, Coin};</span><br><span class="line">    use sui::transfer;</span><br><span class="line">    use sui::tx_context::TxContext;</span><br><span class="line"></span><br><span class="line">    // 1. å®šä¹‰ä»£å¸ç±»å‹ï¼ˆéœ€ one-time witness æ¨¡å¼ï¼‰</span><br><span class="line">    struct MY_COIN has drop {}</span><br><span class="line"></span><br><span class="line">    // 2. åˆå§‹åŒ–å‡½æ•°ï¼ˆè®¾ç½®åˆå§‹ä¾›åº”é‡ï¼‰</span><br><span class="line">    public entry fun init(</span><br><span class="line">        ctx: &amp;mut TxContext</span><br><span class="line">    ) {</span><br><span class="line">        let (treasury_cap, metadata) = coin::create_currency(</span><br><span class="line">            MY_COIN {}, // one-time witness</span><br><span class="line">            9,          // decimalsï¼ˆä¾‹å¦‚ 9 ä½å°æ•°ï¼‰</span><br><span class="line">            b"MYC",     // symbol</span><br><span class="line">            b"My Coin", // name</span><br><span class="line">            b"My custom coin", // description</span><br><span class="line">            none(),     // icon_urlï¼ˆå¯é€‰ï¼‰</span><br><span class="line">            ctx</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        // 3. è®¾ç½®åˆå§‹ä¾›åº”é‡ï¼šé“¸é€  1_000_000_000 ä¸ªä»£å¸ï¼ˆå‡è®¾ 1 ä¸ªæ•´å•ä½ = 1 MYCï¼‰</span><br><span class="line">        let total_supply = 1_000_000_000;</span><br><span class="line">        let initial_coins = coin::mint(&amp;mut treasury_cap, total_supply, ctx);</span><br><span class="line"></span><br><span class="line">        // 4. å°†åˆå§‹ä»£å¸å‘é€åˆ°æŒ‡å®šåœ°å€ï¼ˆä¾‹å¦‚é¡¹ç›®æ–¹åœ°å€ï¼‰</span><br><span class="line">        let recipient = @0x123; // æ›¿æ¢ä¸ºå®é™…åœ°å€</span><br><span class="line">        transfer::public_transfer(initial_coins, recipient);</span><br><span class="line"></span><br><span class="line">        // 5. è½¬ç§» TreasuryCap åˆ°å®‰å…¨åœ°å€ï¼ˆå¦‚æ²»ç†åˆçº¦ï¼‰</span><br><span class="line">        transfer::public_transfer(treasury_cap, @0x456);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></code></pre></li></ul></li></ul><hr><h2 id="Token-Closed-Loop-Token"><a href="#Token-Closed-Loop-Token" class="headerlink" title="Token - Closed-Loop Token"></a>Token - Closed-Loop Token</h2><p><strong>ğŸ’¡å«ä¹‰</strong>ï¼šå½“ä½ ç›¸å¯¹ç”¨æˆ·çš„æƒé™åšä¸€äº›é™åˆ¶çš„æ—¶å€™ï¼Œå¯ä»¥å‘å¸ƒä¸€ä¸ªTokenï¼Œåˆ¶å®šè‡ªå·±çš„ä»£å¸ç»æµæ¨¡å‹ï¼Œæ¥é™åˆ¶å¯ä»¥ä½¿ç”¨ä»£å¸çš„åº”ç”¨ç¨‹åºï¼Œä»¥åŠè½¬è´¦ã€æ¶ˆè´¹å’Œäº¤æ¢çš„è§„åˆ™ï¼›ç±»ä¼¼äºåˆ›å»ºä¸€ä¸ªå—åˆ°é™åˆ¶å’Œç›‘æ§çš„é“¶è¡Œè´¦æˆ·</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct Token&lt;phantom T&gt; has key { id: UID, balance: Balance&lt;T&gt; }</span><br></pre></td></tr></tbody></table></figure><p><strong>ğŸ”¦ä¸Coinä¸åŒ</strong>ï¼šToken åˆ™ä»…å…·å¤‡<code>key</code>åŠŸèƒ½ï¼Œæ— æ³•è¢«åŒ…è£…ã€å­˜å‚¨ä¸ºåŠ¨æ€å­—æ®µæˆ–è‡ªç”±è½¬è´¦ï¼ˆé™¤éæœ‰è‡ªå®šä¹‰ç­–ç•¥ï¼‰ã€‚ç”±äºæ­¤é™åˆ¶ï¼ŒToken<strong>åªèƒ½ç”±è´¦æˆ·æ‹¥æœ‰</strong>ï¼Œæ— æ³•å­˜å‚¨åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œä½†å¯ä»¥â€œspendâ€,è¿™ä¸ªä¸‹æ–‡ä¼šè®²åˆ°ã€‚</p><p><strong>é‡è¦æ¨¡å—</strong>ï¼š<code>TokenPolicyCap</code> <code>TreasuryCap </code> <code>ActionRequest</code></p><ul><li><p><code>TokenPolicyCap</code>ï¼šå®šä¹‰ <code>Token</code> çš„æ“ä½œè§„åˆ™ã€‚å®ƒåŒ…å«äº†å“ªäº›æ“ä½œæ˜¯å…è®¸çš„ï¼Œä»¥åŠæ¯ä¸ªæ“ä½œéœ€è¦æ»¡è¶³çš„è§„åˆ™é›†åˆ</p><ul><li><pre><code class="move">public struct TokenPolicy&lt;phantom T&gt; has key {    id: UID,                          // `TokenPolicy` çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚    spent_balance: Balance&lt;T&gt;,        // ç”¨æˆ·åœ¨ "spend" æ“ä½œä¸­æ¶ˆè€—çš„ä½™é¢ã€‚    rules: VecMap&lt;String, VecSet&lt;TypeName&gt;&gt;, // å®šä¹‰æ¯ä¸ªæ“ä½œçš„è§„åˆ™é›†åˆã€‚}<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- `TreasuryCap`ï¼šè¿™é‡Œå’ŒCoinæ¨¡å—ä¸­çš„æ˜¯ä¸€è‡´çš„ï¼Œä¸è¿‡å¤šè§£é‡Š</span><br><span class="line"></span><br><span class="line">- `ActionRequest`ï¼šæ¯ä¸€ä¸ªå—ç›‘ç®¡çš„è¡Œä¸ºå‘ç”Ÿçš„æ—¶å€™ï¼Œéƒ½ä¼šå‘å‡ºä¸€ä¸ª`ActionRequest`ï¼ŒåŒæ—¶ActionRequestéœ€è¦ä¸€ä¸ª`confirm_request`æ¥è§£å†³ ï¼Œåœ¨ `confirm_request` æˆ– `confirm_request_mut` ä¸­ï¼Œ`ActionRequest` ä¼šä¸ `TokenPolicy` çš„è§„åˆ™è¿›è¡ŒåŒ¹é…ï¼Œç¡®ä¿æ“ä½œç¬¦åˆç­–ç•¥</span><br><span class="line"></span><br><span class="line">  - ```move</span><br><span class="line">    public struct ActionRequest&lt;phantom T&gt; {</span><br><span class="line">        name: String,                     // æ“ä½œçš„åç§°ï¼Œä¾‹å¦‚ "transfer" æˆ– "spend"ã€‚</span><br><span class="line">        amount: u64,                      // æ“ä½œæ¶‰åŠçš„é‡‘é¢ã€‚</span><br><span class="line">        sender: address,                  // æ“ä½œçš„å‘èµ·è€…åœ°å€ã€‚</span><br><span class="line">        recipient: Option&lt;address&gt;,       // æ¥æ”¶è€…åœ°å€ï¼Œä»…åœ¨ "transfer" æ“ä½œä¸­å­˜åœ¨ã€‚</span><br><span class="line">        spent_balance: Option&lt;Balance&lt;T&gt;&gt;, // æ“ä½œä¸­æ¶ˆè€—çš„ä½™é¢ï¼Œä»…åœ¨ "spend" æ“ä½œä¸­å­˜åœ¨ã€‚</span><br><span class="line">        approvals: VecSet&lt;TypeName&gt;,      // å·²å®Œæˆè§„åˆ™çš„æ‰¹å‡†é›†åˆã€‚</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure></code></pre></li></ul></li></ul><blockquote><p>ğŸ’¡Hot_Potato</p><p>ActionRequestæ˜¯ä¸€ä¸ªæ²¡æœ‰ä»»ä½•èƒ½åŠ›çš„ç»“æ„ä½“ä¹Ÿç§°ä½œâ€Hot-Potatoâ€,å®ƒæ¶‰åŠä¸€ä¸ªæ²¡æœ‰ä»»ä½•èƒ½åŠ›çš„ç»“æ„ä½“ï¼Œç§°ä¸º â€œhot potatoâ€ã€‚è¿™ç§ç»“æ„ä½“åªèƒ½åœ¨å…¶æ¨¡å—å†…è¿›è¡Œæ‰“åŒ…å’Œè§£åŒ…ã€‚Hot Potato Pattern åˆ©ç”¨ PTBï¼ˆProgrammatic Transaction Blockï¼‰æœºåˆ¶ï¼Œé€šå¸¸ç”¨äºåœ¨äº¤æ˜“ç»“æŸä¹‹å‰å¼ºåˆ¶ç”¨æˆ·å®Œæˆç‰¹å®šä¸šåŠ¡é€»è¾‘çš„åœºæ™¯ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªäº¤æ˜“å‘½ä»¤ A è¿”å›ä¸€ä¸ª hot potato å€¼ï¼Œåˆ™å¿…é¡»åœ¨åŒä¸€ä¸ª PTB ä¸­çš„ä»»ä½•åç»­å‘½ä»¤ B ä¸­æ¶ˆè´¹å®ƒã€‚æœ€å¸¸è§çš„ç”¨ä¾‹æ˜¯é—ªç”µè´·ï¼ˆflashloanï¼‰ã€‚</p></blockquote><h3 id="å…¸å‹å·¥ä½œæµç¨‹"><a href="#å…¸å‹å·¥ä½œæµç¨‹" class="headerlink" title="å…¸å‹å·¥ä½œæµç¨‹"></a>å…¸å‹å·¥ä½œæµç¨‹</h3><ol><li><p>åˆå§‹åŒ–ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let (policy, policy_cap) = token::new_policy(&amp;treasury_cap, ctx);</span><br><span class="line">token::share_policy(policy);</span><br><span class="line">/// åˆ›å»ºä¸€ä¸ªæ–°çš„ `TokenPolicy` å’Œä¸€ä¸ªåŒ¹é…çš„ `TokenPolicyCap`ã€‚</span><br><span class="line">/// ç„¶åå¿…é¡»ä½¿ç”¨ `share_policy` æ–¹æ³•å…±äº« `TokenPolicy`ã€‚</span><br></pre></td></tr></tbody></table></figure></li><li><p>è®¾ç½®è§„åˆ™ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">///å…è®¸transferæ“ä½œå¯ä»¥è‡ªç”±ä½¿ç”¨</span><br><span class="line">token::allow(&amp;mut policy, &amp;policy_cap, b"transfer", ctx);</span><br><span class="line">///ä¸ºtransferæ“ä½œæ·»åŠ ä¸€ä¸ªè§„åˆ™</span><br><span class="line">token::add_rule_config(rule_witness, &amp;mut policy, &amp;policy_cap, config, ctx);</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ‰§è¡Œæ“ä½œï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let request = token::transfer(token, recipient, ctx);</span><br><span class="line">let (_, amount, sender, _) = token::confirm_request(&amp;policy, request, ctx);</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="Public-å…¬å…±æ“ä½œ"><a href="#Public-å…¬å…±æ“ä½œ" class="headerlink" title="Public  - å…¬å…±æ“ä½œ"></a>Public  - å…¬å…±æ“ä½œ</h3><p>Tokenæœ‰ä¸€ç³»åˆ—å…¬å…±å’Œä¿æŠ¤æ“ä½œç”¨æ¥ç®¡ç†ä»£å¸ã€‚å…¬å…±æ“ä½œå¯¹æ‰€æœ‰äººå¯ç”¨ï¼Œä¸éœ€è¦ä»»ä½•æˆæƒã€‚</p><ul><li>token::keep - å°†ä»£å¸å‘é€ç»™äº¤æ˜“å‘é€è€…</li><li>token::join - åˆå¹¶ä¸¤ä¸ªä»£å¸</li><li>token::split - å°†ä¸€ä¸ªä»£å¸åˆ†æˆä¸¤ä¸ªï¼ŒæŒ‡å®šåˆ†å‰²çš„é‡‘é¢</li><li>token::zero - åˆ›å»ºä¸€ä¸ªç©ºï¼ˆé›¶ä½™é¢ï¼‰çš„ä»£å¸</li><li>token::destroy_zero - é”€æ¯ä¸€ä¸ªé›¶ä½™é¢çš„ä»£å¸</li></ul><h3 id="Protected-å—ç›‘ç®¡çš„æ“ä½œ"><a href="#Protected-å—ç›‘ç®¡çš„æ“ä½œ" class="headerlink" title="Protected  - å—ç›‘ç®¡çš„æ“ä½œ"></a>Protected  - å—ç›‘ç®¡çš„æ“ä½œ</h3><p>æ³¨ï¼šé»˜è®¤æ˜¯ç¦ç”¨çš„ï¼Œå¯ä»¥åœ¨TokenPolicyä¸­å¯ç”¨ï¼Œå¹¶è‡ªå®šä¹‰è§„åˆ™</p><p>ä¿æŠ¤æ“ä½œæ˜¯é‚£äº›å‘å‡ºActionRequestçš„æ“ä½œã€‚æœ‰ä¸‰ç§ä¸»è¦çš„æ–¹æ³•æ¥è§£å†³ActionRequestï¼Œæœ€å¸¸è§çš„æ˜¯é€šè¿‡TokenPolicyã€‚</p><ul><li>token::transfer - å°†ä»£å¸è½¬è´¦åˆ°æŒ‡å®šåœ°å€</li><li>token::to_coin - å°†tokenè½¬æ¢ä¸ºcoin</li><li>token::from_coin - å°†coinè½¬æ¢ä¸ºtoken</li><li>token::spend - åœ¨æŒ‡å®šåœ°å€èŠ±è´¹ä»£å¸</li></ul><h3 id="Spend"><a href="#Spend" class="headerlink" title="Spend"></a>Spend</h3><p><strong>ğŸ’¡å«ä¹‰</strong>: ç”±äº<code>Token</code>ç±»å‹ä¸å…·å¤‡è¿™ç§<code>store</code>èƒ½åŠ›ï¼Œå› æ­¤æ— æ³•å°†å®ƒä»¬å­˜å‚¨åœ¨å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚å› æ­¤ï¼Œ<code>Coin</code>ç±»ä¼¼ çš„æ¶ˆè´¹æ–¹å¼æ— æ³•å®ç°â€”â€”æ¥å—<code>Token</code>ä»˜æ¬¾çš„åº”ç”¨ç¨‹åºæ— æ³•å°†å…¶æ·»åŠ åˆ°å…¶ä½™é¢ä¸­ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>Token</code>æœ‰ä¸€ç§<code>spend</code>æ–¹æ³•ï¼Œå…è®¸åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­æ¶ˆè´¹å®ƒï¼Œç„¶åå°†å…¶ä½œä¸º spent_balanceäº¤ä»˜<code>TokenPolicy</code>æˆ–è€…ç«‹å³ä½¿ç”¨ TreasuryCap`è¿›è¡Œé”€æ¯ã€‚</p><h4 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>è§£æ„ <code>Token</code>ï¼Œæå–å…¶å”¯ä¸€æ ‡è¯†ç¬¦å’Œä½™é¢ (<code>id</code> å’Œ <code>balance</code>)ï¼Œåˆ é™¤ <code>Token</code> å¯¹è±¡åï¼Œè°ƒç”¨ <code>new_request</code> åˆ›å»º <code>ActionRequest</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public fun spend&lt;T&gt;(token: Token&lt;T&gt;, ctx: &amp;mut TxContext): ActionRequest&lt;T&gt;;</span><br></pre></td></tr></tbody></table></figure><ol><li><strong>å®ç° <code>Token</code> çš„æ¶ˆè´¹é€»è¾‘</strong>:<ul><li><code>spend</code> å‡½æ•°å…è®¸ç”¨æˆ·é”€æ¯ <code>Token</code>ï¼Œå¹¶å°†å…¶ä½™é¢è®°å½•ä¸ºæ¶ˆè´¹ä½™é¢ã€‚</li><li>è¿™æ˜¯ <code>Token</code> æ¨¡å—ä¸­ä¸€ä¸ªé‡è¦çš„æ“ä½œï¼Œæ”¯æŒå¤šç§åº”ç”¨åœºæ™¯ã€‚</li></ul></li><li><strong>ä¸ <code>TokenPolicy</code> çš„è§„åˆ™é›†æˆ</strong>:<ul><li><code>spend</code> æ“ä½œå¿…é¡»ç¬¦åˆ <code>TokenPolicy</code> çš„è§„åˆ™ï¼Œç¡®ä¿æ¶ˆè´¹æ“ä½œå—åˆ°ä¸¥æ ¼æ§åˆ¶ã€‚</li><li>é€šè¿‡è§„åˆ™éªŒè¯æœºåˆ¶ï¼Œå¯ä»¥çµæ´»å®šä¹‰å“ªäº›æ¶ˆè´¹æ“ä½œæ˜¯å…è®¸çš„ã€‚</li></ul></li><li><strong>æ”¯æŒä¾›åº”é‡ç®¡ç†</strong>:<ul><li>æ¶ˆè´¹çš„ä½™é¢ä¼šè¢«è®°å½•åœ¨ <code>TokenPolicy.spent_balance</code> ä¸­ã€‚</li><li>åªæœ‰ <code>TreasuryCap</code> çš„æ‰€æœ‰è€…å¯ä»¥é€šè¿‡ <code>flush</code> å‡½æ•°å‡å°‘ä¾›åº”é‡ï¼Œä»è€Œå®ç°å¯¹ <code>Token</code> æ€»ä¾›åº”é‡çš„ç²¾ç»†ç®¡ç†ã€‚</li></ul></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> moveæ™ºèƒ½åˆçº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC</title>
      <link href="/2024/12/25/hou-duan/springmvc/"/>
      <url>/2024/12/25/hou-duan/springmvc/</url>
      
        <content type="html"><![CDATA[<h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><p><strong>Spring MVC</strong>ï¼ˆSpring Model-View-Controllerï¼‰æ˜¯ä¸€ä¸ªåŸºäº <strong>Java</strong> çš„ Web åº”ç”¨æ¡†æ¶ï¼Œæ˜¯ <strong>Spring Framework</strong> çš„ä¸€éƒ¨åˆ†ã€‚Spring MVC çš„è®¾è®¡çµæ„Ÿæ¥æºäºä¼ ç»Ÿçš„ <strong>MVCï¼ˆModel-View-Controllerï¼‰</strong> è®¾è®¡æ¨¡å¼ï¼Œå®ƒç”¨äºæ„å»º web åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å°†åº”ç”¨ç¨‹åºçš„è¡¨ç°å±‚ä¸ä¸šåŠ¡é€»è¾‘å±‚åˆ†å¼€ï¼Œä¿ƒè¿›äº†æ¾è€¦åˆçš„å¼€å‘ã€‚</p><h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><ol><li><strong>Modelï¼ˆæ¨¡å‹ï¼‰</strong></li></ol><ul><li>è¡¨ç¤ºåº”ç”¨ç¨‹åºçš„æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ï¼Œé€šå¸¸ç”± <strong>JavaBeans</strong> æˆ– <strong>POJOï¼ˆPlain Old Java Objectï¼‰</strong> ç»„æˆã€‚</li><li>è´Ÿè´£å¤„ç†æ•°æ®å¹¶è¿”å›ç»™è§†å›¾å±‚ï¼ˆViewï¼‰ã€‚</li></ul><ol start="2"><li><strong>Viewï¼ˆè§†å›¾ï¼‰</strong></li></ol><ul><li>è´Ÿè´£å‘ˆç°æ•°æ®çš„ç•Œé¢å±‚ï¼Œé€šå¸¸æ˜¯ <strong>JSPï¼ˆJavaServer Pagesï¼‰</strong>ã€<strong>Thymeleaf</strong> æˆ– <strong>FreeMarker</strong> ç­‰æ¨¡æ¿ã€‚</li><li>è§†å›¾å±‚å°†æ˜¾ç¤ºç”±æ¨¡å‹å±‚æä¾›çš„æ•°æ®ï¼Œå¹¶å“åº”ç”¨æˆ·è¯·æ±‚ã€‚</li></ul><ol start="3"><li><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰</strong></li></ol><ul><li>ä½œä¸ºè¯·æ±‚çš„å…¥å£ç‚¹ï¼Œæ¥æ”¶å¹¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼Œåè°ƒæ¨¡å‹å’Œè§†å›¾ä¹‹é—´çš„äº¤äº’ã€‚</li><li><strong>Controller</strong> æ¥æ”¶æ¥è‡ªç”¨æˆ·çš„è¯·æ±‚ï¼Œè°ƒç”¨ç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚æœåŠ¡å±‚ï¼‰ï¼Œå¹¶å†³å®šåº”è¯¥å‘ˆç°å“ªä¸ªè§†å›¾ã€‚</li></ul><h2 id="å·¥ä½œæµç¨‹ï¼š"><a href="#å·¥ä½œæµç¨‹ï¼š" class="headerlink" title="å·¥ä½œæµç¨‹ï¼š"></a>å·¥ä½œæµç¨‹ï¼š</h2><ol><li><p>ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å‘é€è¯·æ±‚åˆ° <strong>DispatcherServlet</strong>ï¼ˆå‰ç«¯æ§åˆ¶å™¨ï¼‰ã€‚</p></li><li><p><strong>DispatcherServlet</strong> å°†è¯·æ±‚å§”æ´¾ç»™åˆé€‚çš„ <strong>Controller</strong>ï¼Œè¯¥æ§åˆ¶å™¨å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</p></li><li><p>æ§åˆ¶å™¨ä¸ <strong>Model</strong> äº¤äº’ï¼Œå¹¶å°†æ•°æ®å¡«å……åˆ° <strong>Model</strong> ä¸­ã€‚</p></li><li><p>æ§åˆ¶å™¨è¿”å›ä¸€ä¸ªé€»è¾‘è§†å›¾åï¼ˆä¾‹å¦‚ â€œhomeâ€ï¼‰ï¼Œ<strong>DispatcherServlet</strong> æ ¹æ®è§†å›¾è§£æå™¨çš„é…ç½®ï¼Œé€‰æ‹©æ­£ç¡®çš„è§†å›¾ï¼ˆå¦‚ JSP æˆ– Thymeleafï¼‰è¿›è¡Œæ¸²æŸ“ã€‚</p></li><li><p>æœ€ç»ˆï¼Œ<strong>View</strong> å°†æ•°æ®å‘ˆç°ç»™ç”¨æˆ·ã€‚</p><p><img src="/2024/12/25/hou-duan/springmvc/image.png" alt="image-20241225141556768"></p></li></ol><h2 id="å…³é”®ç»„ä»¶ï¼š"><a href="#å…³é”®ç»„ä»¶ï¼š" class="headerlink" title="å…³é”®ç»„ä»¶ï¼š"></a>å…³é”®ç»„ä»¶ï¼š</h2><ul><li><strong>DispatcherServlet</strong>ï¼šä½œä¸ºå‰ç«¯æ§åˆ¶å™¨ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ç”±å®ƒè¿›è¡Œç»Ÿä¸€çš„åˆ†å‘ã€‚</li><li><strong>HandlerMapping</strong>ï¼šæ ¹æ®è¯·æ±‚çš„ URL æ˜ å°„åˆ°å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•ã€‚</li><li><strong>Controller</strong>ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå“åº”ç”¨æˆ·è¯·æ±‚ã€‚</li><li><strong>ViewResolver</strong>ï¼šè§†å›¾è§£æå™¨ï¼Œæ ¹æ®è§†å›¾åç§°é€‰æ‹©å¹¶æ¸²æŸ“å…·ä½“çš„è§†å›¾ã€‚</li><li><strong>ModelAndView</strong>ï¼šå°è£…äº†æ¨¡å‹æ•°æ®å’Œè§†å›¾ä¿¡æ¯çš„å¯¹è±¡ã€‚</li></ul><h2 id="ç‰¹ç‚¹ï¼š"><a href="#ç‰¹ç‚¹ï¼š" class="headerlink" title="ç‰¹ç‚¹ï¼š"></a>ç‰¹ç‚¹ï¼š</h2><ul><li><strong>æ¾è€¦åˆ</strong>ï¼šSpring MVC ä½¿ç”¨é…ç½®æ–‡ä»¶å’Œæ³¨è§£è§£è€¦ï¼Œä¾¿äºçµæ´»é…ç½®å’Œæ‰©å±•ã€‚</li><li><strong>RESTful æ”¯æŒ</strong>ï¼šæ”¯æŒæ„å»º RESTful Web æœåŠ¡ã€‚</li><li><strong>æ˜“äºé›†æˆ</strong>ï¼šSpring MVC å¯ä»¥ä¸å…¶ä»–æŠ€æœ¯ï¼ˆå¦‚ Hibernateã€MyBatisã€JPA ç­‰ï¼‰é›†æˆï¼Œæ”¯æŒå¤šç§è§†å›¾æŠ€æœ¯ï¼ˆJSPã€Thymeleafã€FreeMarker ç­‰ï¼‰ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šé€šè¿‡æ³¨è§£é©±åŠ¨çš„æ–¹å¼ï¼Œå¯ä»¥ç®€åŒ–å¼€å‘ï¼Œå‡å°‘ XML é…ç½®ã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SprintBoot - IOC|AOP</title>
      <link href="/2024/12/24/hou-duan/sprintboot-ioc-aop/"/>
      <url>/2024/12/24/hou-duan/sprintboot-ioc-aop/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-boot-IOC-AOP"><a href="#Spring-boot-IOC-AOP" class="headerlink" title="Spring boot-IOC|AOP"></a>Spring boot-IOC|AOP</h1><h2 id="IOCï¼ˆæ§åˆ¶åè½¬ï¼‰"><a href="#IOCï¼ˆæ§åˆ¶åè½¬ï¼‰" class="headerlink" title="IOCï¼ˆæ§åˆ¶åè½¬ï¼‰"></a><strong>IOCï¼ˆæ§åˆ¶åè½¬ï¼‰</strong></h2><p>IOC æ˜¯ä¸€ç§è®¾è®¡åŸåˆ™ï¼ŒæŒ‡çš„æ˜¯æ§åˆ¶æƒçš„åè½¬ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†çš„æ§åˆ¶æƒä»ç¨‹åºä¸­è½¬ç§»ç»™å¤–éƒ¨å®¹å™¨æˆ–æ¡†æ¶ã€‚è¿™æ„å‘³ç€ï¼Œä¼ ç»Ÿä¸Šç¨‹åºä¸­ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯ç”±ç¨‹åºä»£ç æ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†çš„ï¼Œè€Œåœ¨ä½¿ç”¨IOCæ—¶ï¼Œæ¡†æ¶æˆ–å®¹å™¨è´Ÿè´£è¿™äº›å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†ã€‚é€šè¿‡IOCï¼Œç¨‹åºçš„æ§åˆ¶æµç¨‹è¢«åè½¬ï¼Œç¨‹åºå‘˜ä¸å†æ˜¾å¼åœ°æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸï¼Œè€Œæ˜¯äº¤ç”±å®¹å™¨ï¼ˆå¦‚Springå®¹å™¨ï¼‰æ¥ç®¡ç†ã€‚</p><h3 id="DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰"><a href="#DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰" class="headerlink" title="DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰"></a><strong>DIï¼ˆä¾èµ–æ³¨å…¥ï¼‰</strong></h3><p>DI æ˜¯å®ç°IOCçš„ä¸€ç§æ–¹å¼ï¼Œæ˜¯ä¸€ç§å°†ä¾èµ–å…³ç³»ï¼ˆå³å¯¹è±¡ä¹‹é—´çš„ä¾èµ–ï¼‰æ³¨å…¥åˆ°å¯¹è±¡ä¸­çš„è®¾è®¡æ¨¡å¼ã€‚DI é€šè¿‡å°†ä¸€ä¸ªå¯¹è±¡çš„ä¾èµ–ï¼ˆä¾‹å¦‚ï¼Œå®ƒéœ€è¦ä½¿ç”¨çš„æœåŠ¡ã€æ•°æ®åº“è¿æ¥ç­‰ï¼‰ä¼ é€’ç»™å®ƒçš„æ„é€ å‡½æ•°ã€å­—æ®µæˆ–æ–¹æ³•ï¼Œæ¥å®ç°å¯¹è±¡é—´çš„è§£è€¦ã€‚DI æ˜¯IOCçš„å…·ä½“å®ç°æ‰‹æ®µä¹‹ä¸€ã€‚</p><h4 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h4><p>1ã€è°ƒç”¨ç¨‹åºï¼šä¸æŒ‡å®šå¯¹è±¡å¦‚ä½•ç”Ÿæˆï¼Œé€šè¿‡æ ‡å‡†ï¼ˆæ¥å£ï¼‰ä½¿ç”¨ã€‚<br>2ã€é…ç½®æ–‡ä»¶ï¼šé…ç½®æ–‡ä»¶ä¸­éœ€è¦æ³¨æ˜å“ªäº›beanè¢«æ³¨å…¥ï¼Œä»¥åŠå¼•ç”¨å…³ç³»ã€‚<br>3ã€ç¨‹åºæ‰§è¡Œï¼šç”±Springå®¹å™¨é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆæ‰€æœ‰çš„beanå¯¹è±¡ï¼Œä»å®¹å™¨ä¸­å–å‡ºå¯¹è±¡è¿›è¡Œæ‰§è¡Œã€‚</p><h4 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h4><ul><li><p>åœ¨ä¼ ç»Ÿçš„ç¼–ç¨‹æ–¹å¼ä¸­ï¼Œä¸€ä¸ªç±»Aéœ€è¦ä¾èµ–ç±»Bï¼Œè¿™æ—¶ç±»Aä¼šè‡ªå·±åˆ›å»ºç±»Bçš„å®ä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">javaCopy codepublic class A {</span><br><span class="line">    private B b = new B();  // ç±»Aè‡ªå·±åˆ›å»ºç±»Bçš„å®ä¾‹</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>è€Œä½¿ç”¨IOCå’ŒDIçš„æ–¹å¼ï¼Œç±»Aä¸ä¼šè‡ªå·±åˆ›å»ºç±»Bçš„å®ä¾‹ï¼Œè€Œæ˜¯ç”±å¤–éƒ¨å®¹å™¨ï¼ˆæ¯”å¦‚Springï¼‰æ¥å°†Bçš„å®ä¾‹æ³¨å…¥åˆ°ç±»Aä¸­ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">javaCopy codepublic class A {</span><br><span class="line">    private B b;</span><br><span class="line">    </span><br><span class="line">    // é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥B</span><br><span class="line">    public A(B b) {</span><br><span class="line">        this.b = b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>åœ¨Springä¸­ï¼ŒSpringå®¹å™¨ä¼šåˆ›å»ºç±»Aå’Œç±»Bçš„å®ä¾‹ï¼Œå¹¶è´Ÿè´£å°†Bçš„å®ä¾‹æ³¨å…¥åˆ°ç±»Aä¸­ï¼Œå®Œæˆä¾èµ–æ³¨å…¥ã€‚è¿™æ ·ï¼Œç±»Aä¸å†ç›´æ¥ä¾èµ–äºç±»Bçš„å…·ä½“å®ç°ï¼Œè€Œåªä¾èµ–äºæ¥å£æˆ–æŠ½è±¡ç±»ï¼Œä»è€Œå®ç°äº†æ›´æ¾æ•£çš„è€¦åˆã€‚</p></li></ul><h2 id="AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="AOP(é¢å‘åˆ‡é¢ç¼–ç¨‹)"></a>AOP(é¢å‘åˆ‡é¢ç¼–ç¨‹)</h2><p>å…¶ç¼–ç¨‹æ€æƒ³æ˜¯æŠŠæ•£å¸ƒäºä¸åŒä¸šåŠ¡ä½†åŠŸèƒ½ç›¸åŒçš„ä»£ç ä»ä¸šåŠ¡é€»è¾‘ä¸­æŠ½å–å‡ºæ¥ï¼Œå°è£…æˆç‹¬ç«‹çš„æ¨¡å—ï¼Œè¿™äº›ç‹¬ç«‹çš„æ¨¡å—è¢«ç§°ä¸ºåˆ‡é¢ï¼Œåˆ‡é¢çš„å…·ä½“åŠŸèƒ½æ–¹æ³•è¢«ç§°ä¸ºåˆ‡å…¥ç‚¹ã€‚<br>åœ¨ä¸šåŠ¡é€»è¾‘æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒAOPä¼šæŠŠåˆ†ç¦»å‡ºæ¥çš„åˆ‡é¢å’Œåˆ‡å…¥ç‚¹åŠ¨æ€åˆ‡å…¥åˆ°ä¸šåŠ¡æµç¨‹ä¸­ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯æé«˜äº†åŠŸèƒ½ä»£ç çš„é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h3 id="æ ¸å¿ƒæ¦‚å¿µï¼š"><a href="#æ ¸å¿ƒæ¦‚å¿µï¼š" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µï¼š"></a>æ ¸å¿ƒæ¦‚å¿µï¼š</h3><ol><li><strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong>ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ï¼Œå®ƒåŒ…å«äº†ä»£ç çš„å¢å¼ºé€»è¾‘ï¼Œæ¯”å¦‚æ—¥å¿—ã€äº‹åŠ¡ç­‰ã€‚ä¸€ä¸ªåˆ‡é¢é€šå¸¸ä¼šå®šä¹‰åœ¨ç‰¹å®šçš„ç‚¹ï¼ˆåˆ‡å…¥ç‚¹ï¼‰æ’å…¥é€»è¾‘ã€‚</li><li><strong>è¿æ¥ç‚¹ï¼ˆJoin Pointï¼‰</strong>ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥æ’å…¥åˆ‡é¢çš„ä½ç½®ï¼Œé€šå¸¸æ˜¯æ–¹æ³•çš„è°ƒç”¨ã€æ–¹æ³•çš„æ‰§è¡Œã€æ„é€ å‡½æ•°çš„è°ƒç”¨ç­‰ã€‚</li><li><strong>é€šçŸ¥ï¼ˆAdviceï¼‰</strong>ï¼šåˆ‡é¢æ‰€æ‰§è¡Œçš„å…·ä½“æ“ä½œï¼Œè¡¨ç¤ºåœ¨è¿æ¥ç‚¹æ‰§è¡Œçš„ä»£ç ã€‚é€šçŸ¥å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹ï¼š<ul><li><strong>å‰ç½®é€šçŸ¥ï¼ˆBeforeï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œã€‚</li><li><strong>åç½®é€šçŸ¥ï¼ˆAfterï¼‰</strong>ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œåæ‰§è¡Œï¼ˆä¸ç®¡ç›®æ ‡æ–¹æ³•æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚</li><li><strong>è¿”å›é€šçŸ¥ï¼ˆAfterReturningï¼‰</strong>ï¼šç›®æ ‡æ–¹æ³•æ‰§è¡ŒæˆåŠŸåæ‰§è¡Œã€‚</li><li><strong>å¼‚å¸¸é€šçŸ¥ï¼ˆAfterThrowingï¼‰</strong>ï¼šç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œã€‚</li><li><strong>ç¯ç»•é€šçŸ¥ï¼ˆAroundï¼‰</strong>ï¼šåŒ…å›´ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œï¼Œå…è®¸åœ¨æ–¹æ³•å‰ååšå¢å¼ºï¼Œå¹¶ä¸”å¯ä»¥å†³å®šæ˜¯å¦æ‰§è¡Œç›®æ ‡æ–¹æ³•ã€‚</li></ul></li><li><strong>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰</strong>ï¼šå®šä¹‰åœ¨å“ªäº›è¿æ¥ç‚¹åº”ç”¨é€šçŸ¥ã€‚é€šå¸¸æ˜¯é€šè¿‡æ–¹æ³•ç­¾åã€æ³¨è§£ç­‰æ–¹å¼æ¥æŒ‡å®šçš„ã€‚</li><li><strong>ç›®æ ‡å¯¹è±¡ï¼ˆTarget Objectï¼‰</strong>ï¼šè¢«å¢å¼ºçš„å¯¹è±¡ï¼Œä¹Ÿå«åšè¢«ä»£ç†çš„å¯¹è±¡ã€‚</li><li><strong>ä»£ç†ï¼ˆProxyï¼‰</strong>ï¼šAOP ä¼šä¸ºç›®æ ‡å¯¹è±¡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡ä¼šåœ¨ç›®æ ‡å¯¹è±¡æ–¹æ³•æ‰§è¡Œä¹‹å‰æˆ–ä¹‹åæ’å…¥å¢å¼ºçš„ä»£ç ã€‚</li></ol><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><h4 id="1-æ³¨è§£å®šä¹‰åˆ‡é¢ç±»"><a href="#1-æ³¨è§£å®šä¹‰åˆ‡é¢ç±»" class="headerlink" title="1.æ³¨è§£å®šä¹‰åˆ‡é¢ç±»"></a>1.æ³¨è§£å®šä¹‰åˆ‡é¢ç±»</h4><p>æ·»åŠ åˆ‡é¢å’Œé€šçŸ¥çš„æ³¨è§£<br>@Aspect â€“ å®šä¹‰åˆ‡é¢ç±»çš„æ³¨è§£<br>é€šçŸ¥ç±»å‹ï¼ˆæ³¨è§£çš„å‚æ•°æ˜¯åˆ‡å…¥ç‚¹çš„è¡¨è¾¾å¼ï¼‰<br>@Before â€“ å‰ç½®é€šçŸ¥<br>@AfterReturning â€“ åç½®é€šçŸ¥<br>@Around â€“ ç¯ç»•é€šçŸ¥<br>@After â€“ æœ€ç»ˆé€šçŸ¥<br>@AfterThrowing â€“ å¼‚å¸¸æŠ›å‡ºé€šçŸ¥</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspectXml</span> {</span><br><span class="line">    <span class="comment">// å®šä¹‰é€šçŸ¥</span></span><br><span class="line">    <span class="meta">@Before("execution(public * com.zhong.aopdemo.CustomDaoImpl.save(..))")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"è®°å½•æ—¥å¿—..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="2-ä¿®æ”¹é…ç½®æ–‡ä»¶pom-xmlï¼ŒåŠ å…¥æ‰«æç”Ÿæˆç›¸å…³çš„bean"><a href="#2-ä¿®æ”¹é…ç½®æ–‡ä»¶pom-xmlï¼ŒåŠ å…¥æ‰«æç”Ÿæˆç›¸å…³çš„bean" class="headerlink" title="2. ä¿®æ”¹é…ç½®æ–‡ä»¶pom.xmlï¼ŒåŠ å…¥æ‰«æç”Ÿæˆç›¸å…³çš„bean"></a>2. ä¿®æ”¹é…ç½®æ–‡ä»¶pom.xmlï¼ŒåŠ å…¥æ‰«æç”Ÿæˆç›¸å…³çš„bean</h4><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context </span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop </span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.zhong.aopdemo"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯è‡ªåŠ¨ä»£ç† --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="å¸¸ç”¨ä¾èµ–é¡¹è¯´æ˜"><a href="#å¸¸ç”¨ä¾èµ–é¡¹è¯´æ˜" class="headerlink" title="å¸¸ç”¨ä¾èµ–é¡¹è¯´æ˜"></a>å¸¸ç”¨ä¾èµ–é¡¹è¯´æ˜</h4><h5 id=""><a href="#" class="headerlink" title="<aop:aspectj-autoproxy>"></a><code>&lt;aop:aspectj-autoproxy&gt;</code></h5><p>å®ƒä¼šæ‰«æå®¹å™¨ä¸­çš„ bean,æ£€æŸ¥æ˜¯å¦æœ‰ä¸åˆ‡é¢ç›¸å…³çš„æ³¨è§£æˆ–é…ç½®ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼šè‡ªåŠ¨ä¸ºè¿™äº› bean åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå¹¶å°†åˆ‡é¢é€»è¾‘ç»‡å…¥åˆ°ä»£ç†å¯¹è±¡ä¸­ã€‚</p><h5 id="spring-context"><a href="#spring-context" class="headerlink" title="spring-context"></a><code>spring-context</code></h5><p><code>spring-context</code>æ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œæä¾›äº†ä¸Spring IoCå®¹å™¨ï¼ˆæ§åˆ¶åè½¬å®¹å™¨ï¼‰ç›¸å…³çš„åŠŸèƒ½ã€‚å®ƒåŒ…æ‹¬äº†åˆ›å»ºã€ç®¡ç†ã€æ³¨å…¥beanï¼ˆå¯¹è±¡ï¼‰çš„åŠŸèƒ½ã€‚Springå®¹å™¨ç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œæä¾›äº†ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ç­‰åŠŸèƒ½ï¼Œæ˜¯å¼€å‘Javaåº”ç”¨çš„åŸºç¡€æ¨¡å—ã€‚</p><h6 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a><strong>ä½œç”¨</strong>ï¼š</h6><ul><li>æä¾›Springæ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå¦‚<code>ApplicationContext</code>ã€<code>BeanFactory</code>ã€äº‹ä»¶å‘å¸ƒã€ç¯å¢ƒé…ç½®ç­‰ã€‚</li><li>æ”¯æŒXMLå’Œæ³¨è§£é…ç½®æ–¹å¼ã€‚</li><li>æä¾›äº†å¯¹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆä¾‹å¦‚ï¼Œå•ä¾‹beanã€åŸå‹beanç­‰ï¼‰ã€‚</li></ul><h6 id="ä¾èµ–ç¤ºä¾‹ï¼š"><a href="#ä¾èµ–ç¤ºä¾‹ï¼š" class="headerlink" title="ä¾èµ–ç¤ºä¾‹ï¼š"></a><strong>ä¾èµ–ç¤ºä¾‹</strong>ï¼š</h6><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="spring-beans"><a href="#spring-beans" class="headerlink" title="spring-beans"></a><code>spring-beans</code></h5><p><code>spring-beans</code>æ¨¡å—æä¾›äº†Springçš„åŸºç¡€Beanç®¡ç†åŠŸèƒ½ï¼Œå…è®¸æˆ‘ä»¬åœ¨Springå®¹å™¨ä¸­åˆ›å»ºã€åˆå§‹åŒ–ã€ç®¡ç†å’Œé”€æ¯Javaå¯¹è±¡ã€‚å®ƒæ˜¯Springæ¡†æ¶ä¸­æœ€åŸºç¡€çš„æ¨¡å—ï¼Œå‡ ä¹æ‰€æœ‰çš„Springåº”ç”¨éƒ½éœ€è¦è¿™ä¸ªæ¨¡å—ã€‚</p><h6 id="ä½œç”¨ï¼š-1"><a href="#ä½œç”¨ï¼š-1" class="headerlink" title="ä½œç”¨ï¼š"></a><strong>ä½œç”¨</strong>ï¼š</h6><ul><li>å¤„ç†beançš„åˆ›å»ºã€ä¾èµ–æ³¨å…¥å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</li><li>è´Ÿè´£beançš„é…ç½®å’Œç®¡ç†ï¼Œé€šå¸¸ä¸<code>spring-context</code>æ¨¡å—ä¸€èµ·ä½¿ç”¨ã€‚</li></ul><h6 id="ä¾èµ–ç¤ºä¾‹ï¼š-1"><a href="#ä¾èµ–ç¤ºä¾‹ï¼š-1" class="headerlink" title="ä¾èµ–ç¤ºä¾‹ï¼š"></a><strong>ä¾èµ–ç¤ºä¾‹</strong>ï¼š</h6><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="spring-aop"><a href="#spring-aop" class="headerlink" title="spring-aop"></a><code>spring-aop</code></h5><p><code>spring-aop</code>æ¨¡å—æ˜¯Springæ¡†æ¶çš„é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰æ¨¡å—ï¼Œå®ƒä¸ºSpringåº”ç”¨æä¾›äº†AOPæ”¯æŒï¼Œå…è®¸é€šè¿‡å£°æ˜æ€§äº‹åŠ¡ç®¡ç†ã€æ—¥å¿—è®°å½•ç­‰åŠŸèƒ½æ¥å¢å¼ºåº”ç”¨çš„åŠŸèƒ½ã€‚</p><h6 id="ä½œç”¨ï¼š-2"><a href="#ä½œç”¨ï¼š-2" class="headerlink" title="ä½œç”¨ï¼š"></a><strong>ä½œç”¨</strong>ï¼š</h6><ul><li>æä¾›é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ”¯æŒï¼Œä½¿å¾—å¯ä»¥åœ¨ä¸ä¿®æ”¹æºä»£ç çš„æƒ…å†µä¸‹ï¼Œå‘ç°æœ‰ä»£ç ä¸­æ·»åŠ åŠŸèƒ½ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€äº‹åŠ¡ç®¡ç†ç­‰ï¼‰ã€‚</li><li>å…è®¸é€šè¿‡åˆ‡é¢ï¼ˆAspectï¼‰å®šä¹‰æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆå¦‚æ—¥å¿—ã€æ€§èƒ½ç›‘æ§ç­‰ï¼‰ï¼Œç„¶ååº”ç”¨äºç›®æ ‡æ–¹æ³•ã€‚</li></ul><h6 id="ä¾èµ–ç¤ºä¾‹ï¼š-2"><a href="#ä¾èµ–ç¤ºä¾‹ï¼š-2" class="headerlink" title="ä¾èµ–ç¤ºä¾‹ï¼š"></a><strong>ä¾èµ–ç¤ºä¾‹</strong>ï¼š</h6><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="spring-aspects"><a href="#spring-aspects" class="headerlink" title="spring-aspects"></a><code>spring-aspects</code></h5><p><code>spring-aspects</code>æ¨¡å—åŒ…å«äº†Spring AOPçš„ç›¸å…³åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨å®é™…ä½¿ç”¨æ—¶éœ€è¦<code>spring-aop</code>æ¨¡å—ã€‚å®ƒåŒ…å«äº†Springæ¡†æ¶æ‰€éœ€çš„åˆ‡é¢åŠŸèƒ½çš„å…·ä½“å®ç°ï¼Œå¦‚åˆ‡é¢ï¼ˆAspectï¼‰å®šä¹‰ã€å¢å¼ºï¼ˆAdviceï¼‰ç­‰ã€‚</p><h6 id="ä½œç”¨ï¼š-3"><a href="#ä½œç”¨ï¼š-3" class="headerlink" title="ä½œç”¨ï¼š"></a><strong>ä½œç”¨</strong>ï¼š</h6><ul><li>è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºä¸AOPç›¸å…³çš„åº“ï¼Œé€šå¸¸ç”¨äºå¤„ç†åˆ‡é¢ï¼ˆAspectï¼‰ç›¸å…³çš„åŠŸèƒ½ï¼Œå…è®¸å¼€å‘è€…å°†äº‹åŠ¡ç®¡ç†ã€æ—¥å¿—ç­‰åŠŸèƒ½åº”ç”¨åˆ°Spring beansä¸­ã€‚</li><li>é€šè¿‡<code>@Aspect</code>æ³¨è§£æˆ–é…ç½®æ–‡ä»¶é…ç½®åˆ‡é¢å’Œé€šçŸ¥ï¼ˆAdviceï¼‰ï¼Œä»¥æ§åˆ¶ç¨‹åºçš„æŸäº›è¡Œä¸ºã€‚</li></ul><h6 id="ä¾èµ–ç¤ºä¾‹ï¼š-3"><a href="#ä¾èµ–ç¤ºä¾‹ï¼š-3" class="headerlink" title="ä¾èµ–ç¤ºä¾‹ï¼š"></a><strong>ä¾èµ–ç¤ºä¾‹</strong>ï¼š</h6><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h5 id="junit"><a href="#junit" class="headerlink" title="junit"></a><code>junit</code></h5><p><code>junit</code>æ˜¯ä¸€ä¸ªæµè¡Œçš„Javaå•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå¹¿æ³›ç”¨äºæµ‹è¯•Javaåº”ç”¨çš„åŠŸèƒ½ã€‚JUnitæä¾›äº†ä¸€ç§è§„èŒƒåŒ–çš„æ–¹å¼æ¥ç¼–å†™å’Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿ä»£ç çš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§ã€‚JUnitç”¨äºç¼–å†™æµ‹è¯•ç±»ï¼Œæµ‹è¯•é¡¹ç›®ä¸­çš„åŠŸèƒ½æ¨¡å—ã€‚</p><h6 id="ä½œç”¨ï¼š-4"><a href="#ä½œç”¨ï¼š-4" class="headerlink" title="ä½œç”¨ï¼š"></a><strong>ä½œç”¨</strong>ï¼š</h6><ul><li>ç”¨äºç¼–å†™è‡ªåŠ¨åŒ–çš„å•å…ƒæµ‹è¯•ï¼Œå¸®åŠ©å¼€å‘è€…éªŒè¯ä»£ç åŠŸèƒ½ã€‚</li><li>æä¾›äº†æ–­è¨€ï¼ˆassertionsï¼‰åŠŸèƒ½æ¥éªŒè¯æ–¹æ³•çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</li><li>å¸¸ä¸å…¶ä»–æµ‹è¯•æ¡†æ¶ç»“åˆä½¿ç”¨ï¼Œå¦‚Mockitoã€‚</li></ul><h6 id="ä¾èµ–ç¤ºä¾‹ï¼š-4"><a href="#ä¾èµ–ç¤ºä¾‹ï¼š-4" class="headerlink" title="ä¾èµ–ç¤ºä¾‹ï¼š"></a><strong>ä¾èµ–ç¤ºä¾‹</strong>ï¼š</h6><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span> <span class="comment">&lt;!-- è¯´æ˜è¿™ä¸ªä¾èµ–åªåœ¨æµ‹è¯•ç¯å¢ƒä¸­éœ€è¦ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="å¸¸ç”¨çš„4ç§åˆ›å»ºBeançš„æ³¨è§£ï¼š"><a href="#å¸¸ç”¨çš„4ç§åˆ›å»ºBeançš„æ³¨è§£ï¼š" class="headerlink" title="å¸¸ç”¨çš„4ç§åˆ›å»ºBeançš„æ³¨è§£ï¼š"></a>å¸¸ç”¨çš„4ç§åˆ›å»ºBeançš„æ³¨è§£ï¼š</h4><h5 id="1-Component"><a href="#1-Component" class="headerlink" title="1. @Component"></a>1. <strong>@Component</strong></h5><ul><li><strong>ä½œç”¨</strong>ï¼šé€šç”¨çš„ç»„ä»¶æ³¨è§£ï¼Œç”¨äºæ ‡è¯†å½“å‰ç±»æ˜¯ä¸€ä¸ª Spring çš„ç»„ä»¶ã€‚</li><li><strong>åŠŸèƒ½</strong>ï¼šSpring ä¼šå°†æ ‡æ³¨äº† <code>@Component</code> çš„ç±»è¯†åˆ«ä¸ºä¸€ä¸ª Beanï¼Œå¹¶å°†å…¶å®ä¾‹åŒ–å¹¶åŠ å…¥åˆ° Spring çš„å®¹å™¨ä¸­ã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå½“æŸä¸ªç±»ä¸å±äºç‰¹æ®Šçš„åŠŸèƒ½åˆ†ç±»ï¼ˆå¦‚æ§åˆ¶å™¨ã€æœåŠ¡å±‚ã€æ•°æ®è®¿é—®å±‚ï¼‰æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>@Component</code>ã€‚</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyComponent</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSomething</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œç»„ä»¶é€»è¾‘..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h5 id="2-Controller"><a href="#2-Controller" class="headerlink" title="2. @Controller"></a>2. <strong>@Controller</strong></h5><ul><li><strong>ä½œç”¨</strong>ï¼šç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶ï¼Œä¸“é—¨å¤„ç†ç”¨æˆ·è¯·æ±‚ã€‚</li><li>åŠŸèƒ½<ul><li>åœ¨ MVC æ¶æ„ä¸­ï¼Œ<code>@Controller</code> æ˜¯ç”¨æ¥å®šä¹‰æ§åˆ¶å™¨çš„ï¼Œè´Ÿè´£å¤„ç† HTTP è¯·æ±‚ã€‚</li><li>é…åˆ <code>@RequestMapping</code> æ³¨è§£å®šä¹‰ URL æ˜ å°„ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºå¤„ç†å‰ç«¯å‘æ¥çš„è¯·æ±‚ï¼ˆå¦‚ Web åº”ç”¨å¼€å‘ä¸­çš„ RESTful APIï¼‰ã€‚</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyController</span> {</span><br><span class="line">    <span class="meta">@RequestMapping("/hello")</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello, Spring!"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h5 id="3-Service"><a href="#3-Service" class="headerlink" title="3. @Service"></a>3. <strong>@Service</strong></h5><ul><li><p><strong>ä½œç”¨</strong>ï¼šç”¨äºæ ‡æ³¨æœåŠ¡å±‚ç»„ä»¶ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸»è¦è´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚</p></li><li><p>åŠŸèƒ½</p><p>ï¼š</p><ul><li>é€šå¸¸ä¸ä¸šåŠ¡é€»è¾‘ç›¸å…³çš„ç±»ä¼šä½¿ç”¨ <code>@Service</code> æ³¨è§£ã€‚</li><li>ä¸ <code>@Component</code> åŠŸèƒ½ç›¸åŒï¼Œä½†è¯­ä¹‰åŒ–æ›´å¼ºï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªâ€œæœåŠ¡å±‚â€ç»„ä»¶ã€‚</li></ul></li><li><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºåŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„ç±»ã€‚</p></li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> {</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGreeting</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"æ¬¢è¿æ¥åˆ°æœåŠ¡å±‚!"</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h5 id="4-Repository"><a href="#4-Repository" class="headerlink" title="4. @Repository"></a>4. <strong>@Repository</strong></h5><ul><li><strong>ä½œç”¨</strong>ï¼šç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰çš„ç»„ä»¶ï¼Œä¸“é—¨å¤„ç†æ•°æ®åº“æ“ä½œã€‚</li><li>åŠŸèƒ½<ul><li>è¡¨ç¤ºå½“å‰ç±»æ˜¯ç”¨äºä¸æ•°æ®åº“äº¤äº’çš„ç±»ã€‚</li><li>å¯ä»¥å°†æ•°æ®è®¿é—®å±‚çš„å¼‚å¸¸è½¬æ¢ä¸º Spring çš„ç»Ÿä¸€å¼‚å¸¸ï¼ˆ<code>DataAccessException</code>ï¼‰ã€‚</li></ul></li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºä¸æ•°æ®åº“ç›´æ¥äº¤äº’çš„ç±»ï¼Œå¦‚ DAOï¼ˆData Access Objectï¼‰ç±»ã€‚</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRepository</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><hr><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><table><thead><tr><th><strong>æ³¨è§£</strong></th><th><strong>ä½œç”¨</strong></th><th><strong>å…¸å‹ä½¿ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>@Component</code></td><td>é€šç”¨ç»„ä»¶æ³¨è§£</td><td>éç‰¹å®šåŠŸèƒ½åˆ†ç±»çš„ç»„ä»¶ç±»</td></tr><tr><td><code>@Controller</code></td><td>æ§åˆ¶å™¨ï¼Œå¤„ç†ç”¨æˆ·è¯·æ±‚</td><td>Web å±‚ï¼Œè´Ÿè´£å¤„ç† HTTP è¯·æ±‚</td></tr><tr><td><code>@Service</code></td><td>æœåŠ¡å±‚ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘</td><td>æœåŠ¡å±‚ï¼ŒåŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</td></tr><tr><td><code>@Repository</code></td><td>æ•°æ®è®¿é—®å±‚ï¼Œå¤„ç†æ•°æ®åº“æ“ä½œ</td><td>æ•°æ®å±‚ï¼Œä¸æ•°æ®åº“äº¤äº’çš„ç±»</td></tr></tbody></table><blockquote><p>ğŸ’¡**@Beanæ³¨è§£**æ˜¯ç”¨åœ¨é…ç½®ç±»ï¼ˆ@Configurationï¼‰ä¸­å£°æ˜ä¸€ä¸ªBeançš„ï¼Œé€šå¸¸ç”¨åœ¨é…ç½®ç±»ä¸­çš„æ–¹æ³•ä¸Šï¼Œå°†æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡æ³¨å…¥åˆ°Springçš„iocå®¹å™¨ä¸­ã€‚é€šè¿‡beanæ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå’Œé…ç½®Beançš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ŒåŒ…æ‹¬Beançš„åç§°ã€ä½œç”¨åŸŸã€ä¾èµ–å…³ç³»ç­‰ã€‚</p></blockquote><h4 id="JoinPoint-ç±»"><a href="#JoinPoint-ç±»" class="headerlink" title="JoinPoint ç±»"></a>JoinPoint ç±»</h4><p><code>JoinPoint</code> æ˜¯ AOP æä¾›çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºè¡¨ç¤ºè¿æ¥ç‚¹ï¼ˆJoin Pointï¼‰ã€‚é€šè¿‡å®ƒå¯ä»¥è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li><strong>ä»£ç†å¯¹è±¡</strong>ï¼šå³è°ƒç”¨åˆ‡é¢é€»è¾‘çš„å¯¹è±¡ã€‚</li><li><strong>è¢«ä»£ç†å¯¹è±¡</strong>ï¼šå³å®é™…è¢«æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡ã€‚</li><li><strong>æ–¹æ³•ç­¾å</strong>ï¼šå³è¢«æ‹¦æˆªæ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå¦‚æ–¹æ³•åã€å‚æ•°ç±»å‹ã€è¿”å›ç±»å‹ç­‰ï¼‰ã€‚</li><li><strong>æ–¹æ³•å‚æ•°</strong>ï¼šç›®æ ‡æ–¹æ³•æ‰€æ¥æ”¶åˆ°çš„å‚æ•°ã€‚</li></ul><h5 id="ä¸»è¦æ–¹æ³•"><a href="#ä¸»è¦æ–¹æ³•" class="headerlink" title="ä¸»è¦æ–¹æ³•"></a><strong>ä¸»è¦æ–¹æ³•</strong></h5><ol><li><p><strong><code>Object getTarget()</code></strong></p><ul><li>è¿”å›è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡ã€‚</li><li>ä¾‹å¦‚ï¼šé€šè¿‡æ­¤æ–¹æ³•å¯ä»¥è®¿é—®åŸå§‹å¯¹è±¡ä»¥æ‰§è¡Œé¢å¤–é€»è¾‘ã€‚</li></ul></li><li><p><strong><code>Object[] getArgs()</code></strong></p><ul><li>è¿”å›ç›®æ ‡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼ˆä½œä¸ºä¸€ä¸ª <code>Object</code> æ•°ç»„ï¼‰ã€‚</li><li>å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•è·å–è°ƒç”¨æ–¹æ³•æ—¶ä¼ é€’çš„å…·ä½“å‚æ•°ã€‚</li></ul></li><li><p><strong><code>Signature getSignature()</code></strong></p><ul><li><p>è¿”å›å½“å‰æ‰§è¡Œæ–¹æ³•çš„ç­¾åï¼ˆ<code>Signature</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¸¸ç”¨å®ç°ç±»æ˜¯ <code>MethodSignature</code>ï¼‰ã€‚</p></li><li><p>é€šè¿‡ç­¾åå¯ä»¥è·å–æ–¹æ³•çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚æ–¹æ³•åã€å‚æ•°ç±»å‹ã€è¿”å›ç±»å‹ç­‰ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">javaCopy codeSignature signature = joinPoint.getSignature();</span><br><span class="line">System.out.println("æ–¹æ³•å: " + signature.getName());</span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p><strong><code>String getKind()</code></strong></p><ul><li>è¿”å›å½“å‰è¿æ¥ç‚¹çš„ç±»å‹ï¼Œä¾‹å¦‚æ˜¯æ–¹æ³•æ‰§è¡Œã€å¼‚å¸¸æŠ›å‡ºç­‰ã€‚</li></ul></li><li><p><strong><code>Object getThis()</code></strong></p><ul><li>è¿”å›å½“å‰ä»£ç†å¯¹è±¡æœ¬èº«ã€‚</li></ul></li></ol><h5 id="é€‚ç”¨èŒƒå›´"><a href="#é€‚ç”¨èŒƒå›´" class="headerlink" title="é€‚ç”¨èŒƒå›´"></a><strong>é€‚ç”¨èŒƒå›´</strong></h5><p><code>JoinPoint</code> é€šå¸¸ç”¨äºä»¥ä¸‹é€šçŸ¥ï¼š</p><ul><li><strong>å‰ç½®é€šçŸ¥</strong>ï¼ˆ<code>@Before</code>ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰è¿è¡Œã€‚</li><li><strong>åç½®é€šçŸ¥</strong>ï¼ˆ<code>@After</code>ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åè¿è¡Œã€‚</li><li><strong>å¼‚å¸¸é€šçŸ¥</strong>ï¼ˆ<code>@AfterThrowing</code>ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åè¿è¡Œã€‚</li><li><strong>æœ€ç»ˆé€šçŸ¥</strong>ï¼ˆ<code>@AfterReturning</code>ï¼‰ï¼šåœ¨ç›®æ ‡æ–¹æ³•æ­£å¸¸è¿”å›åè¿è¡Œã€‚</li></ul><h4 id="ProceedingJoinPoint-ç±»"><a href="#ProceedingJoinPoint-ç±»" class="headerlink" title="ProceedingJoinPoint ç±»"></a><strong>ProceedingJoinPoint ç±»</strong></h4><p><code>ProceedingJoinPoint</code> æ˜¯ <code>JoinPoint</code> çš„å­æ¥å£ï¼Œå®ƒåœ¨ <code>JoinPoint</code> çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•ï¼š<code>proceed()</code>ã€‚å®ƒä»…åœ¨<strong>ç¯ç»•é€šçŸ¥</strong>ï¼ˆ<code>@Around</code>ï¼‰ä¸­ä½¿ç”¨ã€‚</p><h5 id="æ ¸å¿ƒæ–¹æ³•"><a href="#æ ¸å¿ƒæ–¹æ³•" class="headerlink" title="æ ¸å¿ƒæ–¹æ³•"></a><strong>æ ¸å¿ƒæ–¹æ³•</strong></h5><ol><li><p><strong><code>Object proceed()</code></strong></p><ul><li>ä½œç”¨ï¼šå¯åŠ¨ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œã€‚</li><li>ç¯ç»•é€šçŸ¥é€»è¾‘ä¸­é€šå¸¸ä¼šè°ƒç”¨æ­¤æ–¹æ³•æ¥æ‰§è¡Œè¢«æ‹¦æˆªçš„ç›®æ ‡æ–¹æ³•ã€‚</li><li>å¯ä»¥å°†å…¶çœ‹ä½œæ˜¯ AOP çš„æ ¸å¿ƒï¼Œç”¨äºæ§åˆ¶ç›®æ ‡æ–¹æ³•çš„å®é™…è°ƒç”¨ã€‚</li></ul></li><li><p><strong><code>Object proceed(Object[] args)</code></strong></p><ul><li><p>ä½œç”¨ï¼šä¸ <code>proceed()</code> ç±»ä¼¼ï¼Œä½†å…è®¸ä¼ é€’æ–°çš„å‚æ•°æ¥æ”¹å˜ç›®æ ‡æ–¹æ³•çš„è¡Œä¸ºã€‚</p></li><li><p>é€šè¿‡ä¿®æ”¹å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥æ”¹å˜ç›®æ ‡æ–¹æ³•æ‰€æ¥æ”¶åˆ°çš„å‚æ•°ã€‚</p></li><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Copy code</span><br><span class="line">Object result = proceedingJoinPoint.proceed(newArgs);</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ol><h6 id="ç¯ç»•é€šçŸ¥çš„ä½¿ç”¨"><a href="#ç¯ç»•é€šçŸ¥çš„ä½¿ç”¨" class="headerlink" title="ç¯ç»•é€šçŸ¥çš„ä½¿ç”¨"></a><strong>ç¯ç»•é€šçŸ¥çš„ä½¿ç”¨</strong></h6><p>ç¯ç»•é€šçŸ¥åŒ…å«å‰ç½®ã€ç›®æ ‡æ–¹æ³•æ‰§è¡Œã€åç½®é€šçŸ¥çš„ç»„åˆï¼Œé€šè¿‡ <code>proceed()</code> æ–¹æ³•æ§åˆ¶ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œã€‚ä»¥ä¸‹æ˜¯ç¯ç»•é€šçŸ¥çš„å…¸å‹å®ç°ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">javaCopy code@Around("execution(* com.example.service.*.*(..))")</span><br><span class="line">public Object aroundAdvice(ProceedingJoinPoint pjp) throws Throwable {</span><br><span class="line">    System.out.println("å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œå‰");</span><br><span class="line"></span><br><span class="line">    // è·å–æ–¹æ³•å</span><br><span class="line">    String methodName = pjp.getSignature().getName();</span><br><span class="line">    System.out.println("æ–¹æ³•åï¼š" + methodName);</span><br><span class="line"></span><br><span class="line">    // æ‰§è¡Œç›®æ ‡æ–¹æ³•</span><br><span class="line">    Object result = pjp.proceed();</span><br><span class="line"></span><br><span class="line">    System.out.println("åç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œå");</span><br><span class="line"></span><br><span class="line">    return result;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4>]]></content>
      
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sui-moveå­¦ä¹ ç¬”è®°</title>
      <link href="/2024/09/30/qu-kuai-lian/sui-move-xue-xi-bi-ji/"/>
      <url>/2024/09/30/qu-kuai-lian/sui-move-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<hr><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><p>åŸºæœ¬è¯­æ³• ï¼š<a href="https://www.bilibili.com/video/BV1Rm42177Kx/">https://www.bilibili.com/video/BV1Rm42177Kx/</a></p></li><li><p>ç›¸å…³ä¹¦ç±ï¼š</p><ul><li>è½»æ¾å…¥é—¨ï¼š<a href="https://easy.sui-book.com/chapter_1.html">https://easy.sui-book.com/chapter_1.html</a> </li><li>Moveå‚è€ƒæ‰‹å†Œï¼š<a href="https://reference.sui-book.com/introduction.html">https://reference.sui-book.com/introduction.html</a></li></ul></li></ul><hr><h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><p>å˜é‡è¿™ä¸€ç« æ¯”è¾ƒç®€å•ï¼Œ <a href="https://reference.sui-book.com/packages.html">è½»æ¾å…¥é—¨sui</a>: <a href="https://reference.sui-book.com/packages.html">https://reference.sui-book.com/packages.html</a> ä¸­å†™å¾—ä¹Ÿéå¸¸è¯¦ç»†ï¼</p><p>let _a = 10u32;//ä¸‹åˆ’çº¿å¼€å¤´ï¼Œè¡¨ç¤ºåç»­æ²¡æœ‰ä½¿ç”¨</p><h1 id="åŒ…-æ¨¡å—-æ–¹æ³•"><a href="#åŒ…-æ¨¡å—-æ–¹æ³•" class="headerlink" title="åŒ…-æ¨¡å—-æ–¹æ³•"></a>åŒ…-æ¨¡å—-æ–¹æ³•</h1><p><strong>åŒ…</strong>ï¼šåŒ…æ˜¯åŒä¸€ä¸ªåˆçº¦åœ°å€åŒ…å«çš„å…¨éƒ¨ä»£ç çš„é›†åˆï¼Œç”±å¾ˆå¤šæ¨¡å—ç»„æˆï¼Œä¹Ÿå°±æ˜¯<code>sui move new &lt;name&gt;</code>ç”Ÿæˆçš„æ–‡ä»¶å¤¹</p><p>a_move_package<br>â”œâ”€â”€ Move.toml      (å¿…éœ€)<br>â”œâ”€â”€ Move.lock      (ç”Ÿæˆçš„)<br>â”œâ”€â”€ sources        (å¿…éœ€)<br>â”œâ”€â”€ doc_templates  (å¯é€‰)<br>â”œâ”€â”€ examples       (å¯é€‰ï¼Œæµ‹è¯•å’Œå¼€å‘æ¨¡å¼)<br>â””â”€â”€ tests          (å¯é€‰ï¼Œæµ‹è¯•æ¨¡å¼)</p><blockquote><p>æœ‰å…³åŒ…ä¸‹å…·ä½“çš„é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥å‚è§ </p></blockquote><p><strong>æ¨¡å—</strong>-moduleï¼šä»£ç æ¨¡å—æ˜¯ä»£ç åˆ’åˆ†è®¿é—®æƒé™å’Œä»£ç çš„ç»„ç»‡æ–¹å¼</p><p>åˆ›å»ºæ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module &lt;address&gt;::&lt;name&gt;{</span><br><span class="line">  use sui::tx_context::TxContext;</span><br><span class="line">  fun init(ctx: &amp;mut TxContext) {</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ–¹æ³•è®¿é—®æƒé™æ§åˆ¶"><a href="#æ–¹æ³•è®¿é—®æƒé™æ§åˆ¶" class="headerlink" title="æ–¹æ³•è®¿é—®æƒé™æ§åˆ¶"></a><strong>æ–¹æ³•è®¿é—®æƒé™æ§åˆ¶</strong></h2><p>æˆ‘æŠŠè¿™é‡Œçš„æ–¹æ³•ç†è§£ä¸ºå…¶ä»–è¯­è¨€ä¸­çš„å‡½æ•°</p><table><thead><tr><th>æ–¹æ³•ç­¾å</th><th>è°ƒç”¨èŒƒå›´</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td>fun  call()</td><td>åªèƒ½æ¨¡å—å†…è°ƒç”¨</td><td>å¯ä»¥æœ‰</td></tr><tr><td>public fun call()</td><td>å…¨éƒ¨åˆçº¦èƒ½è°ƒç”¨</td><td>å¯ä»¥æœ‰</td></tr><tr><td>public entry fun call()</td><td>å…¨éƒ¨åˆçº¦å’ŒDapp(RPC)èƒ½è°ƒç”¨</td><td>æ— </td></tr><tr><td>entry fun call()</td><td>åªèƒ½Dapp(RPC)è°ƒç”¨</td><td>æ— </td></tr><tr><td>public(package) fun call()</td><td>åªèƒ½å½“å‰çš„åŒ…èƒ½è°ƒç”¨</td><td>å¯ä»¥æœ‰</td></tr></tbody></table><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fun a(){</span><br><span class="line">}</span><br><span class="line">//å…¨å±€å¯è°ƒç”¨</span><br><span class="line">public fun b(){</span><br><span class="line">}</span><br><span class="line">//åªèƒ½å£°æ˜packageçš„åŒ…å¯è°ƒç”¨ï¼ˆå½“å‰åŒ…ä¹Ÿå¯è°ƒç”¨ï¼‰ </span><br><span class="line">public(package) fun c(){}</span><br><span class="line">//å…¨éƒ¨åˆçº¦å’ŒDapp(RPC)èƒ½è°ƒç”¨</span><br><span class="line">public entry fun d(){</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">public  fun f(a:u32, b:u32): bool{</span><br><span class="line">   a &gt; b</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>init æ–¹æ³•</strong></p><p>åªèƒ½æ˜¯ç§æœ‰çš„</p><p>ä¼šåœ¨å‘å¸ƒåˆçº¦çš„æ˜¯æ—¶å€™è‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡</p><p>åªæœ‰ä¸¤ç§å½¢å¼</p><ul><li><p><strong>fun</strong> <strong>init (ctx: &amp;mut TxContext){}</strong></p></li><li><p><strong>fun init (witness: Struct, ctx: &amp;mut TxContext) {}</strong></p></li></ul><h1 id="å¼•ç”¨-æ³¨é‡Š"><a href="#å¼•ç”¨-æ³¨é‡Š" class="headerlink" title="å¼•ç”¨-æ³¨é‡Š"></a>å¼•ç”¨-æ³¨é‡Š</h1><p>mut: å¯å˜å¼•ç”¨ </p><p>&amp;ï¼šä¸å¯å˜å¼•ç”¨</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let mut a: u32 = 32;//mutè¡¨ç¤º åç»­ä¼šæ”¹å˜å®ƒ</span><br><span class="line">a = 64;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h2><p>è¿™é‡Œæ¯”è¾ƒç®€å•ï¼Œä¸å…¶ä»–è¯­è¨€å·®ä¸å¤šï¼Œç»“åˆä»£ç å­¦ä¹ å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹</p><p>if-æ¡ä»¶è¯­å¥</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if (condition) true_branch // implied default: else ()</span><br><span class="line">if (condition) true_branch else ()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// x and y must be u64 integers</span><br><span class="line">//è¿™é‡Œæ„æ€ä¸º x&gt;yæ—¶,è¿”å›x; x&lt;yæ—¶,è¿”å›y</span><br><span class="line">let maximum: u64 = if (x &gt; y) x else y;</span><br><span class="line"></span><br><span class="line">// ERROR! branches different types</span><br><span class="line">let z = if (maximum &lt; 10) 10u8 else 100u64;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>while-å¾ªç¯è¯­å¥</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fun sum(n: u64): u64 {</span><br><span class="line">   let mut sum = 0;</span><br><span class="line">   let mut i = 1;</span><br><span class="line">   while (i &lt;= n) {</span><br><span class="line">       sum = sum + i;</span><br><span class="line">       i = i + 1</span><br><span class="line">   };</span><br><span class="line"></span><br><span class="line">   sum</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>break-è·³å‡ºå¾ªç¯</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fun min_factor(n: u64): u64 {</span><br><span class="line">   let mut i = 2;</span><br><span class="line">   while (i &lt;= n) {</span><br><span class="line">       if (n % i == 0) break;</span><br><span class="line">       i = i + 1</span><br><span class="line">   };</span><br><span class="line"></span><br><span class="line">   i</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>continue-è·³è¿‡å½“å‰æ¡ä»¶çš„å¾ªç¯ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€ä¸ª<code>åº”è¯¥è¿›å…¥å¾ªç¯</code>çš„å€¼</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fun sum(n: u64): u64 {</span><br><span class="line">   let mut sum = 0;</span><br><span class="line">   let mut i = 0;</span><br><span class="line">   while (i &lt; n) {</span><br><span class="line">       i = i + 1;</span><br><span class="line">       if (i % 20 == 0) continue;</span><br><span class="line">       sum = sum + i;</span><br><span class="line">   };</span><br><span class="line"></span><br><span class="line">   sum</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>loop-åªæœ‰é‡åˆ°breakæ—¶æ‰è·³å‡ºå¾ªç¯</p><p>ç›¸å½“äº cè¯­è¨€ä¸­çš„while(1)ï¼Œè¿™é‡Œç­‰ä»·äºwhile(true)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fun sum(n: u64): u64 {</span><br><span class="line">   let mut sum = 0;</span><br><span class="line">   let mut i = 0;</span><br><span class="line">   loop {</span><br><span class="line">       i = i + 1;</span><br><span class="line">       if (i &gt; n) break;</span><br><span class="line">       sum = sum + i</span><br><span class="line">   };</span><br><span class="line">   sum</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="ç»“æ„ä½“-æ‰€æœ‰æƒ-å¯¹è±¡"><a href="#ç»“æ„ä½“-æ‰€æœ‰æƒ-å¯¹è±¡" class="headerlink" title="ç»“æ„ä½“-æ‰€æœ‰æƒ-å¯¹è±¡"></a>ç»“æ„ä½“-æ‰€æœ‰æƒ-å¯¹è±¡</h1><h2 id="struct-ç»“æ„ä½“"><a href="#struct-ç»“æ„ä½“" class="headerlink" title="struct-ç»“æ„ä½“"></a>struct-ç»“æ„ä½“</h2><p>ç»“æ„ä½“æ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œç”±å­—æ®µç»„æˆï¼Œå¯ä»¥ç®€å•åœ°ç†è§£æˆâ€key-valueâ€å­˜å‚¨ï¼Œå…¶ä¸­ key æ˜¯å­—æ®µçš„åç§°ï¼Œè€Œ value æ˜¯å­˜å‚¨çš„å†…å®¹ï¼Œä½¿ç”¨å…³é”®å­— struct å®šä¹‰ï¼Œå¯ä»¥ä¸ºç©ºã€‚</p><p>æ³¨ï¼šç»“æ„ä½“åªèƒ½åœ¨æ¨¡å—å†…éƒ¨å®šä¹‰ï¼Œå¹¶ä¸”ä»¥å…³é”®å­— <strong>public</strong> <strong>struct</strong> å¼€å¤´ï¼Œç»“æ„ä½“åç§°é¦–å­—æ¯éœ€è¦å¤§å†™</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> public struct NAME {</span><br><span class="line">    FIELD1: TYPE1,</span><br><span class="line">    FIELD2: TYPE2,</span><br><span class="line">    ...</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="UTXO"><a href="#UTXO" class="headerlink" title="*UTXO"></a>*UTXO</h2><p>æ¯ä¸ªäº¤æ˜“äº§ç”Ÿä¸€ä¸ªæˆ–å¤šä¸ªUTXOï¼Œæ¯ä¸€ä¸ªUTXOéƒ½å¯¹åº”è€…ä¸€ä¸ªIDï¼Œä»£è¡¨æœªèŠ±è´¹çš„é‡‘é¢ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºä½ çš„é›¶é’±ã€‚</p><p>suiåŸºäºUTXOæ¨¡å‹</p><h2 id="object-å¯¹è±¡"><a href="#object-å¯¹è±¡" class="headerlink" title="object-å¯¹è±¡"></a>object-å¯¹è±¡</h2><p>å¯¹è±¡åœ¨Suiä¸Šå­˜å‚¨ï¼Œç»´æŠ¤äº†ä¸€ä¸ªå…¨å±€çš„Mapæ•°æ®ç»“æ„ Map&lt;ID,object&gt;ï¼Œ id æ˜¯å”¯ä¸€çš„ï¼Œé€šè¿‡è¿™ä¸ªå”¯ä¸€çš„id æŸ¥æ‰¾åˆ°objectã€‚</p><p>suiä¸Šçš„<strong>èµ„äº§</strong>éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å…¨å±€å­˜å‚¨ã€‚</p><h3 id="å¯¹è±¡çš„å®šä¹‰"><a href="#å¯¹è±¡çš„å®šä¹‰" class="headerlink" title="å¯¹è±¡çš„å®šä¹‰"></a>å¯¹è±¡çš„å®šä¹‰</h3><ul><li><p><strong>å¿…é¡»æœ‰</strong> <strong>key</strong> <strong>èƒ½åŠ›</strong></p></li><li><p>å¿…é¡»ç¬¬ä¸€ä¸ªå­—æ®µ æ˜¯id,è€Œä¸”ç±»å‹ä¸º<strong>sui::object::UID</strong></p></li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module book::obj {</span><br><span class="line">    use sui::object::UID;</span><br><span class="line">    public struct Obj has key {</span><br><span class="line">        id:UID,</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="æ‰€æœ‰æƒ"><a href="#æ‰€æœ‰æƒ" class="headerlink" title="æ‰€æœ‰æƒ"></a>æ‰€æœ‰æƒ</h1><h2 id="å®šä¹‰èµ„äº§"><a href="#å®šä¹‰èµ„äº§" class="headerlink" title="å®šä¹‰èµ„äº§"></a>å®šä¹‰èµ„äº§</h2><p>èµ„äº§ä¹Ÿå°±æ˜¯ä¸ªäººæ‹¥æœ‰æ‰€æœ‰æƒçš„ç‰©å“åˆé›†</p><p> <strong>å¸¸è§èµ„äº§</strong>ï¼šé“¶è¡Œä½™é¢ï¼Œæ”¯ä»˜å®å¾®ä¿¡ä½™é¢ï¼Œæˆ¿äº§ç­‰ã€‚</p><h2 id="èµ„äº§æ‰€æœ‰æƒ"><a href="#èµ„äº§æ‰€æœ‰æƒ" class="headerlink" title="èµ„äº§æ‰€æœ‰æƒ"></a>èµ„äº§æ‰€æœ‰æƒ</h2><p>èµ„äº§æ‰€æœ‰æƒå¯ä»¥åˆ†ä¸ºï¼šç‹¬æœ‰èµ„äº§å’Œå…±æœ‰èµ„äº§ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒï¼Œåˆ™å¯ä»¥æ”¹å˜ã€åˆ é™¤ã€å¢åŠ èµ„äº§å†…å®¹ã€‚</p><p>åœ¨Objectä¸­å¯ä»¥ç”¨å…³é”®å­—æ¥æ ‡è®°æ‰€æœ‰æƒçš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯<strong>èƒ½åŠ›</strong>ï¼Œå…·ä½“åœ¨ä¸‹ä¸€ç« </p><p>åˆ†ä¸ºï¼š</p><ul><li>key</li><li>copy </li><li>drop</li><li>store</li></ul><h2 id="æ‰€æœ‰æƒåœ¨å‡½æ•°ä¹‹é—´çš„ä¸‰ç§ä¼ é€’æ–¹å¼"><a href="#æ‰€æœ‰æƒåœ¨å‡½æ•°ä¹‹é—´çš„ä¸‰ç§ä¼ é€’æ–¹å¼" class="headerlink" title="æ‰€æœ‰æƒåœ¨å‡½æ•°ä¹‹é—´çš„ä¸‰ç§ä¼ é€’æ–¹å¼"></a>æ‰€æœ‰æƒåœ¨å‡½æ•°ä¹‹é—´çš„ä¸‰ç§ä¼ é€’æ–¹å¼</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">fun f(consume: T, write: &amp;mut T, read: &amp;T)</span><br><span class="line">T: transfer, delete, write, read//æƒé™æœ€é«˜</span><br><span class="line">&amp;mut T: write, read</span><br><span class="line">&amp;T: read</span><br><span class="line">//ç¤ºä¾‹</span><br><span class="line">    public fun del(dog:Dog){</span><br><span class="line">        let Dog{id,gender,age} = dog;</span><br><span class="line">        object::delete(id);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public fun transfer(dog: &amp;mut Dog,age:u8){</span><br><span class="line">        dog.age = 18</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public fun view_dog(dog:Dog){</span><br><span class="line">        dog.age</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="æ‰€æœ‰æƒçš„æ–¹æ³•"><a href="#æ‰€æœ‰æƒçš„æ–¹æ³•" class="headerlink" title="æ‰€æœ‰æƒçš„æ–¹æ³•"></a>æ‰€æœ‰æƒçš„æ–¹æ³•</h2><table><thead><tr><th>æ–¹æ³•</th><th>ç”Ÿæˆçš„æ–¹æ³•</th><th>å±æ€§</th></tr></thead><tbody><tr><td>transfer</td><td>ç‹¬äº«å¯¹è±¡</td><td>key</td></tr><tr><td>public_transfer</td><td>ç‹¬äº«å¯¹è±¡</td><td>key + store</td></tr><tr><td>freeze_object</td><td>å…±äº«å¯¹è±¡ - å¸¸é‡</td><td>key</td></tr><tr><td>public_freeze_object</td><td>å…±äº«å¯¹è±¡ - å¸¸é‡</td><td>key + store</td></tr><tr><td>share_object</td><td>å…±äº«å¯¹è±¡</td><td>key</td></tr><tr><td>public_share_object</td><td>å…±äº«å¯¹è±¡</td><td>key + store</td></tr></tbody></table><h1 id="èƒ½åŠ›-Event-å¸¸é‡é”™è¯¯å¤„ç†"><a href="#èƒ½åŠ›-Event-å¸¸é‡é”™è¯¯å¤„ç†" class="headerlink" title="èƒ½åŠ›-Event-å¸¸é‡é”™è¯¯å¤„ç†"></a>èƒ½åŠ›-Event-å¸¸é‡é”™è¯¯å¤„ç†</h1><h2 id="èƒ½åŠ›"><a href="#èƒ½åŠ›" class="headerlink" title="èƒ½åŠ›"></a>èƒ½åŠ›</h2><p>å››ç§èƒ½åŠ›å¯ä»¥ç›¸äº’ç»„åˆ</p><ul><li>key - è¢«å€¼ä¿®é¥°çš„é”®å¯ä»¥å¯¹å…¨å±€è¿›è¡Œè®¿é—®ã€‚</li><li>copy - è¢«ä¿®æ”¹çš„å€¼å¯ä»¥è¢«å¤åˆ¶ã€‚</li><li>drop - è¢«æˆå‘˜å‡½æ•°åœ¨ä½œç”¨åŸŸç»“æŸæ—¶è¢«ä¸¢å¼ƒã€‚</li><li>storeè¢«ä¿®æ”¹çš„å»ºè®® å­˜å‚¨åœ¨ç´§æ€¥æƒ…å†µä¸‹</li></ul><p>æ²¡æœ‰ä»»ä½•èƒ½åŠ›ï¼šåªèƒ½å­˜æ´»åœ¨åŒä¸€ä¸ªäº¤æ˜“ä¸­</p><p>åªæœ‰keyï¼šå¯¹è±¡ï¼Œè‡ªå®šä¹‰è½¬ç§»è§„åˆ™ï¼Œå¯¹è±¡æœ‰å…¨å±€IDï¼Œå¯ä»¥è¢«å…¨å±€å­˜å‚¨å’ŒæŸ¥æ‰¾ï¼ˆå®ç°çµé­‚ç»‘å®šï¼‰</p><p>åªæœ‰dropï¼šè¢«ä¿®é¥°çš„å€¼åœ¨ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™ä¼šè¢«è‡ªåŠ¨è§£æ„ (åˆ é™¤)ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹é»˜è®¤å®ç°äº†drop</p><p>åªæœ‰storeï¼šæ²¡æ³•ä½¿ç”¨æ‰€æœ‰æƒï¼Œå¯ä»¥é€šè¿‡æ”¾åœ¨å…¶ä»–ç»“æ„ä½“ä¸­æ¥å®ç°æ‰€æœ‰æƒçš„ä½¿ç”¨ï¼Œå®ç°ç»“æ„ä½“çš„åµŒå¥—</p><p>key + storeï¼šå¯¹è±¡ï¼Œå¯ä»¥è¢«ä»»æ„è½¬ç§»ï¼Œä¸è¢«è½¬ç§»è§„åˆ™é™å®šï¼Œå¯¹è±¡æœ‰å…¨å±€IDï¼Œå¯ä»¥è¢«å…¨å±€å­˜å‚¨å’ŒæŸ¥æ‰¾</p><p><font color="red">æ³¨</font></p><p><font color="red">ï¼š</font></p><font color="red"><ul><li>key å’Œ dorp ä¸èƒ½åŒæ—¶å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯å¯¹èµ„äº§è¿›è¡Œæ“ä½œåï¼Œä¸ä¼šé”€æ¯èµ„äº§</li><li>key å’Œ copyä¸èƒ½åŒæ—¶å­˜åœ¨ï¼Œä¹Ÿå°±æ˜¯èµ„äº§ä¸å¯å¤åˆ¶</li></ul><h2 id="Event"><a href="#Event" class="headerlink" title="Event"></a>Event</h2><p>æ‰“å°æ—¥å¿—ï¼šcopy+drop</p><h2 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h2><p>ä¸ä¼šæ›´æ”¹çš„é‡å³ä¸ºå¸¸é‡ï¼Œåˆ›å»ºå¸¸é‡<code>const Name : Type = Value</code></p><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><ul><li><p>abort é…åˆifè¯­å¥æ¥ç»ˆæ­¢ç¨‹åº</p></li><li><p>assert!(num&gt;10,ErrMustGet10) æ–­è¨€ï¼Œä¸æ»¡è¶³æ¡ä»¶æ—¶æŠ¥é”™</p></li><li><p>debug è°ƒè¯•ä»£ç </p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">module std::debug {</span><br><span class="line">//æ‰“å°æ•°å€¼</span><br><span class="line">   native public fun print&lt;T&gt;(x: &amp;T);</span><br><span class="line">//æ‰“å°å½“å‰å †æ ˆ</span><br><span class="line">   native public fun print_stack_trace();</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li></ul><h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><p>æ³›å‹æ˜¯å…·ä½“ç±»å‹æˆ–å…¶ä»–å±æ€§çš„æŠ½è±¡æ›¿ä»£å“ï¼Œä½¿å¾—åœ¨ç¼–å†™ Move ä»£ç æ—¶æä¾›æ›´å¼ºçš„çµæ´»æ€§ï¼Œå¹¶é¿å…é€»è¾‘é‡å¤ã€‚</p><p>æˆ‘ç†è§£çš„æ³›å‹ï¼Œå°±æ˜¯åœ¨èµ·åˆå®šä¹‰ç»“æ„ä½“/æ–¹æ³•æ—¶<strong>ä¸å®šä¹‰å…¶ç±»å‹</strong>ï¼Œåœ¨åç»­ä½¿ç”¨æ—¶å†å®šä¹‰ç±»å‹ã€‚è¿™æ ·ä¸€ä¸ªè¯­å¥å°±èƒ½è¢«å¤šæ¬¡ä½¿ç”¨ï¼Œä»è€Œé¿å…äº†é‡å¤å®šä¹‰ç±»ä¼¼çš„ç»“æ„ä½“ã€‚</p><p>ç»“æ„ä½“æ³›å‹ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">module generics::obj_generics {</span><br><span class="line">    public struct Box&lt;T&gt; {</span><br><span class="line">        value: T</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">//å®šä¹‰å¤šä¸ªæ³›å‹</span><br><span class="line">public struct Box&lt;T,Y,X&gt; {</span><br><span class="line">        value1: T,</span><br><span class="line">        value2: Y,</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line"> //ä½¿ç”¨æ³›å‹</span><br><span class="line"> fun init(ctx:&amp;mut TxContext){</span><br><span class="line"> </span><br><span class="line"> let box = Box&lt;u8,u16&gt;{</span><br><span class="line"> value1:23,</span><br><span class="line"> value2:45,</span><br><span class="line"> };</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure><p>æ–¹æ³•æ³›å‹ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">module generics::generics {</span><br><span class="line"></span><br><span class="line">   public struct Box&lt;T&gt; {</span><br><span class="line">       value: T</span><br><span class="line">   }</span><br><span class="line">  </span><br><span class="line">   public fun create_box&lt;T&gt;(value: T): Box&lt;T&gt; {</span><br><span class="line">       Box&lt;T&gt; { value }</span><br><span class="line">   }</span><br><span class="line">   //ä¼ªä»£ç </span><br><span class="line">   let box:Box&lt;u32&gt; = create_box&lt;u32&gt;{value:1u32}</span><br><span class="line">   let box:Box&lt;u32&gt; = create_box&lt;_&gt;{value:1u32}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³›å‹çš„èƒ½åŠ›é™åˆ¶"><a href="#æ³›å‹çš„èƒ½åŠ›é™åˆ¶" class="headerlink" title="æ³›å‹çš„èƒ½åŠ›é™åˆ¶"></a>æ³›å‹çš„èƒ½åŠ›é™åˆ¶</h2><p>é€šè¿‡storeã€dropã€keyã€copyï¼Œå¯¹æ³›å‹è¿›è¡Œçº¦æŸ(åŒºåˆ«ä¸€ä¸‹æ³›å‹çš„çº¦æŸå’Œèƒ½åŠ›çš„çº¦æŸ)</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public struct Box3&lt;T: store + dropï¼ŒY:store&gt; has key, store {</span><br><span class="line">   id:UID,</span><br><span class="line">   value: T,</span><br><span class="line">   value2:X,</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³›å‹å¦‚ä½•ä¼ å‚"><a href="#æ³›å‹å¦‚ä½•ä¼ å‚" class="headerlink" title="æ³›å‹å¦‚ä½•ä¼ å‚"></a>æ³›å‹å¦‚ä½•ä¼ å‚</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sui client call --package $PACKAGE --module $MODULE --function "create_box" --args $OBJECT_ID --type-args "0x2::coin::Coin&lt;0x2::sui::SUI&gt;" --gas-budget 100000000</span><br></pre></td></tr></tbody></table></figure><h2 id="phanton-æ³›å‹"><a href="#phanton-æ³›å‹" class="headerlink" title="phanton æ³›å‹"></a>phanton æ³›å‹</h2><p>ç”³æ˜ä¸€ä¸ªç±»å‹å‚æ•°ä½†å¹¶ä¸ä½¿ç”¨å®ƒï¼Œç”¨äºåŒºåˆ†æˆ–è€…çº¦æŸ</p><p>(è¿™ä¸ªæˆ‘è¿˜ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œåç»­ä¼šè¡¥å……ä¸€ä¸‹)</p><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li><p>æ³›å‹æœªè¢«ä½¿ç”¨</p></li><li><p>å®¹å™¨èƒ½åŠ›è§„åˆ™ä¸æ»¡è¶³</p></li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public struct Box &lt;phanton T&gt; has store{</span><br><span class="line">value: u64</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h1><blockquote><p>è¿™ä¸€èŠ‚ä¸»è¦ç»“åˆä»£ç å­¦ä¹ ï¼š<a href="https://github.com/404ll/letsmove/tree/main/tutorial/bootcamp/08_design_pattern">https://github.com/404ll/letsmove/tree/main/tutorial/bootcamp/08_design_pattern</a></p><p>æˆ‘æ²¡æœ‰å°†è¿‡å¤šçš„ä»£ç æ”¾ä¸Šæ¥ï¼Œå»ºè®®è‡ªå·±æ‰‹æ“å­¦ï¼Œå¤šå†™æ³¨é‡Šã€‚</p></blockquote><h2 id="Capability-æƒé™è®¾è®¡æ¨¡å¼"><a href="#Capability-æƒé™è®¾è®¡æ¨¡å¼" class="headerlink" title="Capability æƒé™è®¾è®¡æ¨¡å¼"></a>Capability æƒé™è®¾è®¡æ¨¡å¼</h2><p><code>public struct AdminCap has key { id: UID }</code></p><p>å½“ä½ éœ€è¦å¯¹ç»“æ„ä½“è¿›è¡Œä¸€äº›æ“ä½œæ—¶ï¼Œå¿…é¡»ç”±ä¼ å…¥è¿™ä¸ªç»“æ„ä½“çš„å®ä¾‹æ¥<strong>éªŒè¯ä½ æ˜¯ä¸æ˜¯æœ‰è¿™ä¸ªæƒé™</strong>ï¼Œè¿™ä¸ªæƒé™ä¸€èˆ¬æ¥è¯´æ˜¯ä¸€ä¸ªæœ‰keyèƒ½åŠ›çš„objectï¼ŒåŒæ—¶å¯ä»¥é€‚å½“åŠ ä¸Šstoreèƒ½åŠ›ï¼Œå¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚</p><p>å®é™…ä¸Šå°±æ˜¯å®æ–½æƒé™æ§åˆ¶ï¼Œæœ‰æƒé™çš„äººæ‰å¯ä»¥è°ƒç”¨è¯¥æ“ä½œ</p><p>å…·ä½“ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">module design_pattern::capability {</span><br><span class="line">    use std::string::{Self,String};</span><br><span class="line">    use sui::transfer</span><br><span class="line">    use sui::object::{Self, UID};</span><br><span class="line">    use sui::tx_context::{Self,TxContext};</span><br><span class="line">    </span><br><span class="line">//ç”Ÿæˆç®¡ç†å‘˜æƒé™ç»“æ„ä½“</span><br><span class="line">    public struct AdminCap has key { id: UID }</span><br><span class="line">//ç±»ä¼¼äºNFTçš„ç±»å‹</span><br><span class="line">    public struct Item has key, store { id: UID, name: String }</span><br><span class="line">//åˆ›å»ºä¸€ä¸ªç®¡ç†å‘˜æƒé™ï¼Œå¹¶ä¼ é€’ç»™å‘è¡Œè€…</span><br><span class="line">    fun init(ctx: &amp;mut TxContext) {</span><br><span class="line">        let my_address =  ctx.sender();</span><br><span class="line">        let addmin_cap = AdminCap {</span><br><span class="line">            id: object::new(ctx)</span><br><span class="line">        };</span><br><span class="line">        //å°†æƒé™è½¬ç§»transfer::transfer(addmin_cap, my_address);</span><br><span class="line">        let addmin_cap2 = AdminCap {</span><br><span class="line">            id: object::new(ctx)</span><br><span class="line">        };        transfer::transfer(addmin_cap2, @0x1111);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    //è¿è¡Œç¤ºä¾‹</span><br><span class="line">    public fun create_and_send(</span><br><span class="line">    //æ£€éªŒ</span><br><span class="line">        _: &amp;AdminCap, name: vector&lt;u8&gt;, to: address, ctx: &amp;mut TxContext</span><br><span class="line">    ) {</span><br><span class="line">        transfer::transfer(Item {</span><br><span class="line">            id: object::new(ctx),</span><br><span class="line">            name: name.to_string()</span><br><span class="line">        }, to)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="witness-è§è¯è€…è®¾è®¡æ¨¡å¼"><a href="#witness-è§è¯è€…è®¾è®¡æ¨¡å¼" class="headerlink" title="witness è§è¯è€…è®¾è®¡æ¨¡å¼"></a>witness è§è¯è€…è®¾è®¡æ¨¡å¼</h2><p><code>public struct Name has drop {}</code></p><p>ç®€å•ç†è§£ä¸º è¿™ä¸ªç»“æ„ä½“ï¼ˆèµ„æºï¼‰åˆ›å»ºå‡ºæ¥çš„å®ä¾‹æ˜¯ä¸ºäº†<code>è§è¯</code>å¦ä¸€ä¸ªèµ„æºçš„åˆ›å»ºï¼Œç±»ä¼¼äºåšæ ‡è®°ã€‚</p><p><font color="red">æ³¨<font>ï¼šæ­¤ç»“æ„ä½“æ²¡æœ‰å­—æ®µï¼Œåªæœ‰dropï¼ˆé”€æ¯ï¼‰èƒ½åŠ›ï¼Œå®ä¾‹åªèƒ½ä½¿ç”¨ä¸€æ¬¡</font></font></p><p>ç¤ºä¾‹ä»£ç :</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">module design::guardian {</span><br><span class="line"></span><br><span class="line">    public struct Guardian&lt;phantom T: drop&gt; has key, store {</span><br><span class="line">        id: UID</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public fun create_guardian&lt;T: drop&gt;(</span><br><span class="line">    //åšæ ‡è®°ï¼Œè§è¯Guardianèµ„æºçš„åˆ›å»º</span><br><span class="line">        _witness: T, ctx: &amp;mut TxContext</span><br><span class="line">    ): Guardian&lt;T&gt; {</span><br><span class="line">        Guardian { id: object::new(ctx) }</span><br><span class="line">    }</span><br><span class="line">    //ç»“æŸååˆ é™¤</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">module design::peace_guardian {</span><br><span class="line">    use design::guardian;</span><br><span class="line"></span><br><span class="line">    public struct PEACE has drop {}</span><br><span class="line"></span><br><span class="line">    fun init(ctx: &amp;mut TxContext) {</span><br><span class="line">//ç”Ÿæˆå¯¹åº”çš„ç¤ºä¾‹</span><br><span class="line">        let peace = PEACE{};</span><br><span class="line">        transfer::public_transfer(</span><br><span class="line">            guardian::create_guardian(peace, ctx),</span><br><span class="line">            ctx.sender()</span><br><span class="line">        )</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="one-time-witness-è§è¯è€…æ¨¡å¼"><a href="#one-time-witness-è§è¯è€…æ¨¡å¼" class="headerlink" title="one-time-witness è§è¯è€…æ¨¡å¼"></a>one-time-witness è§è¯è€…æ¨¡å¼</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public struct OTW has drop {}</span><br><span class="line">types::is_one_time_witness(&amp;witness)</span><br></pre></td></tr></tbody></table></figure><p>è¯¥ç»“æ„ä½“æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è§è¯è€…ï¼šåŒä¸€ä¸ªåŒ…ä¸‹é¢çš„åŒä¸€ä¸ªç»“æ„ä½“ï¼Œåªèƒ½åˆ›å»ºå‡ºæ¥ä¸€ä¸ªå®ä¾‹æ¥åš â€˜è§è¯â€™ ï¼ŒåŒä¸€ä¸ªç»“æ„ä½“åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ä¾‹å¦‚åˆ›å»ºä¸€ä¸ª<code>Coin</code>ï¼Œä¸€æ¡é“¾å¯¹åº”ä¸€ä¸ª<code>Coin</code></p><p><font color="red">æ³¨<font>ï¼šåç§°å¿…é¡»ä¸åŒ…çš„åå­—å®Œå…¨ç›¸åŒï¼Œå¹¶ä¸”å…¨éƒ¨å¤§å†™ï¼›æ²¡æœ‰å­—æ®µï¼Œåªæœ‰dropï¼ˆé”€æ¯ï¼‰èƒ½åŠ›ï¼›é€šè¿‡<code>fun init (witness: Struct, ctx: &amp;mut TxContext) {}</code> ä¼ å…¥</font></font></p><h3 id="Transferable-Witness-å¯ä»¥è½¬ç§»è§è¯è€…æ¨¡å¼"><a href="#Transferable-Witness-å¯ä»¥è½¬ç§»è§è¯è€…æ¨¡å¼" class="headerlink" title="Transferable Witness å¯ä»¥è½¬ç§»è§è¯è€…æ¨¡å¼"></a>Transferable Witness å¯ä»¥è½¬ç§»è§è¯è€…æ¨¡å¼</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public struct WITNESS has store, drop {}</span><br><span class="line">public struct WitnessBox has key { id: UID, witness: WITNESS }</span><br></pre></td></tr></tbody></table></figure><p>è¿™è§è¯è€…ç»“æ„ä½“å¯ä»¥åˆ›å»ºåæ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œé¢ï¼Œéšç€å®¹å™¨è½¬ç§»æ‰€æœ‰æƒï¼Œéœ€è¦ç”¨åˆ°çš„æ—¶å€™åœ¨å–å‡ºæ¥åšè§è¯</p><p><font color="red">æ³¨<font>ï¼š ç»“æ„ä½“æ²¡æœ‰å­—æ®µï¼Œåªæœ‰dropï¼ˆé”€æ¯ï¼‰å’Œstoreï¼ˆå®ç°å­˜å‚¨ï¼‰å’Œèƒ½åŠ›ï¼Œéœ€è¦ä¸€ä¸ªobjectçš„å®¹å™¨æ¥åŒ…è£…ï¼Œå­˜å‚¨åœ¨é“¾ä¸Šã€‚</font></font></p><h2 id="hot-potato-è®¾è®¡æ¨¡å¼"><a href="#hot-potato-è®¾è®¡æ¨¡å¼" class="headerlink" title="hot-potato è®¾è®¡æ¨¡å¼"></a>hot-potato è®¾è®¡æ¨¡å¼</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public struct Receipt { price: u64 }</span><br><span class="line"></span><br><span class="line">public fun create(xx:XX,...):(Receipt{},Coin&lt;x&gt;)</span><br><span class="line"></span><br><span class="line">public fun burn(rece:Receipt,...)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>ç”¨è¿™ä¸ªç»“æ„ä½“<code>public struct Receipt { price: u64 }</code>æ¥æ£€æµ‹æ˜¯å¦ç¬¦åˆäº¤æ˜“çš„æ¡ä»¶ï¼Œé˜²æ­¢åˆ«äººç›—èµ°èµ„æºã€‚</p><p>ç®€å•ç†è§£å°±æ˜¯çƒ«æ‰‹çš„å±±èŠ‹ï¼Œä½ æ‹¿åˆ°æ‰‹é‡Œè‚¯å®šå¤„ç†ä¸äº†ï¼Œæ‰€ä»¥ä½ åªèƒ½è¿˜å›å» </p><p><font color="red">æ³¨<font>ï¼šç»“æ„ä½“æ²¡æœ‰ä»»ä½•èƒ½åŠ›ï¼Œæä¾›å¯¹å¤–æ–¹æ³•æ¥<strong>åˆ›å»º</strong>ç»“æ„ä½“å’Œ<strong>é”€æ¯</strong>ç»“æ„ä½“ã€‚</font></font></p><h3 id="hot-potatoå…·ä½“ä¾‹å­-é—ªç”µè´·"><a href="#hot-potatoå…·ä½“ä¾‹å­-é—ªç”µè´·" class="headerlink" title="hot-potatoå…·ä½“ä¾‹å­-é—ªç”µè´·"></a>hot-potatoå…·ä½“ä¾‹å­-é—ªç”µè´·</h3><p>é—ªç”µè´·çš„ç‰¹ç‚¹</p><ul><li><p>åœ¨ä¸€ä¸ªäº¤æ˜“é‡Œé¢å¿…é¡»å®Œæˆå€Ÿå’Œè¿˜</p></li><li><p>æ— éœ€æŠµæŠ¼</p></li><li><p>ä¸è¿˜æ¬¾ä¸€å®šä¼šæŠ¥é”™</p></li><li><p>ä¸»è¦ç”¨äºå¥—åˆ©å’ŒåŠ æ æ†</p></li></ul><p>å€Ÿæ¬¾äººé€šè¿‡æ™ºèƒ½åˆçº¦è¯·æ±‚è´·æ¬¾ï¼Œåœ¨åŒä¸€äº¤æ˜“ä¸­åˆ©ç”¨è¿™ç¬”è´·æ¬¾è¿›è¡Œå„ç§æ“ä½œï¼Œå¦‚æŠ•èµ„ã€äº¤æ˜“æˆ–å…¶ä»–é‡‘èæ´»åŠ¨ï¼ŒåŒæ—¶å€Ÿæ¬¾äººå¿…é¡»åœ¨åŒä¸€äº¤æ˜“ä¸­å°†è´·æ¬¾é‡‘é¢ä¸åˆ©æ¯ï¼ˆgas fee)è¿˜æ¸…ã€‚å¦‚æœå€Ÿæ¬¾äººæœªèƒ½æŒ‰æ—¶è¿˜æ¬¾æˆ–ä¸æŒ‰åè®®è¿˜æ¬¾ï¼Œæ•´ä¸ªäº¤æ˜“å°†è¢«å–æ¶ˆï¼Œè´·æ¬¾é‡‘é¢å°†è¢«è¿”è¿˜ç»™è´·æ¬¾æä¾›æ–¹ï¼Œè¿™æ—¶å€Ÿæ¬¾äººä»ç„¶éœ€è¦æ”¯ä»˜<code>gas fee</code></p><blockquote><p>é—ªç”µè´·çš„å…·ä½“ç ”ç©¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š</p><p>[é—ªç”µè´·è¯¦è§£]: <a href="https://academy.binance.com/zh/articles/what-are-flash-loans-in-defi#how-does-a-flash-loan-work">https://academy.binance.com/zh/articles/what-are-flash-loans-in-defi#how-does-a-flash-loan-work</a>â€œä»€ä¹ˆæ˜¯defiä¸­çš„é—ªç”µè´·ï¼Ÿâ€</p></blockquote><h1 id="Sui-framework"><a href="#Sui-framework" class="headerlink" title="Sui_framework"></a>Sui_framework</h1><p>å»ºè®®å»å®˜æ–¹çš„åº“ä¸­æŸ¥çœ‹å­¦ä¹ </p><blockquote></blockquote><p>Sui_frameworkï¼Œæ˜¯Sui-moveç¼–ç¨‹åŠŸèƒ½çš„åˆé›†ï¼Œæœ‰å¾ˆå¤šç›¸å…³çš„åº“</p><ul><li>deepbook</li><li>move-stdlib æ ‡å‡†åº“</li><li>sui-framework</li><li>sui-system</li></ul><h2 id="Balance-Coin-Token-å®šä¹‰åŠç‰¹ç‚¹"><a href="#Balance-Coin-Token-å®šä¹‰åŠç‰¹ç‚¹" class="headerlink" title="Balance/Coin/Token-å®šä¹‰åŠç‰¹ç‚¹"></a>Balance/Coin/Token-å®šä¹‰åŠç‰¹ç‚¹</h2><ul><li>Balanceï¼šä¸€ä¸ªé€šç”¨çš„ä½™é¢å¯å­˜å‚¨å¤„ç†ç¨‹åºã€‚åœ¨Coin æ¨¡å—ä¸­ç”¨äºå…è®¸ä½™é¢æ“ä½œï¼Œå¹¶å¯ç”¨äºå®ç°å…·æœ‰Supply å’Œ Balance çš„è‡ªå®šä¹‰è´§å¸ã€‚</li><li>Coinï¼šå®šä¹‰äº† Coinç±»å‹-è¡¨ç¤ºå¯äº’æ¢çš„ä»¤ç‰Œå’Œè´§å¸çš„å¹³å°èŒƒå›´å†…çš„è¡¨ç¤ºã€‚Coin å¯ä»¥è¢«æè¿°ä¸ºå›´ç»•Balance ç±»å‹çš„å®‰å…¨åŒ…è£…å™¨ã€‚</li><li>Token: Token æ¨¡å—å®ç°äº†ä¸€ä¸ªå¯é…ç½®çš„é—­ç¯ä»¤ç‰Œç³»ç»Ÿã€‚è¯¥ç­–ç•¥ç”±ä¸€ç»„è§„åˆ™å®šä¹‰ï¼Œå¿…é¡»æ»¡è¶³è¿™äº›è§„åˆ™æ‰èƒ½å¯¹ä»¤ç‰Œæ‰§è¡Œæ“ä½œã€‚</li></ul><p>Tokençš„äº§ç”Ÿæ˜¯ç”±CoinæŠ½è±¡å‡ºæ¥ï¼Œé™åˆ¶<code>Coinçš„è‡ªç”±è½¬å‘</code></p><table><thead><tr><th>Module</th><th>Main type</th><th>Capability</th><th>Abilities</th></tr></thead><tbody><tr><td>sui::balance</td><td>Balance<t></t></td><td>Supply<t></t></td><td>store</td></tr><tr><td>sui::coin</td><td>Coin<t></t></td><td>TreasuryCapT&gt;</td><td>key + store</td></tr><tr><td>sui:: token</td><td>Token<t></t></td><td>TreasuryCap<t></t></td><td>key</td></tr></tbody></table><h2 id="display-standard-NFT"><a href="#display-standard-NFT" class="headerlink" title="display standard -NFT"></a>display standard -NFT</h2><ul><li><p><strong>nameï¼ˆåç§°ï¼‰</strong> - å¯¹è±¡çš„åç§°ã€‚ç”¨æˆ·æŸ¥çœ‹å¯¹è±¡æ—¶æ˜¾ç¤ºæ­¤åç§°ã€‚</p></li><li><p><strong>descriptionï¼ˆæè¿°ï¼‰</strong> - å¯¹è±¡çš„æè¿°ã€‚ç”¨æˆ·æŸ¥çœ‹å¯¹è±¡æ—¶æ˜¾ç¤ºæ­¤æè¿°ã€‚</p></li><li><p><strong>linkï¼ˆé“¾æ¥ï¼‰</strong> - ç”¨äºåº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡é“¾æ¥ã€‚</p></li><li><p><strong>image_urlï¼ˆå›¾ç‰‡é“¾æ¥ï¼‰</strong> - å¯¹è±¡çš„å›¾åƒé“¾æ¥ï¼Œå¯ä»¥æ˜¯URLæˆ–è€…å›¾åƒçš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p></li><li><p><strong>thumbnail_urlï¼ˆç¼©ç•¥å›¾é“¾æ¥ï¼‰</strong> - ç”¨ä½œé’±åŒ…ã€æµè§ˆå™¨å’Œå…¶ä»–äº§å“ä¸­çš„é¢„è§ˆçš„å°å›¾åƒçš„URLã€‚</p></li><li><p><strong>project_urlï¼ˆé¡¹ç›®é“¾æ¥ï¼‰</strong> - ä¸å¯¹è±¡æˆ–åˆ›å»ºè€…ç›¸å…³è”çš„ç½‘ç«™é“¾æ¥ã€‚</p></li><li><p><strong>creatorï¼ˆåˆ›å»ºè€…ï¼‰</strong> - è¡¨ç¤ºå¯¹è±¡åˆ›å»ºè€…çš„å­—ç¬¦ä¸²ä¿¡æ¯ã€‚</p></li></ul><p>NFT = Object + Display</p><p>Sui Object Display æ˜¯ä¸€ç§æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥å®ç°å¯¹ç±»å‹çš„é“¾ä¸Šç®¡ç†ä¸é“¾ä¸‹è¡¨ç¤ºï¼ˆæ˜¾ç¤ºï¼‰çš„æ¨¡æ¿åŒ–ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥å°†å¯¹è±¡çš„æ•°æ®æ›¿æ¢ä¸ºæ¨¡æ¿å­—ç¬¦ä¸²ã€‚è¯¥æ ‡å‡†ä¸é™åˆ¶ä½ å¯ä»¥è®¾ç½®çš„å­—æ®µã€‚ä½ å¯ä»¥ä½¿ç”¨ï½›propertyï½è¯­æ³•è®¿é—®æ‰€æœ‰å¯¹è±¡å±æ€§ï¼Œç„¶åå°†å®ƒä»¬ä½œä¸ºæ¨¡æ¿å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†æ’å…¥å…¶ä¸­ã€‚</p><h3 id="Kiosk"><a href="#Kiosk" class="headerlink" title="Kiosk"></a>Kiosk</h3><blockquote><p>å…·ä½“ä»‹ç»ï¼š<a href="https://docs.sui.io/standards/kiosk">https://docs.sui.io/standards/kiosk</a></p></blockquote><h2 id="Unit-Test-å•å…ƒæµ‹è¯•"><a href="#Unit-Test-å•å…ƒæµ‹è¯•" class="headerlink" title="Unit Test(å•å…ƒæµ‹è¯•)"></a>Unit Test(å•å…ƒæµ‹è¯•)</h2><ul><li>#[test]-åªè·‘ä¸€éæŸä¸ªå‡½æ•°</li><li>#[test_only]-å·¥å…·å‡½æ•°ï¼Œåªåœ¨æµ‹è¯•çš„æ—¶å€™æ‰è¢«ç¼–è¯‘</li><li>#[expect_failure(abort_code = test_sui_hello ::my_coin::ENotlmplemented)]-æµ‹è¯•æŒ‡å®šå‡½æ•°ï¼ŒæŠ¥å‡ºæŒ‡å®šçš„é”™è¯¯ï¼Œå¯ä»¥ç†è§£ä¸ºç”¨é”™è¯¯æ¡ä»¶æ¥æ£€éªŒç¨‹åºæ˜¯å¦æ­£ç¡®</li></ul><p>ä½¿ç”¨å‰æ–‡çš„Print()æ¥è°ƒè¯•</p><h1 id="Coinåè®®"><a href="#Coinåè®®" class="headerlink" title="Coinåè®®"></a>Coinåè®®</h1><p>Coinæœ‰ä¸¤ç§æ‰€æœ‰æƒï¼š</p><ul><li>ç‹¬æœ‰æ‰€æœ‰æƒï¼š<code>public_transfer(treasury_cap,sender(ctx))</code></li><li>å…±äº«æ‰€æœ‰æƒï¼š <code>public_share_object(treasury_cap)</code></li></ul><p>ps: ä»£ç æ¥è‡ªå®˜æ–¹æ ‡å‡†åº“</p><p>ç”Ÿæˆä¸€ä¸ªCoin</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">module examples::my_coin {</span><br><span class="line">    use sui::coin::{Self, TreasuryCap};</span><br><span class="line"></span><br><span class="line">    public struct MY_COIN has drop {}</span><br><span class="line">//é‡‡ç”¨ä¸€æ¬¡è§è¯</span><br><span class="line">    fun init(witness: MY_COIN, ctx: &amp;mut TxContext) {</span><br><span class="line">        let (treasury, metadata) = coin::create_currency(witness, 6, b"MY_COIN", b"", b"", option::none(), ctx);</span><br><span class="line">        //æ‰€æœ‰æƒå…±äº« ä¸å¯å˜å…±äº«</span><br><span class="line">        transfer::public_freeze_object(metadata);</span><br><span class="line">        //å‘åˆçº¦å‘å¸ƒè€…å…±äº«æ‰€æœ‰æƒ</span><br><span class="line">        transfer::public_transfer(treasury, ctx.sender())</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥çš„è®¤è¯†è¿™ä¸ªå‡½æ•°</p><p>ä½¿ç”¨<code>coin::create_currency</code>æ—¶ï¼Œåˆ›å»ºç¡¬å¸çš„æ™ºèƒ½åˆçº¦çš„å‘å¸ƒè€…ä¼šæ”¶åˆ°ä¸€ä¸ª<code>TreasuryCap</code>å¯¹è±¡å’Œ<code>Coinå…ƒæ•°æ®</code>ã€‚è¯¥<code>TreasuryCap</code>å¯¹è±¡æ˜¯é“¸é€ æ–°ç¡¬å¸æˆ–é”€æ¯ç°æœ‰ç¡¬å¸æ‰€å¿…éœ€çš„ã€‚</p><p>åŒæ—¶<code>TreasuryCap</code>å¯¹è±¡æ˜¯å¯è½¬è®©çš„ï¼Œå› æ­¤å¦‚æœæ‚¨è½¬è®©è¯¥å¯¹è±¡ï¼Œç¬¬ä¸‰æ–¹å¯ä»¥æ¥ç®¡æ‚¨åˆ›å»ºçš„ä»£å¸çš„ç®¡ç†<code>TreasuryCap</code>ã€‚ä½†æ˜¯ï¼Œåœ¨è½¬è®©è¯¥åŠŸèƒ½åï¼Œæ‚¨å°†æ— æ³•å†è‡ªè¡Œé“¸é€ å’Œé”€æ¯ä»£å¸ã€‚</p><p>è¿˜æœ‰å¾ˆå¤šå…¶ä»–åŠŸèƒ½ï¼šè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå»ºè®®ç”¨æ–‡æ¡£å­¦ä¹  </p></font><p></p>]]></content>
      
      
      <categories>
          
          <category> åŒºå—é“¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> moveæ™ºèƒ½åˆçº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTB &amp; å¿«é€Ÿå¼€å§‹dapp</title>
      <link href="/2024/09/30/qu-kuai-lian/sui-move-xue-xi-bi-ji-jin-jie-ban/"/>
      <url>/2024/09/30/qu-kuai-lian/sui-move-xue-xi-bi-ji-jin-jie-ban/</url>
      
        <content type="html"><![CDATA[<h1 id="sui-move"><a href="#sui-move" class="headerlink" title="sui -move"></a>sui -move</h1><h2 id="Sui-PTB-ï¼ˆå¯ç¼–ç¨‹äº¤æ˜“æ¨¡å—ï¼‰"><a href="#Sui-PTB-ï¼ˆå¯ç¼–ç¨‹äº¤æ˜“æ¨¡å—ï¼‰" class="headerlink" title="Sui-PTB ï¼ˆå¯ç¼–ç¨‹äº¤æ˜“æ¨¡å—ï¼‰"></a>Sui-PTB ï¼ˆå¯ç¼–ç¨‹äº¤æ˜“æ¨¡å—ï¼‰</h2><p>å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š<a href="https://docs.sui.io/concepts/transactions/prog-txn-blocks">https://docs.sui.io/concepts/transactions/prog-txn-blocks</a></p><h3 id="PTBæ¦‚è¿°"><a href="#PTBæ¦‚è¿°" class="headerlink" title="PTBæ¦‚è¿°"></a>PTBæ¦‚è¿°</h3><p>PTB å…¨ç§° Programmable Transaction Blockï¼ˆå¯ç¼–ç¨‹äº¤æ˜“æ¨¡å—ï¼‰ï¼Œåœ¨Suiä¸Šï¼Œäº¤æ˜“ä¸ä»…ä»…æ˜¯èµ„äº§æµåŠ¨çš„åŸºæœ¬è®°å½•ï¼Œäº¤æ˜“ç”±å¤šä¸ªå‘½ä»¤ç»„æˆï¼Œè¿™äº›å‘½ä»¤åœ¨è¾“å…¥ä¸Šæ‰§è¡Œï¼Œå®šä¹‰äº¤æ˜“çš„ç»“æœã€‚</p><p>PTBå…è®¸ç”¨æˆ·åœ¨å•ä¸ªäº¤æ˜“ä¸­è°ƒç”¨å¤šä¸ªMoveå‡½æ•°ï¼Œç®¡ç†å…¶å¯¹è±¡å’Œç®¡ç†å…¶ä»£å¸ï¼Œè€Œæ— éœ€å‘å¸ƒæ–°çš„MoveåŒ…ï¼Œæ˜¯ç”Ÿæˆäº¤æ˜“çš„ä¸€ç§è½»é‡çµæ´»çš„æ–¹å¼ï¼ŒåŒæ—¶å…¶æ‰§è¡Œç»„åˆçš„äº¤æ˜“æ¨¡å¼å‡å°‘äº†gas fee ã€‚</p><h3 id="PTB-çš„ç»„æˆ"><a href="#PTB-çš„ç»„æˆ" class="headerlink" title="PTB çš„ç»„æˆ"></a>PTB çš„ç»„æˆ</h3><p>æ¯ä¸ªPTBç”±å•ç‹¬çš„äº¤æ˜“å‘½ä»¤ç»„æˆï¼Œè¿™é‡Œçš„äº¤æ˜“å‘½ä»¤æœ‰ï¼š</p><ol><li><p><strong>TransferObjects</strong></p><ul><li>å°†ä¸€ç»„å¯¹è±¡è½¬ç§»åˆ°æŒ‡å®šåœ°å€ã€‚</li></ul></li><li><p><strong>SplitCoins</strong></p><ul><li>å°†ä¸€ä¸ªç¡¬å¸æ‹†åˆ†æˆå¤šä¸ªç¡¬å¸ã€‚</li></ul></li><li><p><strong>MakeMoveVec</strong></p><ul><li>æ„å»ºä¸€ä¸ª Move ç±»å‹çš„å‘é‡ã€‚</li></ul></li><li><p><strong>MoveCall</strong></p><ul><li>è°ƒç”¨æŒ‡å®šçš„ Move å‡½æ•°ã€‚</li></ul></li><li><p><strong>Publish</strong></p><ul><li>å‘å¸ƒæŒ‡å®šçš„æ¨¡å—ã€‚</li></ul></li><li><p><strong>Upgrade</strong></p><ul><li>å‡çº§å·²æœ‰çš„æ¨¡å—æˆ–åŒ…ã€‚</li></ul></li></ol><p>æ¯ä¸ªäº¤æ˜“å‘½ä»¤æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•åç»­äº¤æ˜“å‘½ä»¤ä¸­ä½¿ç”¨å‰ä¸€ä¸ªäº¤æ˜“å‘½ä»¤çš„ç»“æœã€‚æ‰€æœ‰äº¤æ˜“å‘½ä»¤åœ¨ä¸€ä¸ªå—ä¸­çš„æ•ˆæœï¼Œç‰¹åˆ«æ˜¯å¯¹è±¡ä¿®æ”¹æˆ–è½¬ç§»ï¼Œä¼šåœ¨äº‹åŠ¡ç»“æŸæ—¶ä»¥åŸå­æ–¹å¼åº”ç”¨ã€‚å¦‚æœä¸€ä¸ªäº¤æ˜“å‘½ä»¤å¤±è´¥ï¼Œæ•´ä¸ªå—éƒ½ä¼šå¤±è´¥ï¼Œå¹¶ä¸”å‘½ä»¤çš„ä»»ä½•æ•ˆæœéƒ½ä¸ä¼šè¢«åº”ç”¨</p><p>ä¸»è¦é€šè¿‡å‰ç«¯æ¥æ•´åˆå¹¶è¿ç»­å®æ–½å¤šä¸ªæ“ä½œï¼Œå³æ“ä½œå‰ç«¯æ¥å®ç°äº¤æ˜“çš„æ·»åŠ å’Œåˆçº¦çš„è°ƒç”¨</p><h3 id="PTBçš„ä½¿ç”¨"><a href="#PTBçš„ä½¿ç”¨" class="headerlink" title="PTBçš„ä½¿ç”¨"></a>PTBçš„ä½¿ç”¨</h3><h4 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºå¯ç¼–ç¨‹äº‹åŠ¡å— (PTB)</span></span><br><span class="line"><span class="keyword">const</span> txb = <span class="keyword">new</span> <span class="title class_">Transaction</span>();</span><br><span class="line"><span class="comment">//è®¾ç½®è¾“å…¥å‚æ•°</span></span><br><span class="line"><span class="keyword">const</span> arg1 = txb.<span class="title function_">object</span>(objectId0);</span><br><span class="line"><span class="keyword">const</span> arg2 = txb.<span class="title function_">object</span>(objectId1);</span><br><span class="line"><span class="keyword">const</span> arg3 = txb.<span class="property">pure</span>.<span class="title function_">u8</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> arg4 = txb.<span class="property">pure</span>.<span class="title function_">bool</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">const</span> arg5 = txb.<span class="title function_">pure</span>(bcs.<span class="title function_">vector</span>(bcs.<span class="property">U64</span>).<span class="title function_">serialize</span>([<span class="number">123</span>, <span class="number">456</span>]));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myCoin = txb.<span class="title function_">object</span>(myCoinId);</span><br><span class="line"> <span class="comment">//é€šè¿‡å‘½ä»¤è°ƒç”¨ Move å‡½æ•°æ‹¿åˆ°è¾“å‡ºçš„èµ„äº§</span></span><br><span class="line"><span class="keyword">const</span> coinOut = txb.<span class="title function_">moveCall</span>({</span><br><span class="line">  <span class="attr">target</span>: <span class="string">'${packageId}::${moduleName}::${funcName}*'</span>,</span><br><span class="line">  <span class="attr">typeArguments</span>: [type1, type2],</span><br><span class="line">  <span class="attr">arguments</span>: [arg1, arg2, arg3, arg4, arg5]</span><br><span class="line">});</span><br><span class="line"><span class="comment">// æ‹†åˆ†Coinä¸ºcoinOut0å’Œ coinOut1</span></span><br><span class="line"><span class="keyword">const</span> [coinOut0, coinOut1] = txb.<span class="title function_">splitCoins</span>(coinOut, [<span class="number">100</span>, <span class="number">200</span>]);</span><br><span class="line"><span class="comment">// å°†coinåˆå¹¶åˆ°è‡ªå·±çš„èµ„äº§ä¸­</span></span><br><span class="line">txb.<span class="title function_">mergeCoins</span>(myCoin, [coinOut]);</span><br><span class="line"><span class="comment">// è½¬ç§»å¯¹è±¡</span></span><br><span class="line"><span class="keyword">if</span> (coinOut0) txb.<span class="title function_">transferObjects</span>([coinOut0], recipient);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (coinOut1) txb.<span class="title function_">transferObjects</span>([coinOut1], recipient1);</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="terminal"><a href="#terminal" class="headerlink" title="terminal"></a>terminal</h4><figure class="highlight powershell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sui client ptb </span><br><span class="line"><span class="literal">--assign</span> kapy @<span class="number">0</span>xa8f224924c9570c0bed020606be889fd46373e80c3a6b9547aeb33e646b4d540 </span><br><span class="line"><span class="literal">--assign</span> cfg @<span class="number">0</span>x80ff28774e3056f00e130a2dedda8be83c04acf3ab0697395bd37ee022001d15 </span><br><span class="line"><span class="literal">--move-call</span> <span class="number">0</span>xf61cffb662dda6c8ac484f299361b0d85464d06e46603321ad0b7311f0594490::exercise_3::buy_with_kapy kapy </span><br><span class="line"><span class="literal">--assign</span> dv </span><br><span class="line"><span class="literal">--move-call</span> <span class="number">0</span>xf61cffb662dda6c8ac484f299361b0d85464d06e46603321ad0b7311f0594490::exercise_3::pay <span class="string">"&lt;sui::sui::SUI&gt;"</span> @<span class="number">0</span>xd4fb85849ac089d5df317663b818dda0cf35a9f8b3c68ec81f941d010019bf7d cfg dv @<span class="number">0</span>x5617dbcfdea83576ae108ce03ea4fdebf2c505c53eec6e8c1130366f5bbb2eac </span><br><span class="line"><span class="literal">--assign</span> org </span><br><span class="line"><span class="literal">--move-call</span> <span class="number">0</span>xcbfbdaaa8e8a70556c0cf1a038ddb3d9cc86cdaeb1add61abf7ebd2becac7b9d::kapy::carry kapy org <span class="literal">--gas-budget</span> <span class="number">10000000</span> </span><br></pre></td></tr></tbody></table></figure><h2 id="Sui-client-å‘½ä»¤é€ŸæŸ¥"><a href="#Sui-client-å‘½ä»¤é€ŸæŸ¥" class="headerlink" title="Sui -client å‘½ä»¤é€ŸæŸ¥"></a>Sui -client å‘½ä»¤é€ŸæŸ¥</h2><ul><li><a href="https://docs.sui.io/references/cli/cheatsheet">https://docs.sui.io/references/cli/cheatsheet</a></li></ul><h2 id="Sui-Dapp-kit-å¥—ä»¶"><a href="#Sui-Dapp-kit-å¥—ä»¶" class="headerlink" title="Sui-Dapp kit å¥—ä»¶"></a>Sui-Dapp kit å¥—ä»¶</h2><ul><li><a href="https://sdk.mystenlabs.com/dapp-kit">https://sdk.mystenlabs.com/dapp-kit</a></li></ul><figure class="highlight powershell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm i <span class="literal">--save</span> @mysten/dapp<span class="literal">-kit</span> @mysten/sui @tanstack/react<span class="literal">-query</span></span><br><span class="line">npm creat @mysten/dapp </span><br><span class="line">npm install <span class="literal">--legacy-peer-deps</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»º-Dapp"><a href="#åˆ›å»º-Dapp" class="headerlink" title="åˆ›å»º Dapp"></a>åˆ›å»º Dapp</h2><p><a href="https://sdk.mystenlabs.com/dapp-kit/create-dapp">https://sdk.mystenlabs.com/dapp-kit/create-dapp</a></p><figure class="highlight powershell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm create @mysten/dapp</span><br><span class="line">é€‰æ‹©<span class="number">1</span>ï¼šreact<span class="literal">-client-dapp</span> - ä¸€ä¸ªåŸºæœ¬çš„ React dAppï¼Œç”¨äºè·å–è¿æ¥çš„é’±åŒ…æ‰€æ‹¥æœ‰çš„å¯¹è±¡åˆ—è¡¨ã€‚</span><br><span class="line">é€‰æ‹©<span class="number">2</span>ï¼šreact<span class="literal">-e2e-counter</span> - åŒ…å« <span class="built_in">Move</span> ä»£ç å’Œç®€å•è®¡æ•°å™¨åº”ç”¨ç¨‹åº UI çš„ç«¯åˆ°ç«¯ç¤ºä¾‹</span><br><span class="line">è¾“å…¥Dapp<span class="literal">-name</span></span><br><span class="line"><span class="built_in">cd</span> Dapp<span class="literal">-name</span></span><br><span class="line">npm install  // äº§ç”Ÿå†²çª npm install <span class="literal">--legacy-peer-deps</span></span><br><span class="line">npm run dev - è¿è¡Œ</span><br></pre></td></tr></tbody></table></figure><h3 id="Typescript-SDK"><a href="#Typescript-SDK" class="headerlink" title="Typescript SDK"></a>Typescript SDK</h3><ul><li><a href="https://sdk.mystenlabs.com/typescript">https://sdk.mystenlabs.com/typescript</a></li></ul><h4 id="coin-value-å’Œ-coin-into-balance-ä¸åŒï¼š"><a href="#coin-value-å’Œ-coin-into-balance-ä¸åŒï¼š" class="headerlink" title="coin::value å’Œ coin::into_balance ä¸åŒï¼š"></a><strong><code>coin::value</code> å’Œ <code>coin::into_balance</code> ä¸åŒ</strong>ï¼š</h4><ol><li><p><strong><code>coin::value</code></strong>:</p><ul><li><p>ç”¨äºè·å–ä¸€ä¸ª <code>Coin</code> çš„<strong>æ•°å€¼</strong>ã€‚</p></li><li><p>å®ƒæ˜¯ä¸€ä¸ªå…¬å…±çš„ getter å‡½æ•°ï¼Œå¯ä»¥è¿”å› <code>Coin</code> çš„å…·ä½“æ•°å€¼ã€‚</p></li><li><p>ä»£ç ç­¾åä¸ºï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public fun value&lt;T&gt;(self: &amp;coin::Coin&lt;T&gt;): u64</span><br></pre></td></tr></tbody></table></figure></li><li><p>è¿™ä¸ªå‡½æ•°ä¸ä¼šæ”¹å˜ <code>Coin</code> çš„çŠ¶æ€ï¼Œåªæ˜¯è¯»å–å…¶æ•°å€¼ã€‚</p></li></ul></li><li><p><strong><code>coin::into_balance</code></strong>:</p><ul><li><p>ç”¨äºå°†ä¸€ä¸ª <code>Coin</code> è§£æ„ä¸º <code>Balance</code>ã€‚</p></li><li><p>è¿™ä¸ªå‡½æ•°ä¼šæ¶ˆè€— <code>Coin</code> å¯¹è±¡ï¼Œå¹¶è¿”å›å…¶å†…éƒ¨çš„ <code>Balance</code>ã€‚</p></li><li><p>ä»£ç ç­¾åä¸ºï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public fun into_balance&lt;T&gt;(coin: coin::Coin&lt;T&gt;): balance::Balance&lt;T&gt;</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä½¿ç”¨è¿™ä¸ªå‡½æ•°åï¼Œ**<code>Coin</code> ä¸å†å­˜åœ¨ï¼Œè€Œæ˜¯è½¬æ¢ä¸ºäº† <code>Balance</code>**ã€‚</p></li></ul></li></ol><p>è¿™ä¸¤ä¸ªå‡½æ•°çš„ä¸»è¦åŒºåˆ«åœ¨äºä¸€ä¸ªæ˜¯è¯»å–æ“ä½œï¼ˆ<code>value</code>ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯è½¬æ¢æ“ä½œï¼ˆ<code>into_balance</code>ï¼‰ã€‚å¦‚æœä½ æƒ³è·å– <code>Coin</code> çš„æ•°å€¼è€Œä¸æ”¹å˜å…¶çŠ¶æ€ï¼Œä½¿ç”¨ <code>value</code>ï¼›å¦‚æœä½ éœ€è¦å°† <code>Coin</code> è½¬æ¢ä¸º <code>Balance</code>ï¼Œä½¿ç”¨ <code>into_balance</code>ã€‚</p><h4 id="å’Œç›´æ¥ä¼ å‚å’Œ-mut-çš„åŒºåˆ«"><a href="#å’Œç›´æ¥ä¼ å‚å’Œ-mut-çš„åŒºåˆ«" class="headerlink" title="&amp; å’Œç›´æ¥ä¼ å‚å’Œ&amp;mut çš„åŒºåˆ«"></a><strong>&amp; å’Œç›´æ¥ä¼ å‚å’Œ&amp;mut çš„åŒºåˆ«</strong></h4><p>åœ¨ Move ä¸­ï¼Œ<code>&amp;</code>ã€ç›´æ¥ä¼ å‚å’Œ <code>&amp;mut</code> çš„åŒºåˆ«ä¸»è¦åœ¨äºæ‰€æœ‰æƒå’Œå¯å˜æ€§ï¼š</p><ol><li><p><strong>å¼•ç”¨ï¼ˆ&amp;ï¼‰</strong>ï¼š</p><ul><li>ä¼ é€’çš„æ˜¯å¯¹è±¡çš„ä¸å¯å˜å¼•ç”¨ã€‚</li><li>å…è®¸åœ¨å‡½æ•°ä¸­è¯»å–å¯¹è±¡ï¼Œä½†ä¸èƒ½ä¿®æ”¹ã€‚</li><li>ä¸ä¼šè½¬ç§»å¯¹è±¡çš„æ‰€æœ‰æƒã€‚</li></ul></li><li><p><strong>ç›´æ¥ä¼ å‚</strong>ï¼š</p><ul><li>ä¼ é€’çš„æ˜¯å¯¹è±¡æœ¬èº«ã€‚</li><li>è½¬ç§»å¯¹è±¡çš„æ‰€æœ‰æƒåˆ°å‡½æ•°ä¸­ã€‚</li><li>å‡½æ•°å¯ä»¥æ¶ˆè€—å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œé”€æ¯æˆ–è½¬ç§»ï¼‰ã€‚</li></ul></li><li><p><strong>å¯å˜å¼•ç”¨ï¼ˆ&amp;mutï¼‰</strong>ï¼š</p><ul><li>ä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¯å˜å¼•ç”¨ã€‚</li><li>å…è®¸åœ¨å‡½æ•°ä¸­è¯»å–å’Œä¿®æ”¹å¯¹è±¡ã€‚</li><li>ä¸ä¼šè½¬ç§»å¯¹è±¡çš„æ‰€æœ‰æƒï¼Œä½†å…è®¸ä¿®æ”¹å…¶çŠ¶æ€ã€‚</li></ul></li></ol><p>é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹å¼å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ï¼š</p><ul><li>ä½¿ç”¨ <code>&amp;</code> å½“ä½ åªéœ€è¦è¯»å–å¯¹è±¡è€Œä¸ä¿®æ”¹ã€‚</li><li>ä½¿ç”¨ <code>&amp;mut</code> å½“ä½ éœ€è¦åœ¨å‡½æ•°ä¸­ä¿®æ”¹å¯¹è±¡ã€‚</li><li>ä½¿ç”¨ç›´æ¥ä¼ å‚å½“ä½ éœ€è¦è½¬ç§»å¯¹è±¡çš„æ‰€æœ‰æƒæˆ–æ¶ˆè€—å®ƒã€‚</li></ul><h2 id="å„ç±»transferçš„åŒºåˆ«ä¸ä½¿ç”¨"><a href="#å„ç±»transferçš„åŒºåˆ«ä¸ä½¿ç”¨" class="headerlink" title="å„ç±»transferçš„åŒºåˆ«ä¸ä½¿ç”¨"></a>å„ç±»transferçš„åŒºåˆ«ä¸ä½¿ç”¨</h2><table><thead><tr><th>æ–¹æ³•</th><th>ç”Ÿæˆçš„æ–¹æ³•</th><th>å±æ€§</th></tr></thead><tbody><tr><td>transfer</td><td>ç‹¬äº«å¯¹è±¡</td><td>key</td></tr><tr><td>public_transfer</td><td>ç‹¬äº«å¯¹è±¡</td><td>key + store</td></tr><tr><td>freeze_object</td><td>å…±äº«å¯¹è±¡-å¸¸é‡</td><td>key</td></tr><tr><td>public_freeze_object</td><td>å…±äº«å¯¹è±¡-å¸¸é‡</td><td>key + store</td></tr><tr><td>share_object</td><td>å…±äº«å¯¹è±¡</td><td>key</td></tr><tr><td>public_share_object</td><td>å…±äº«å¯¹è±¡</td><td>key + store</td></tr></tbody></table><p>æºç åœ°å€ï¼š<a href="https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/transfer.move">https://github.com/MystenLabs/sui/blob/main/crates/sui-framework/packages/sui-framework/sources/transfer.move</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> moveæ™ºèƒ½åˆçº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React</title>
      <link href="/2024/09/18/qian-duan/react-bi-ji/"/>
      <url>/2024/09/18/qian-duan/react-bi-ji/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å­¦ä¹ è§†é¢‘</p><p><a href="https://www.bilibili.com/video/BV1is4y167yY/?p=41&amp;spm_id_from=pageDriver&amp;vd_source=7815abf75f25008fd075daf46f5ff072">12. Props, Immutability, and One-Way Data Flow_å“”å“©å“”å“©_bilibili</a></p></blockquote><h1 id="Reactç¬”è®°"><a href="#Reactç¬”è®°" class="headerlink" title="Reactç¬”è®°"></a>Reactç¬”è®°</h1><hr><h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><p>è¿™é‡Œå†™äº†å¸¸ç”¨åˆ°çš„ jsçŸ¥è¯† </p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯¹è±¡è§£æ„èµ‹å€¼ï¼ˆObject Destructuringï¼‰ï¼Œå…è®¸ä½ ä»å¯¹è±¡ä¸­æå–å±æ€§ï¼Œå¹¶å°†å®ƒä»¬èµ‹å€¼ç»™å˜é‡</span></span><br><span class="line"><span class="keyword">const</span> { title,author,publicationDate,hasMovieAdaptation,genres,reviews,translations } = book; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(title, author);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•°ç»„è§£æ„èµ‹å€¼å…è®¸ä½ å°†æ•°ç»„ä¸­çš„å€¼æå–åˆ°å•ç‹¬çš„å˜é‡ä¸­ï¼Œè¯­æ³•ç±»ä¼¼äºå¯¹è±¡è§£æ„èµ‹å€¼ï¼Œä½†ä½¿ç”¨çš„æ˜¯æ–¹æ‹¬å· []ï¼›</span></span><br><span class="line"><span class="keyword">const</span> [firstBook, secondBook, ...otherBooks ] = books; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstBook, secondBook, otherBooks);</span><br><span class="line"><span class="comment">//æ·»åŠ æ–°å…ƒç´   åœ¨è§£æ„èµ‹å€¼ä¸­ï¼Œ... æ“ä½œç¬¦å¯ä»¥ç”¨æ¥æ”¶é›†å‰©ä½™çš„å…ƒç´ ã€‚å®ƒå¯ä»¥ç”¨äºæ•°ç»„è§£æ„æ—¶å°†å‰©ä½™çš„å…ƒç´ èµ‹å€¼ç»™ä¸€ä¸ªæ–°æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> newGenres = [...book.<span class="property">genres</span>, <span class="string">"horror"</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newGenres);</span><br><span class="line"></span><br><span class="line"><span class="comment">//adding new genre to bookså¯ä»¥è¦†ç›–åŸæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ·»åŠ æ–°çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">//å…ˆå±•å¼€</span></span><br><span class="line"><span class="keyword">const</span> updateBook = { ...books, <span class="attr">data</span>:<span class="string">"123"</span> };</span><br><span class="line">updateBook;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡æ¿å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> summary = <span class="string">`<span class="subst">${title}</span> is a book,and published in <span class="subst">${publicationDate.split(<span class="string">"-"</span>)[<span class="number">0</span>]}</span>`</span>;</span><br><span class="line">summary;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‰å…ƒè¿ç®—ç¬¦</span></span><br><span class="line"><span class="keyword">const</span> hasMovie = books.<span class="property">hasMovieAdaptation</span> ? <span class="string">"Yes"</span> : <span class="string">"No"</span>;</span><br><span class="line">hasMovie;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç®­å¤´å‡½æ•° split() æ–¹æ³•ç”¨äºåˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«åˆ†å‰²åçš„å­å­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">publicationDateYear</span> = (<span class="params">str</span>) =&gt; str.<span class="property">publicationDate</span>.<span class="title function_">split</span>(<span class="string">"-"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">publicationDateYear</span>(book));</span><br><span class="line"><span class="comment">//è¿ç®—ç¬¦</span></span><br><span class="line"><span class="comment">// &amp;&amp; çŸ­è·¯é€»è¾‘ä¸ || çŸ­è·¯é€»è¾‘</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">true</span> &amp;&amp; <span class="string">"nihao"</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="literal">false</span> || <span class="string">"nihao"</span>);</span><br><span class="line"><span class="comment">// console.log( true || "nihao");</span></span><br><span class="line"><span class="comment">// console.log( false &amp;&amp; "nihao");</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//?? falseçŸ­è·¯é€»è¾‘ æ€»è¯„</span></span><br><span class="line"><span class="keyword">const</span> count = book.<span class="property">reviews</span>.<span class="property">librarything</span> ?? <span class="number">0</span>;</span><br><span class="line">count;</span><br><span class="line"></span><br><span class="line"><span class="comment">//falsy values: false, null, undefined, 0, NaN, ""</span></span><br><span class="line"><span class="comment">//truthy values: true, non-empty string, non-empty array, object, function </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//optonal chaining  </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTotalReviewcount</span>(<span class="params">book</span>){</span><br><span class="line">  <span class="keyword">const</span> goodreads = book.<span class="property">reviews</span>?.<span class="property">goodreads</span>;</span><br><span class="line">  <span class="keyword">const</span> librarything = book.<span class="property">reviews</span>?.<span class="property">librarything</span> ?? <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> goodreads + librarything;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">const</span> totalReviewCount = <span class="title function_">getTotalReviewcount</span>(book);</span><br><span class="line">totalReviewCount;</span><br><span class="line"></span><br><span class="line"><span class="comment">//mapä¼šéå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶æŒ‰ç…§å‡½æ•°å¼ï¼Œå¯¹åŸæ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œæ“ä½œï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> x =[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].<span class="title function_">map</span>(<span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// reduce çš„æ•ˆæœ æ˜¯å°†æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶æˆä¸€ä¸ªå€¼ ç›¸è¾ƒäº filterã€map</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> sum = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">sum, cur</span>) =&gt;</span> sum + cur, <span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br><span class="line"></span><br><span class="line"><span class="comment">//filer è¿‡æ»¤æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> filteredArr = arr3.<span class="title function_">filter</span>(<span class="function">(<span class="params">num</span>) =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>);</span><br><span class="line">filteredArr;</span><br><span class="line"></span><br><span class="line"><span class="comment">//sort ä¼šæ”¹å˜åŸæ•°ç»„ï¼Œè¿”å›æ’åºåçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> sortedArr = arr1.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">sortedArr;</span><br><span class="line">arr1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// slice å¯ä»¥è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> slicedArr2 = arr2.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">5</span>).<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(slicedArr2);</span><br><span class="line">arr2;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç®­å¤´å‡½æ•° ä¸ºäº†å»¶è¿Ÿæ‰§è¡Œ onDeleteItem(item.id)ï¼Œå³åœ¨ç‚¹å‡»æ—¶æ‰è°ƒç”¨å®ƒ</span></span><br><span class="line">onClick={<span class="function">() =&gt;</span> <span class="title function_">onDeleteItem</span>(item.<span class="property">id</span>)} </span><br><span class="line"></span><br><span class="line"><span class="comment">//å›è°ƒå‡½æ•° ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Hello!"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(greet, <span class="number">2000</span>);  <span class="comment">// 2ç§’åè°ƒç”¨greetå‡½æ•°</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><hr><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p><strong>React</strong> æ˜¯ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚</p><p>å®ƒæä¾›äº†ç»„ä»¶ã€çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ç­‰åŠŸèƒ½æ¥å¸®åŠ©å¼€å‘è€…æ„å»ºå¤æ‚çš„å‰ç«¯åº”ç”¨</p><p>å…¶ä¸»è¦åŠŸèƒ½æ˜¯å®ç°åç«¯æ•°æ®ä¸å‰ç«¯é¡µé¢çš„å³æ—¶æ›´æ–°ï¼ŒåŒæ—¶å‡å°‘å•ä¸€ä½¿ç”¨<code>js</code>æ—¶çš„ç¹å†—å·¥ä½œé‡</p><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><h4 id="åˆ›å»ºé¡¹ç›®ï¼š"><a href="#åˆ›å»ºé¡¹ç›®ï¼š" class="headerlink" title="åˆ›å»ºé¡¹ç›®ï¼š"></a>åˆ›å»ºé¡¹ç›®ï¼š</h4><h5 id="æ–¹æ³•1ï¼š"><a href="#æ–¹æ³•1ï¼š" class="headerlink" title="æ–¹æ³•1ï¼š"></a>æ–¹æ³•1ï¼š</h5><p>a. å®‰è£… Node.js å’Œ npmï¼ˆNode.js åŒ…ç®¡ç†å™¨ï¼‰ã€‚</p><p>b. æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ã€‚</p><p>c. è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ React åº”ç”¨ç¨‹åºï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app</span><br><span class="line">cd my-app</span><br><span class="line">npm start</span><br></pre></td></tr></tbody></table></figure><h5 id="æ–¹æ³•2ï¼šä½¿ç”¨-Vite"><a href="#æ–¹æ³•2ï¼šä½¿ç”¨-Vite" class="headerlink" title="æ–¹æ³•2ï¼šä½¿ç”¨ Vite"></a>æ–¹æ³•2ï¼šä½¿ç”¨ Vite</h5><p>Vite æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ„å»ºå·¥å…·ï¼Œå®ƒæä¾›äº†å¿«é€Ÿçš„å†·å¯åŠ¨å’Œçƒ­æ›´æ–°ã€‚å®ƒæ”¯æŒ TypeScriptã€CSS é¢„å¤„ç†å™¨å’Œè®¸å¤šå…¶ä»–åŠŸèƒ½ã€‚</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init vite@latest my-app -- --template react</span><br><span class="line">cd my-app</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></tbody></table></figure><p>æ–‡ä»¶ç»“æ„å¦‚ä¸‹</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">my-app/</span><br><span class="line">â”œâ”€â”€ node_modules/         <span class="comment"># é¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“</span></span><br><span class="line">â”œâ”€â”€ public/</span><br><span class="line">â”‚   â”œâ”€â”€ favicon.ico       <span class="comment"># ç½‘ç«™å›¾æ ‡</span></span><br><span class="line">â”‚   â”œâ”€â”€ index.html        <span class="comment"># HTML å…¥å£æ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ manifest.json     <span class="comment"># PWA åº”ç”¨é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”‚   â””â”€â”€ robots.txt        <span class="comment"># çˆ¬è™«åè®®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ src/</span><br><span class="line">â”‚   â”œâ”€â”€ App.css           <span class="comment"># åº”ç”¨çš„æ ·å¼æ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ App.tsx           <span class="comment"># åº”ç”¨çš„ä¸»ç»„ä»¶æ–‡ä»¶ (æˆ– .js)</span></span><br><span class="line">â”‚   â”œâ”€â”€ App.test.tsx      <span class="comment"># æµ‹è¯•æ–‡ä»¶ï¼Œä½¿ç”¨ Jest æµ‹è¯•æ¡†æ¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ index.css         <span class="comment"># å…¨å±€æ ·å¼æ–‡ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ index.tsx         <span class="comment"># åº”ç”¨å…¥å£æ–‡ä»¶ (æˆ– .js)</span></span><br><span class="line">â”‚   â”œâ”€â”€ logo.svg          <span class="comment"># åº”ç”¨ logo å›¾æ ‡</span></span><br><span class="line">â”‚   â”œâ”€â”€ reportWebVitals.ts <span class="comment"># æ€§èƒ½æŠ¥å‘Š (å¯é€‰)</span></span><br><span class="line">â”‚   â””â”€â”€ setupTests.ts     <span class="comment"># è®¾ç½®æµ‹è¯•ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ .gitignore            <span class="comment"># Git å¿½ç•¥æ–‡ä»¶é…ç½®</span></span><br><span class="line">â”œâ”€â”€ package.json          <span class="comment"># é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä¾èµ–ä¿¡æ¯å’Œè„šæœ¬</span></span><br><span class="line">â”œâ”€â”€ README.md             <span class="comment"># é¡¹ç›®çš„ README æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ tsconfig.json         <span class="comment"># TypeScript é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœä½¿ç”¨ TypeScriptï¼‰</span></span><br><span class="line">â””â”€â”€ yarn.lock / package-lock.json  <span class="comment"># é”å®šä¾èµ–ç‰ˆæœ¬çš„æ–‡ä»¶</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="React-ä¸‰è¦ç´ "><a href="#React-ä¸‰è¦ç´ " class="headerlink" title="React ä¸‰è¦ç´ "></a>React ä¸‰è¦ç´ </h2><h3 id="1-ç»„ä»¶ï¼ˆComponentï¼‰"><a href="#1-ç»„ä»¶ï¼ˆComponentï¼‰" class="headerlink" title="1. ç»„ä»¶ï¼ˆComponentï¼‰"></a>1. <strong>ç»„ä»¶ï¼ˆComponentï¼‰</strong></h3><p>ç»„ä»¶æ˜¯ React çš„åŸºç¡€æ„å»ºå—ï¼Œæ¯ä¸ª React åº”ç”¨éƒ½æ˜¯ç”±ä¸€ä¸ªä¸ªç»„ä»¶ç»„åˆè€Œæˆçš„ã€‚Reactä¸ºæ¯ä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸€ä¸ªè§†å›¾ï¼Œè¿™äº›è§†å›¾ç»„æˆUIã€‚æ¯ä¸ªç»„ä»¶éƒ½æ‹¥æœ‰è‡ªå·±çš„ â€œ<strong>æ•°æ®</strong>â€  â€œ<strong>ï¼ˆjsï¼‰é€»è¾‘</strong>â€  â€œ<strong>å¤–è§‚</strong>â€</p><ul><li><img src="/2024/09/18/qian-duan/react-bi-ji/react.png" alt="reactç¬”è®°/react"><strong>ç±»ç»„ä»¶</strong>ï¼šé€šè¿‡ ES6 çš„ç±»æ¥å®šä¹‰ï¼ŒåŒ…å«çŠ¶æ€ï¼ˆstate)å’Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</li><li><strong>å‡½æ•°ç»„ä»¶</strong>ï¼šReact 16.8 ä¹‹åæ¨èçš„æ–¹å¼ï¼Œä½¿ç”¨å‡½æ•°å®šä¹‰ç»„ä»¶å¹¶ç»“åˆé’©å­ï¼ˆHooksï¼‰æ¥ç®¡ç†çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸã€‚</li></ul><p>ç»„ä»¶ä¸å¯åµŒå¥—</p><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°ç»„ä»¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Welcome</span>(<span class="params">props</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, {props.name}<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><h4 id="ä»€ä¹ˆæ˜¯-JSX"><a href="#ä»€ä¹ˆæ˜¯-JSX" class="headerlink" title="ä»€ä¹ˆæ˜¯ JSX ?"></a>ä»€ä¹ˆæ˜¯ JSX ?</h4><p>jsxæ˜¯ä¸€ç§å£°æ˜è¯­æ³•ï¼Œç”¨æ¥æè¿°ç»„ä»¶çš„å¤–è§‚ï¼Œæ ¹æ®æ•°æ®å’Œé€»è¾‘å·¥ä½œã€‚é€šå¸¸ä¸ React ä¸€èµ·ä½¿ç”¨ï¼Œå…è®¸åœ¨ JavaScript ä»£ç ä¸­ç¼–å†™ç±»ä¼¼ HTML çš„æ ‡ç­¾</p><ol><li><strong>ç±» HTML çš„è¯­æ³•</strong>ï¼š</li></ol><ul><li>JSX å…è®¸åœ¨ JavaScript ä»£ç ä¸­åµŒå…¥ç±»ä¼¼ HTML çš„æ ‡ç­¾ï¼Œä½¿å¾—ç¼–å†™ç”¨æˆ·ç•Œé¢æ—¶æ›´åŠ ç›´è§‚å’Œç®€æ´ã€‚è™½ç„¶çœ‹èµ·æ¥åƒ HTMLï¼Œä½† JSX å®é™…ä¸Šä¼šè¢«ç¼–è¯‘æˆ JavaScript å‡½æ•°è°ƒç”¨ã€‚</li></ul><ol start="2"><li><strong>æ”¯æŒè¡¨è¾¾å¼</strong>ï¼š</li></ol><ul><li><p>JSX ä¸­å¯ä»¥ä½¿ç”¨ JavaScript è¡¨è¾¾å¼ï¼Œé€šè¿‡{}åŒ…è£¹</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const name = 'Alice';</span><br><span class="line">const element = &lt;h1&gt;Hello, {name}!&lt;/h1&gt;;</span><br></pre></td></tr></tbody></table></figure></li></ul><ol start="3"><li><strong>å¿…é¡»è¿”å›ä¸€ä¸ªçˆ¶å…ƒç´ </strong>ï¼š</li></ol><ul><li><p>åœ¨ JSX ä¸­ï¼Œæ‰€æœ‰æ ‡ç­¾å¿…é¡»è¢«ä¸€ä¸ªçˆ¶çº§å…ƒç´ åŒ…è£¹ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">    &lt;p&gt;Description&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure></li></ul><ol start="4"><li><strong>æ ·å¼å’Œå±æ€§çš„å¤„ç†</strong>ï¼š</li></ol><ul><li><p>åœ¨ JSX ä¸­ï¼Œclasså±æ€§è¢«æ›¿æ¢ä¸º<code>className</code>ï¼Œstyleå±æ€§æ¥å—ä¸€ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className="container" style={{ color: 'red' }}&gt;Hello&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure></li></ul></blockquote><h3 id="2-çŠ¶æ€ï¼ˆStateï¼‰"><a href="#2-çŠ¶æ€ï¼ˆStateï¼‰" class="headerlink" title="2. çŠ¶æ€ï¼ˆStateï¼‰"></a>2. <strong>çŠ¶æ€ï¼ˆStateï¼‰</strong></h3><p>çŠ¶æ€æ˜¯ç»„ä»¶å†…éƒ¨çš„æ•°æ®ï¼Œå®ƒå†³å®šäº†ç»„ä»¶çš„è¡Œä¸ºå’Œæ˜¾ç¤ºçš„å†…å®¹ã€‚</p><p>çŠ¶æ€æ˜¯å¯å˜çš„ï¼Œéšç€ç”¨æˆ·çš„äº¤äº’æˆ–å…¶ä»–äº‹ä»¶è§¦å‘ï¼Œå®ƒä¼šå‘ç”Ÿå˜åŒ–å¹¶<strong>é‡æ–°æ¸²æŸ“</strong>ç»„ä»¶ã€‚</p><p>åœ¨ç±»ç»„ä»¶ä¸­ï¼ŒçŠ¶æ€é€šè¿‡ <code>this.state</code> æ¥ç®¡ç†ï¼Œåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ <code>useState</code> <strong>é’©å­</strong>æ¥ç®¡ç†ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯é’©å­ï¼Ÿ</p><p>åœ¨ React ä¸­ï¼Œé’©å­å°±æ˜¯useå¼€å¤´çš„çŠ¶æ€ç»„ä»¶ï¼Œå…è®¸ä½ åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ï¼Œè€Œä¸éœ€è¦ç¼–å†™ç±»ç»„ä»¶ã€‚</p><p>å¸¸è§çš„ React é’©å­æœ‰ï¼š</p><ul><li><code>useState</code>ï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€å˜é‡ã€‚</li><li><code>useEffect</code>ï¼šç”¨äºæ‰§è¡Œå‰¯ä½œç”¨æ“ä½œï¼ˆå¦‚æ•°æ®è·å–ã€è®¢é˜…æˆ–æ‰‹åŠ¨æ›´æ”¹ DOMï¼‰ã€‚</li><li><code>useContext</code>ï¼šç”¨äºåœ¨ç»„ä»¶æ ‘ä¸­å…±äº«æ•°æ®ï¼Œè€Œæ— éœ€é€å±‚ä¼ é€’ propsã€‚</li></ul></blockquote><h4 id="æ€ä¹ˆä½¿ç”¨çŠ¶æ€"><a href="#æ€ä¹ˆä½¿ç”¨çŠ¶æ€" class="headerlink" title="æ€ä¹ˆä½¿ç”¨çŠ¶æ€"></a>æ€ä¹ˆä½¿ç”¨çŠ¶æ€</h4><p><strong>ä»€ä¹ˆæ—¶å€™åˆ›å»ºçŠ¶æ€ï¼Ÿ</strong></p><ol><li><p>éœ€è¦å­˜å‚¨æ•°æ®ï¼Ÿ</p></li><li><p>æ•°æ®ä¼šå‘ç”Ÿå˜åŒ–å— </p><ul><li>ä¸ä¼š =&gt; const å¸¸é‡å³å¯</li></ul></li><li><p>æ˜¯å¦å¯ä»¥ä»ç°æœ‰çš„é“å…·/çŠ¶æ€ä¸­è®¡ç®—ï¼Ÿ</p><ul><li>ä¼š =&gt; æ´¾ç”ŸçŠ¶æ€(derive state)</li></ul></li><li><p>æ›´æ–°çŠ¶æ€æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Ÿ</p></li></ol><ul><li>ä¸ä¼š =&gt; ä½¿ç”¨Ref ï¼ˆåƒæ™®é€šçŠ¶æ€ä¸€æ ·æŒä¹…çš„ä¿æŒæ•°æ®ï¼Œä½†æ— éœ€é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼‰</li></ul><ol start="5"><li>ä½¿ç”¨useStateåˆ›å»ºä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶æ”¾ç½®åœ¨ç»„ä»¶ä¸­</li></ol><p><strong>åœ¨å“ªé‡Œä½¿ç”¨çŠ¶æ€ï¼Ÿ</strong></p><p><strong>å½“å‰ç»„ä»¶</strong>ã€é€šè¿‡é“å…·ä¼ é€’ç»™<strong>å­ç»„ä»¶</strong>ã€å°†çŠ¶æ€ä¼ é€’ç»™åŒçº§ç»„ä»¶çš„<strong>å…¬å…±çˆ¶ç»„ä»¶</strong>ä¸­å»ï¼ˆçŠ¶æ€ä¸Šç§»ï¼‰ã€æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ï¼ˆ<strong>å…¨å±€çŠ¶æ€</strong>ï¼‰</p><h4 id="æ´¾ç”ŸçŠ¶æ€"><a href="#æ´¾ç”ŸçŠ¶æ€" class="headerlink" title="æ´¾ç”ŸçŠ¶æ€"></a>æ´¾ç”ŸçŠ¶æ€</h4><p>æ´¾ç”ŸçŠ¶æ€å°±æ˜¯ç®€å•åœ°ä»ä¸€ä¸ªç°æœ‰çŠ¶æ€æˆ–è€…é“å…·ä¸­è®¡ç®—å‡ºæ¥çš„çŠ¶æ€</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [total,setTotal] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">const</span> tip = total /<span class="number">2</span>;</span><br></pre></td></tr></tbody></table></figure><h3 id="3-å±æ€§ï¼ˆPropsï¼‰"><a href="#3-å±æ€§ï¼ˆPropsï¼‰" class="headerlink" title="3. å±æ€§ï¼ˆPropsï¼‰"></a>3. <strong>å±æ€§ï¼ˆPropsï¼‰</strong></h3><p><code>props</code> æ˜¯ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®çš„æ–¹å¼ã€‚</p><p>çˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡ <code>props</code> å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶æ— æ³•ä¿®æ”¹ <code>props</code>ï¼Œå®ƒä»¬æ˜¯åªè¯»çš„ã€‚<code>props</code> çš„ä¸»è¦ä½œç”¨æ˜¯è®©ç»„ä»¶çš„æ¸²æŸ“æ›´åŠ çµæ´»å’Œ<strong>å¯å¤ç”¨</strong>ã€‚</p><p>åœ¨ä¼ é€’ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ js ä¸­çš„<code>é‡æ„</code>æ¥ä¼ é€’å¯¹è±¡çš„åç§°è€Œä¸æ˜¯<code>props</code>ï¼Œä½†æ˜¯ä¸è¦å¿˜è®°ä½¿ç”¨<code>{}</code></p><p color="red">æ³¨ : Reactæ˜¯å•å‘æ•°æ®æµï¼Œæ•°æ®åªèƒ½ä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶</p><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®</span><br><span class="line">function Menu() {</span><br><span class="line">  return (</span><br><span class="line">      &lt;main className="menu"&gt;</span><br><span class="line">        &lt;h2&gt;our pizzas&lt;/h2&gt;</span><br><span class="line">        &lt;Pizza name= "Focaccia" </span><br><span class="line">        ingredients= "Bread with italian olive oil and rosemary" </span><br><span class="line">        price="6" </span><br><span class="line">        photoName="pizzas/focaccia.jpg"/&gt;</span><br><span class="line">       &lt;/main&gt;</span><br><span class="line"></span><br><span class="line">function Pizza(props) {</span><br><span class="line">  return (</span><br><span class="line">      &lt;div className="pizza"&gt;</span><br><span class="line">        &lt;img src={props.photoName} alt={props.name} /&gt;</span><br><span class="line">        &lt;div className="pizzas"&gt;</span><br><span class="line">        &lt;h3&gt;{props.name}&lt;/h3&gt;</span><br><span class="line">        &lt;p&gt;{props.ingredients}&lt;/p&gt;</span><br><span class="line">        &lt;span&gt;{props.price}&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="å­ä»£é“å…·"><a href="#å­ä»£é“å…·" class="headerlink" title="å­ä»£é“å…·"></a>å­ä»£é“å…·</h4><p>åœ¨ React ä¸­ï¼Œ<strong>å­ä»£é“å…·ï¼ˆChildren Propsï¼‰</strong> æ˜¯æŒ‡é€šè¿‡ <code>props.children</code> ä¼ é€’çš„å†…å®¹ï¼Œå®ƒå…è®¸çˆ¶ç»„ä»¶å°†åµŒå¥—åœ¨å…¶å†…éƒ¨çš„ JSX ä»£ç æˆ–ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚å®ƒæä¾›äº†ä¸€ç§çµæ´»çš„æ–¹å¼æ¥æ„å»ºå¯å¤ç”¨çš„ç»„ä»¶ï¼Œä½¿å¾—çˆ¶ç»„ä»¶å¯ä»¥å†³å®šå­ç»„ä»¶çš„å†…éƒ¨å†…å®¹ï¼Œè€Œä¸éœ€è¦åœ¨å­ç»„ä»¶ä¸­æ˜ç¡®æŒ‡å®šã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Wrapper</span>(<span class="params">props</span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"wrapper"</span>&gt;</span>{props.children}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Wrapper</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph inside the Wrapper component.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Wrapper</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="ä¸‰è¦ç´ å…³ç³»æ€»ç»“ï¼š"><a href="#ä¸‰è¦ç´ å…³ç³»æ€»ç»“ï¼š" class="headerlink" title="ä¸‰è¦ç´ å…³ç³»æ€»ç»“ï¼š"></a>ä¸‰è¦ç´ å…³ç³»æ€»ç»“ï¼š</h3><ul><li><strong>ç»„ä»¶</strong> æ˜¯ UI çš„åŸºæœ¬å•å…ƒï¼Œé€šè¿‡ç»„åˆå½¢æˆå®Œæ•´çš„åº”ç”¨ã€‚</li><li><strong>çŠ¶æ€</strong> æ˜¯ç»„ä»¶å†…éƒ¨çš„åŠ¨æ€æ•°æ®ï¼Œæ§åˆ¶ç€ç»„ä»¶çš„è¡Œä¸ºå’Œæ˜¾ç¤ºã€‚</li><li><strong>å±æ€§ï¼ˆpropsï¼‰</strong> ç”¨äºåœ¨ç»„ä»¶é—´ä¼ é€’æ•°æ®ï¼Œé€šå¸¸æ˜¯çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ã€‚</li></ul><blockquote><p>çŠ¶æ€ä¸é“å…·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p><strong>çŠ¶æ€ï¼ˆstateï¼‰</strong>ï¼šçŠ¶æ€æ˜¯ç»„ä»¶å†…éƒ¨ç®¡ç†çš„æ•°æ®ï¼Œæ•°æ®å½’åˆ›å»ºä»–çš„ç»„ä»¶æ‰€æœ‰ï¼Œå®ƒå¯ä»¥çœ‹ä½œç»„ä»¶çš„å­˜å‚¨ï¼Œå¯ä»¥ç”¨æ¥é•¿æœŸä¿å­˜æ•°æ®ã€‚çŠ¶æ€å¯ä»¥åœ¨ç»„ä»¶å†…éƒ¨è¢«ä¿®æ”¹ï¼ˆé€šè¿‡<code>setState</code>æˆ–<code>useState</code>ï¼‰ï¼Œå¹¶ä¼šåœ¨å˜åŒ–æ—¶è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œç”¨æ¥æ§åˆ¶ç»„ä»¶çš„è¡Œä¸ºã€æ¸²æŸ“å’Œäº¤äº’ã€‚</p><ul><li>ç”¨äºå­˜å‚¨ç»„ä»¶å†…éƒ¨<strong>åŠ¨æ€å˜åŒ–çš„æ•°æ®</strong>ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥çš„è¡¨å•å€¼ã€åŠ è½½æ•°æ®çš„ç»“æœã€ç»„ä»¶çš„äº¤äº’çŠ¶æ€ï¼ˆå¦‚æ‰“å¼€æˆ–å…³é—­æŸä¸ªUIå…ƒç´ ï¼‰ã€‚</li><li>å½“çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReactä¼šè‡ªåŠ¨è§¦å‘ä¸¤ä¸ªç»„ä»¶çš„é‡æ–°æ¸²æŸ“</li></ul><p><strong>é“å…·ï¼ˆpropsï¼‰</strong>ï¼šé“å…·æ˜¯ä»çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®ï¼Œæ•°æ®è¢«çˆ¶ç»„ä»¶æ‰€æœ‰ï¼Œå¯ä»¥æŠŠå®ƒæƒ³è±¡å‡½æ•°å‚æ•°ã€‚å› ä¸ºå®ƒæ˜¯åªè¯»çš„ï¼Œ<strong>å­ç»„ä»¶æ— æ³•ç›´æ¥ä¿®æ”¹å®ƒ</strong>ã€‚å½“å­ç»„ä»¶æ”¶åˆ°æ›´æ–°çš„propsæ—¶ï¼Œä¹Ÿä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶</p><ul><li>é“å…·ä¸»è¦ç”¨æ¥è®©ç»„ä»¶é—´è¿›è¡Œ<strong>é™æ€æ•°æ®ä¼ </strong>é€’ï¼Œé€šå¸¸æ˜¯çˆ¶ç»„ä»¶å°†æ•°æ®é€šè¿‡é“å…·ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ ¹æ®é“å…·çš„å€¼æ¸²æŸ“ã€‚</li><li>å½“é“å…·çš„å€¼åœ¨çˆ¶ç»„ä»¶ä¸­å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå­ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ã€‚</li></ul></blockquote><h2 id="æ€ä¹ˆæ¸²æŸ“åˆ—è¡¨ï¼ˆrendering-a-listï¼‰"><a href="#æ€ä¹ˆæ¸²æŸ“åˆ—è¡¨ï¼ˆrendering-a-listï¼‰" class="headerlink" title="æ€ä¹ˆæ¸²æŸ“åˆ—è¡¨ï¼ˆrendering a listï¼‰"></a>æ€ä¹ˆæ¸²æŸ“åˆ—è¡¨ï¼ˆrendering a listï¼‰</h2><p>æ¦‚å¿µï¼šå¯ä»¥ç†è§£ä¸ºåˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸ºæ•°ç»„é‡Œçš„æ¯ä¸ªå…ƒç´ åˆ›å»ºç»„ä»¶</p><p>é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨æ•°ç»„çš„ <code>map()</code> æ–¹æ³•æ¥ç”Ÿæˆåˆ—è¡¨é¡¹ã€‚æ¯ä¸ªåˆ—è¡¨é¡¹éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„ <code>key</code> å±æ€§ï¼Œä»¥å¸®åŠ© React è¯†åˆ«å’Œä¼˜åŒ–åˆ—è¡¨ä¸­çš„å…ƒç´ </p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//const pizzaData = [{...}]</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Menu</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">main</span> <span class="attr">className</span>=<span class="string">"menu"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>our pizzas<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        {pizzaData.map((pizzas) =&gt; (</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Pizza</span> <span class="attr">pizzaObj</span>=<span class="string">{pizzas}</span> <span class="attr">key</span>=<span class="string">{pizzas.name}</span> /&gt;</span> ))}</span></span><br><span class="line"><span class="language-xml">  {/*è¿™ä¸€æ®µä»£ç æ˜¯ React ä¸­é€šè¿‡æ•°ç»„çš„ map() æ–¹æ³•æ¸²æŸ“åˆ—è¡¨çš„å¸¸ç”¨æ–¹å¼ã€‚å®ƒçš„ä½œç”¨æ˜¯éå† pizzaData æ•°ç»„ï¼Œä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå¯¹è±¡ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ Pizza ç»„ä»¶*/}</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Pizza</span>(<span class="params">props</span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"pizza"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">{props.pizzaObj.photoName}</span> <span class="attr">alt</span>=<span class="string">{props.pizzaObj.name}</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"pizzas"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>{props.pizzaObj.name}<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>{props.pizzaObj.ingredients}<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>{props.pizzaObj.price}<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h3><p>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ &amp;&amp; è¿ç®—ç¬¦çš„<strong>çŸ­è·¯é€»è¾‘</strong>ï¼Œåœ¨ç‰¹å®šæ¡ä»¶ä¸‹é€‰æ‹©å†…å®¹</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Footer</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getHours</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  <span class="keyword">const</span> open = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">const</span> close = <span class="number">22</span>;</span><br><span class="line">  <span class="keyword">const</span> isOpen = data &gt;= open &amp;&amp; data &lt; close;</span><br><span class="line">  <span class="keyword">return</span> ( </span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">className</span>=<span class="string">"footer"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        {isOpen &amp;&amp; <span class="tag">&lt;<span class="name">p</span>&gt;</span> Open<span class="tag">&lt;/<span class="name">p</span>&gt;</span> }</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>æ–¹æ³•2ï¼šä½¿ç”¨<strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong></p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Footer</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getHours</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  <span class="keyword">const</span> open = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">const</span> close = <span class="number">22</span>;</span><br><span class="line">  <span class="keyword">const</span> isOpen = data &gt;= open &amp;&amp; data &lt; close;</span><br><span class="line">  <span class="keyword">return</span> ( </span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">className</span>=<span class="string">"footer"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        {isOpen = true ?(<span class="tag">&lt;<span class="name">p</span>&gt;</span>Open<span class="tag">&lt;/<span class="name">p</span>&gt;</span>): null}</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>æ–¹æ³•ä¸‰ï¼šå¤šé‡è¿”å›</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Footer</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getHours</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">  <span class="keyword">const</span> open = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">const</span> close = <span class="number">22</span>;</span><br><span class="line">  <span class="keyword">const</span> isOpen = data &gt;= open &amp;&amp; data &lt; close;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!isOpen) {</span><br><span class="line">    <span class="keyword">return</span> (<span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>);</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> ( </span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">className</span>=<span class="string">"footer"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        {/* {isOpen &amp;&amp;  */}</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"order"</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">p</span>&gt;</span> We're open for orders from {open} to {close}. Call us at 123-456-7890.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">className</span>=<span class="string">"btn"</span> <span class="attr">style</span>=<span class="string">{{color:</span> '<span class="attr">yellow</span>'}} &gt;</span>Order<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="React-Fragment-react-ç‰‡æ®µ"><a href="#React-Fragment-react-ç‰‡æ®µ" class="headerlink" title="React Fragment(react ç‰‡æ®µ)"></a>React Fragment(react ç‰‡æ®µ)</h2><p>æ¦‚å¿µï¼š<code>React.Fragment</code> æ˜¯ React ä¸­ç”¨äº<strong>åŒ…è£¹å¤šä¸ªå­å…ƒç´ </strong>è€Œä¸é¢å¤–ç”Ÿæˆ HTML å…ƒç´ çš„ç»„ä»¶ã€‚</p><p>é€šå¸¸åœ¨ JSX ä¸­ï¼Œå¦‚æœä½ è¿”å›å¤šä¸ªå…ƒç´ ï¼Œå®ƒä»¬éœ€è¦è¢«ä¸€ä¸ªçˆ¶çº§å…ƒç´ <code>&lt;div&gt;&lt;/div&gt;</code>åŒ…è£¹ï¼Œè€Œ <code>React.Fragment</code> å¯ä»¥åœ¨ä¸ç”Ÿæˆé¢å¤– DOM èŠ‚ç‚¹çš„æƒ…å†µä¸‹åŒ…è£¹è¿™äº›å…ƒç´ ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">react.fragment</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Header</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Menu</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Footer</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">react.fragment</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"><span class="comment">//æˆ–è€…</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Header</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Menu</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Footer</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="å¦‚ä½•åœ¨Reactä¸­ä½¿ç”¨è¡¨å•ï¼Ÿ"><a href="#å¦‚ä½•åœ¨Reactä¸­ä½¿ç”¨è¡¨å•ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨Reactä¸­ä½¿ç”¨è¡¨å•ï¼Ÿ"></a>å¦‚ä½•åœ¨Reactä¸­ä½¿ç”¨è¡¨å•ï¼Ÿ</h2><h4 id="æ€ä¹ˆåˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨è¡¨å•ï¼Ÿ"><a href="#æ€ä¹ˆåˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨è¡¨å•ï¼Ÿ" class="headerlink" title="æ€ä¹ˆåˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨è¡¨å•ï¼Ÿ"></a>æ€ä¹ˆåˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨è¡¨å•ï¼Ÿ</h4><ol><li><strong>ç”¨æˆ·è¾“å…¥</strong>ï¼šå¦‚æœä½ éœ€è¦ç”¨æˆ·è¾“å…¥æ•°æ®ï¼Œæ¯”å¦‚æ·»åŠ å¾…åŠäº‹é¡¹ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªè¡¨å•ã€‚è¡¨å•å¯ä»¥åŒ…å«è¾“å…¥æ¡†ã€æ–‡æœ¬åŸŸã€é€‰æ‹©æ¡†ç­‰å…ƒç´ ï¼Œè®©ç”¨æˆ·è¾“å…¥ä¿¡æ¯ã€‚</li><li><strong>æäº¤æ“ä½œ</strong>ï¼šå¦‚æœä½ éœ€è¦ç”¨æˆ·æäº¤æ•°æ®ï¼Œæ¯”å¦‚æ·»åŠ å¾…åŠäº‹é¡¹åä¿å­˜åˆ°åˆ—è¡¨ä¸­ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªè¡¨å•ã€‚è¡¨å•é€šå¸¸åŒ…å«ä¸€ä¸ªæäº¤æŒ‰é’®ï¼Œç”¨æˆ·ç‚¹å‡»åè§¦å‘æ•°æ®æäº¤ã€‚</li><li><strong>æ•°æ®éªŒè¯</strong>ï¼šå¦‚æœä½ éœ€è¦å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œæ¯”å¦‚æ£€æŸ¥å¾…åŠäº‹é¡¹æ˜¯å¦ä¸ºç©ºï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªè¡¨å•ã€‚è¡¨å•å¯ä»¥åŒ…å«éªŒè¯é€»è¾‘ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç¬¦åˆè¦æ±‚ã€‚</li><li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šå¦‚æœä½ éœ€è¦ç®¡ç†ç”¨æˆ·è¾“å…¥çš„çŠ¶æ€ï¼Œæ¯”å¦‚è¾“å…¥æ¡†çš„å€¼ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªè¡¨å•ã€‚è¡¨å•å¯ä»¥åŒ…å«çŠ¶æ€ç®¡ç†é€»è¾‘ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®èƒ½å¤Ÿè¢«æ­£ç¡®å¤„ç†ã€‚</li><li><strong>äº‹ä»¶å¤„ç†</strong>ï¼šå¦‚æœä½ éœ€è¦å¤„ç†ç”¨æˆ·è¾“å…¥çš„äº‹ä»¶ï¼Œæ¯”å¦‚è¾“å…¥æ¡†çš„ <code>onChange</code> äº‹ä»¶ï¼Œé‚£ä¹ˆä½ éœ€è¦ä¸€ä¸ªè¡¨å•ã€‚è¡¨å•å¯ä»¥åŒ…å«äº‹ä»¶å¤„ç†é€»è¾‘ï¼Œå“åº”ç”¨æˆ·çš„æ“ä½œã€‚</li></ol><p>è¡¨å•å®Œæ•´ä»£ç ï¼ˆä»¥ToDoListä¸ºä¾‹ï¼‰ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Form</span> (<span class="params"></span>){</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">const</span> [description, setDescription] = <span class="title function_">useState</span>(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">const</span> [quantity, setQuantity] = <span class="title function_">useState</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">handleSubmit</span>(<span class="params">e</span>){</span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  }</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">className</span>=<span class="string">"add-form"</span> <span class="attr">onSubmit</span>=<span class="string">{handleSubmit}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>What do you need for your trip<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">select</span> <span class="attr">value</span>=<span class="string">{quantity}</span> <span class="attr">onChange</span>=<span class="string">{(e)</span> =&gt;</span> setQuantity(Number(e.target.value)} &gt;</span></span><br><span class="line"><span class="language-xml">        {Array.from({length: 20}, (_, i) =&gt; i+1).map</span></span><br><span class="line"><span class="language-xml">        ((num) =&gt; (</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">option</span>  <span class="attr">value</span>=<span class="string">{num}</span> <span class="attr">key</span>=<span class="string">{num}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            {num}</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">option</span>&gt;</span>))}</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">placeholder</span>=<span class="string">"Item..."</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">{description}</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onChange</span>=<span class="string">{(e)</span> =&gt;</span> setDescription(e.target.value)}/&gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ¸²æŸ“åˆ—è¡¨</p><p><code> {Array.from({length: 20}, (_, i) =&gt; i+1).map         ((num) =&gt; (           &lt;option value={num} key={num}&gt;             {num}             &lt;/option&gt;))}</code>:</p><p>åˆ©ç”¨<code>Array.from()</code>ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œå¹¶é€šè¿‡<code>map()</code>æ¥éå†æ•°ç»„ï¼ŒåŠ¨æ€ç”Ÿæˆä¸€ç»„<code>&lt;option&gt;</code>æ ‡ç­¾</p><p><code>onChange</code>ï¼šå½“ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œ<code>onChange</code>äº‹ä»¶ä¼šè§¦å‘ï¼Œæ›´æ–°ReactçŠ¶æ€ï¼Œä»è€ŒåŠ¨æ€æ›´æ–°è¡¨å•å€¼</p><h3 id="å¦‚ä½•å°†è¡¨å•ä¸­çš„æ•°æ®å¯¼å…¥äº‹ä»¶"><a href="#å¦‚ä½•å°†è¡¨å•ä¸­çš„æ•°æ®å¯¼å…¥äº‹ä»¶" class="headerlink" title="å¦‚ä½•å°†è¡¨å•ä¸­çš„æ•°æ®å¯¼å…¥äº‹ä»¶?"></a>å¦‚ä½•å°†è¡¨å•ä¸­çš„æ•°æ®å¯¼å…¥äº‹ä»¶?</h3><blockquote><h4 id="å¸¸è§çš„Reactäº‹ä»¶ç±»å‹ï¼š"><a href="#å¸¸è§çš„Reactäº‹ä»¶ç±»å‹ï¼š" class="headerlink" title="å¸¸è§çš„Reactäº‹ä»¶ç±»å‹ï¼š"></a>å¸¸è§çš„Reactäº‹ä»¶ç±»å‹ï¼š</h4><ul><li>**<code>onClick</code>**ï¼šç‚¹å‡»äº‹ä»¶</li><li>**<code>onChange</code>**ï¼šè¡¨å•å…ƒç´ ï¼ˆå¦‚è¾“å…¥æ¡†ã€é€‰æ‹©æ¡†ï¼‰çš„å€¼æ”¹å˜äº‹ä»¶</li><li>**<code>onSubmit</code>**ï¼šè¡¨å•æäº¤äº‹ä»¶</li><li>**<code>onKeyDown</code><strong>ã€</strong><code>onKeyUp</code>**ï¼šé”®ç›˜æŒ‰ä¸‹ã€æ¾å¼€äº‹ä»¶</li><li>**<code>onMouseEnter</code><strong>ã€</strong><code>onMouseLeave</code>**ï¼šé¼ æ ‡è¿›å…¥ã€ç¦»å¼€äº‹ä»¶</li></ul></blockquote><h3 id="å—æ§å…ƒç´ "><a href="#å—æ§å…ƒç´ " class="headerlink" title="å—æ§å…ƒç´ "></a>å—æ§å…ƒç´ </h3><p>åœ¨Reactä¸­ï¼Œä½¿ç”¨å—æ§ç»„ä»¶å¯ä»¥å°†HTMLè¡¨å•ä¸­çš„æ•°æ®ä¸ç»„ä»¶çš„çŠ¶æ€ï¼ˆ<code>state</code>ï¼‰ç›´æ¥ç»‘å®šï¼Œä»è€Œé¿å…ç›´æ¥æ“ä½œDOMã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯è¡¨å•æ•°æ®çš„æ›´æ–°å’Œç®¡ç†å®Œå…¨äº¤ç”±Reactæ¥å¤„ç†ï¼Œæ— éœ€æ‰‹åŠ¨è·å–DOMå…ƒç´ çš„å€¼</p><p>ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>è®¾ç½®çŠ¶æ€  <code>const [description, setDescription] = useState('');</code></p><ul><li><strong>ç›®çš„</strong>ï¼šåˆ›å»ºä¸€ä¸ªå˜é‡æ¥å­˜å‚¨ç”¨æˆ·è¾“å…¥çš„å€¼ï¼Œå¹¶åœ¨ç”¨æˆ·ä¸è¡¨å•äº¤äº’æ—¶ï¼ŒReactèƒ½å¤Ÿè¿½è¸ªå’Œç®¡ç†è¿™ä¸ªå€¼ã€‚</li></ul></li><li><p>ç»‘å®šå˜é‡   é€šè¿‡<code>value</code>å±æ€§ï¼Œå°†è¡¨å•å…ƒç´ ï¼ˆä¾‹å¦‚<code>&lt;input&gt;</code>æˆ–<code>&lt;textarea&gt;</code>ï¼‰çš„å€¼ä¸åˆšåˆšåˆ›å»ºçš„çŠ¶æ€å˜é‡ç»‘å®šã€‚è¿™æ ·ï¼Œè¡¨å•çš„å€¼ç”±çŠ¶æ€æ§åˆ¶ï¼ŒReactçŠ¶æ€å’ŒUIä¹‹é—´å»ºç«‹äº†åŒå‘ç»‘å®šå…³ç³»ã€‚</p><ul><li><strong>æ“ä½œ</strong>ï¼šåœ¨è¡¨å•å…ƒç´ ä¸Šä½¿ç”¨<code>value={description}</code>ï¼Œä½¿è¾“å…¥æ¡†çš„å€¼ä¸<code>description</code>çŠ¶æ€ä¿æŒåŒæ­¥</li></ul></li><li><p>æ›´æ–°çŠ¶æ€   <code> onChange={(e) =&gt; setDescription(e.target.value)}</code>ï¼Œå½“ç”¨æˆ·åœ¨è¡¨å•å…ƒç´ ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œ<code>onChange</code>äº‹ä»¶ä¼šè§¦å‘ã€‚æ­¤æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>setDescription</code>å‡½æ•°æ›´æ–°çŠ¶æ€ï¼Œç¡®ä¿çŠ¶æ€éšç”¨æˆ·è¾“å…¥çš„å˜åŒ–è€Œæ”¹å˜ã€‚äº‹ä»¶å¤„ç†å‡½æ•°å°†æ¥æ”¶äº‹ä»¶å¯¹è±¡ï¼Œé€šè¿‡<code>e.target.value</code>è·å–è¡¨å•å…ƒç´ çš„æ–°å€¼ã€‚</p><ul><li><p><strong>æ“ä½œ</strong>ï¼šåœ¨<code>onChange</code>äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨<code>setDescription(e.target.value)</code>ï¼Œå°†è¡¨å•çš„æ–°å€¼æ›´æ–°åˆ°çŠ¶æ€ä¸­</p></li><li><blockquote><h4 id="jså°çŸ¥è¯†"><a href="#jså°çŸ¥è¯†" class="headerlink" title="jså°çŸ¥è¯†"></a>jså°çŸ¥è¯†</h4><p>åœ¨ <code>onChange={(e) =&gt; setDescription(e.target.value)}</code> è¿™æ®µä»£ç ä¸­ï¼Œ<code>e</code> æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼ˆEvent Objectï¼‰ï¼Œå®ƒä»£è¡¨äº†å½“å‰æ­£åœ¨å‘ç”Ÿçš„äº‹ä»¶ã€‚åœ¨ JavaScript ä¸­ï¼Œå½“äº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†ä¸è¯¥äº‹ä»¶ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p>åœ¨è¿™ä¸ªç‰¹å®šçš„ä¾‹å­ä¸­ï¼Œ<code>e</code> æ˜¯ä¸€ä¸ªåˆæˆäº‹ä»¶ï¼ˆSynthetic Eventï¼‰å¯¹è±¡ï¼Œå®ƒæ˜¯ React ä¸ºäº†å…¼å®¹ä¸åŒæµè§ˆå™¨è€Œåˆ›å»ºçš„ä¸€ä¸ªæŠ½è±¡å±‚ã€‚åˆæˆäº‹ä»¶å¯¹è±¡å°è£…äº†åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ç¼–å†™è·¨æµè§ˆå™¨çš„ä»£ç ã€‚</p><p><code>e.target</code> æ˜¯äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼ˆEvent Targetï¼‰ï¼Œå³è§¦å‘äº‹ä»¶çš„ DOM å…ƒç´ ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>e.target</code> æ˜¯è¾“å…¥æ¡†ï¼ˆinputï¼‰å…ƒç´ ã€‚</p><p><code>e.target.value</code> æ˜¯è¾“å…¥æ¡†å…ƒç´ çš„å½“å‰å€¼ï¼ˆValueï¼‰ï¼Œå³ç”¨æˆ·è¾“å…¥çš„å†…å®¹ã€‚</p></blockquote></li></ul></li></ul><hr><h2 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h2><p><code>React Router</code> æ˜¯ä¸€ä¸ªç”¨äº React åº”ç”¨çš„åº“ï¼Œç”¨äºç®¡ç†åº”ç”¨çš„è·¯ç”±å’Œå¯¼èˆªã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ©å¼€å‘è€…æ„å»ºå•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ï¼Œé€šè¿‡åŠ¨æ€åŠ è½½ç»„ä»¶è€Œä¸æ˜¯æ¯æ¬¡è·³è½¬éƒ½é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p><h3 id="React-Router-çš„ä½œç”¨å’Œæ„ä¹‰"><a href="#React-Router-çš„ä½œç”¨å’Œæ„ä¹‰" class="headerlink" title="React Router çš„ä½œç”¨å’Œæ„ä¹‰"></a>React Router çš„ä½œç”¨å’Œæ„ä¹‰</h3><ol><li><p><strong>å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰æ”¯æŒ</strong>ï¼š</p><ul><li>React Router <strong>å…è®¸åº”ç”¨åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹åˆ‡æ¢è§†å›¾</strong>ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li><li>é€šè¿‡åŠ¨æ€åŠ è½½ç»„ä»¶ï¼Œå‡å°‘é¡µé¢åŠ è½½æ—¶é—´ï¼Œæå‡æ€§èƒ½ã€‚</li></ul></li><li><p><strong>URL ä¸ UI åŒæ­¥</strong>ï¼š</p><ul><li>React Router ä¿æŒ URL ä¸ UI åŒæ­¥ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ URL ç›´æ¥è®¿é—®ç‰¹å®šé¡µé¢ï¼Œä¾¿äºåˆ†äº«å’Œä¹¦ç­¾ã€‚</li></ul></li><li><p><strong>åµŒå¥—è·¯ç”±</strong>ï¼š</p><ul><li>æ”¯æŒåµŒå¥—è·¯ç”±ï¼Œå…è®¸åœ¨çˆ¶ç»„ä»¶ä¸­åµŒå¥—å­ç»„ä»¶ï¼Œä¾¿äºæ„å»ºå¤æ‚çš„ UI ç»“æ„ã€‚</li></ul></li><li><p><strong>åŠ¨æ€è·¯ç”±</strong>ï¼š</p><ul><li>æ”¯æŒåŠ¨æ€è·¯ç”±ï¼Œå…è®¸æ ¹æ® URL å‚æ•°åŠ¨æ€åŠ è½½ä¸åŒå†…å®¹ã€‚</li></ul></li><li><p><strong>ç¼–ç¨‹å¼å¯¼èˆª</strong>ï¼š</p><ul><li>æä¾›ç¼–ç¨‹å¼å¯¼èˆªï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ä»£ç æ§åˆ¶é¡µé¢è·³è½¬ï¼Œè€Œä¸æ˜¯ä¾èµ–ç”¨æˆ·ç‚¹å‡»é“¾æ¥ã€‚</li></ul></li><li><p><strong>è·¯ç”±å®ˆå«</strong>ï¼š</p><ul><li>æ”¯æŒè·¯ç”±å®ˆå«ï¼Œå¯ä»¥åœ¨ç”¨æˆ·è®¿é—®ç‰¹å®šè·¯ç”±å‰è¿›è¡Œæƒé™æ£€æŸ¥æˆ–æ•°æ®åŠ è½½ã€‚</li></ul></li></ol><h3 id="ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨é“¾æ¥"><a href="#ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨é“¾æ¥" class="headerlink" title="ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨é“¾æ¥"></a>ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨é“¾æ¥</h3><ol><li><p><strong>é¡µé¢åˆ·æ–°</strong>ï¼š</p><ul><li>ä½¿ç”¨æ™®é€šé“¾æ¥ä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ï¼Œç ´å SPA çš„æ— åˆ·æ–°ä½“éªŒã€‚</li></ul></li><li><p><strong>çŠ¶æ€ä¸¢å¤±</strong>ï¼š</p><ul><li>é¡µé¢åˆ·æ–°ä¼šå¯¼è‡´åº”ç”¨çŠ¶æ€ä¸¢å¤±ï¼Œè€Œ React Router å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ä¿æŒçŠ¶æ€ã€‚</li></ul></li><li><p><strong>å¤æ‚è·¯ç”±ç®¡ç†</strong>ï¼š</p><ul><li>æ™®é€šé“¾æ¥æ— æ³•å¤„ç†å¤æ‚çš„è·¯ç”±é€»è¾‘ï¼Œå¦‚åµŒå¥—è·¯ç”±ã€åŠ¨æ€è·¯ç”±ç­‰ã€‚</li></ul></li><li><p><strong>ç¼–ç¨‹å¼å¯¼èˆª</strong>ï¼š</p><ul><li>æ™®é€šé“¾æ¥æ— æ³•å®ç°ç¼–ç¨‹å¼å¯¼èˆªï¼ŒReact Router æä¾›äº†æ›´å¤šæ§åˆ¶æƒã€‚</li></ul></li></ol><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">BrowserRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>, <span class="title class_">Route</span>, <span class="title class_">Switch</span>, <span class="title class_">Link</span> } <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">About</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>About<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">"/about"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">"/"</span> <span class="attr">exact</span> <span class="attr">component</span>=<span class="string">{Home}</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">"/about"</span> <span class="attr">component</span>=<span class="string">{About}</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Switch</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Root</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Root</span>;</span><br></pre></td></tr></tbody></table></figure><h2 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h2><h3 id="ä»€ä¹ˆæ˜¯useEffact"><a href="#ä»€ä¹ˆæ˜¯useEffact" class="headerlink" title="ä»€ä¹ˆæ˜¯useEffact?"></a>ä»€ä¹ˆæ˜¯useEffact?</h3><p><strong><code>useEffect</code> æ˜¯ React çš„ä¸€ä¸ª Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å¤„ç†å‰¯ä½œç”¨</strong>ã€‚</p><p><code>useEffect</code> è®©å‡½æ•°ç»„ä»¶èƒ½åœ¨<strong>æ¸²æŸ“å</strong>æ‰§è¡Œå‰¯ä½œç”¨ï¼Œå¹¶é€šè¿‡ä¾èµ–é¡¹å’Œæ¸…ç†å‡½æ•°<strong>ç²¾å‡†æ§åˆ¶æ‰§è¡Œæ—¶æœº</strong>ï¼Œæ›¿ä»£ç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚ <code>componentDidMount</code> / <code>componentDidUpdate</code> / <code>componentWillUnmount</code>ï¼‰ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š</p><h6 id="1-ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ"></a><strong>1. ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ</strong></h6><ul><li><strong>å‰¯ä½œç”¨</strong>æ˜¯æŒ‡é‚£äº›å¯èƒ½å½±å“å…¶ä»–ç»„ä»¶æˆ–ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’çš„æ“ä½œï¼Œä¾‹å¦‚ï¼š<ul><li>æ•°æ®è·å–ï¼ˆAPI è¯·æ±‚ï¼‰</li><li>æ‰‹åŠ¨ä¿®æ”¹ DOM</li><li>è®¢é˜…äº‹ä»¶ï¼ˆå¦‚ <code>window.addEventListener</code>ï¼‰</li><li>å®šæ—¶å™¨ï¼ˆ<code>setTimeout</code> / <code>setInterval</code>ï¼‰</li></ul></li></ul><h6 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h6><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">  <span class="comment">// å‰¯ä½œç”¨ä»£ç ï¼ˆç»„ä»¶æ¸²æŸ“åæ‰§è¡Œï¼‰</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="comment">// æ¸…ç†å‡½æ•°ï¼ˆç»„ä»¶å¸è½½æˆ–ä¾èµ–é¡¹å˜åŒ–å‰æ‰§è¡Œï¼‰</span></span><br><span class="line">  };</span><br><span class="line">}, [ä¾èµ–é¡¹æ•°ç»„]); <span class="comment">// æ§åˆ¶å‰¯ä½œç”¨è§¦å‘çš„æ¡ä»¶</span></span><br></pre></td></tr></tbody></table></figure><p>ä¾èµ–é¡¹æ•°ç»„è¿™ä¸€åˆ—ä¸­ï¼Œä¸ç”¨çº ç»“å¤ªå¤šï¼Œä¸€èˆ¬æŠŠæ‰€æœ‰çš„å¤–éƒ¨å€¼éƒ½æ·»åŠ è¿›æ¥å°±å¯ä»¥ã€‚</p><ul><li><strong>æ— ä¾èµ–æ•°ç»„ï¼ˆ<code>[]</code>ï¼‰</strong>ï¼šåªåœ¨ç»„ä»¶<strong>é¦–æ¬¡æ¸²æŸ“å</strong>æ‰§è¡Œä¸€æ¬¡ï¼ˆç±»ä¼¼ <code>componentDidMount</code>ï¼‰ã€‚</li><li><strong>æœ‰ä¾èµ–é¡¹ï¼ˆ<code>[a, b]</code>ï¼‰</strong>ï¼šå½“ <code>a</code> æˆ– <code>b</code> å˜åŒ–æ—¶é‡æ–°æ‰§è¡Œã€‚</li><li><strong>æ— ç¬¬äºŒä¸ªå‚æ•°</strong>ï¼š<strong>æ¯æ¬¡ç»„ä»¶æ›´æ–°å</strong>éƒ½æ‰§è¡Œï¼ˆè°¨æ…ä½¿ç”¨ï¼ï¼‰ã€‚</li><li><strong>æ¸…ç†å‡½æ•°</strong>ï¼šç”¨äºå–æ¶ˆè®¢é˜…ã€æ¸…é™¤å®šæ—¶å™¨ç­‰ï¼ˆç±»ä¼¼ <code>componentWillUnmount</code>ï¼‰ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆéœ€è¦useEffect"><a href="#ä¸ºä»€ä¹ˆéœ€è¦useEffect" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦useEffect?"></a>ä¸ºä»€ä¹ˆéœ€è¦useEffect?</h3><p>ä»¥è·å–æ•°æ®ä¸ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> { useState } = <span class="built_in">require</span>(<span class="string">"react"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">backend</span>(<span class="params"></span>){</span><br><span class="line">    <span class="keyword">const</span> [isLoading,setIsLoading] = <span class="title function_">useState</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> [list,setList] = <span class="title function_">useState</span>([]);</span><br><span class="line">    <span class="title function_">fetch</span>(</span><br><span class="line">        <span class="string">'https://react-getting-started-48dec-default-rtdb,firebaseio.com/meetups.json'</span></span><br><span class="line">    ).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>{</span><br><span class="line">        <span class="keyword">return</span> response.<span class="title function_">json</span>()</span><br><span class="line">    }).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>)=&gt;</span>{</span><br><span class="line">        <span class="title function_">setIsLoading</span>(<span class="literal">false</span>);</span><br><span class="line">        <span class="title function_">setLoadedMeetups</span>(data);})</span><br><span class="line">        <span class="keyword">if</span> (isLoading){</span><br><span class="line">            <span class="keyword">return</span>(</span><br><span class="line">                <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">            )</span><br><span class="line">        }</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">List</span> <span class="attr">date</span>=<span class="string">{list}</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> backend;</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·çš„å†™æ³•ä¼š<strong>é™·å…¥æ­»å¾ªç¯</strong>ï¼ŒåŸå› æ˜¯ <code>fetch</code> è¯·æ±‚è¢«æ”¾åœ¨äº†å‡½æ•°ç»„ä»¶çš„é¡¶å±‚ä½œç”¨åŸŸä¸­ï¼Œè€Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶éƒ½ä¼šé‡æ–°æ‰§è¡Œ <code>fetch</code> è¯·æ±‚ï¼Œå¯¼è‡´çŠ¶æ€æ›´æ–°ï¼ˆ<code>setIsLoading</code> å’Œ <code>setList</code>ï¼‰ï¼Œè¿›è€Œè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œç„¶åå†æ¬¡æ‰§è¡Œ <code>fetch</code> è¯·æ±‚ï¼Œå½¢æˆæ— é™å¾ªç¯ã€‚</p><p>é‡‡ç”¨useEffct:</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> { useState } = <span class="built_in">require</span>(<span class="string">"react"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">backend</span>(<span class="params"></span>){</span><br><span class="line">    <span class="keyword">const</span> [isLoading,setIsLoading] = <span class="title function_">useState</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">const</span> [list,setList] = <span class="title function_">useState</span>([]);</span><br><span class="line">  </span><br><span class="line">    <span class="title function_">useEffect</span>()=&gt;{</span><br><span class="line">       <span class="title function_">fetch</span>(</span><br><span class="line">        <span class="string">'https://react-getting-started-48dec-default-rtdb,firebaseio.com/meetups.json'</span></span><br><span class="line">    ).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>)=&gt;</span>{</span><br><span class="line">        <span class="keyword">return</span> response.<span class="title function_">json</span>()</span><br><span class="line">    }).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>)=&gt;</span>{</span><br><span class="line">        <span class="title function_">setIsLoading</span>(<span class="literal">false</span>);</span><br><span class="line">        <span class="title function_">setLoadedMeetups</span>(data);</span><br><span class="line">       });</span><br><span class="line">   },[isLoading])</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span>(</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">List</span> <span class="attr">date</span>=<span class="string">{list}</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">        )</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> backend;</span><br></pre></td></tr></tbody></table></figure><h2 id="Context-ä¸Šä¸‹æ–‡"><a href="#Context-ä¸Šä¸‹æ–‡" class="headerlink" title="Context - ä¸Šä¸‹æ–‡"></a>Context - ä¸Šä¸‹æ–‡</h2><p><strong>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰</strong> æ˜¯ React æä¾›çš„ä¸€ç§ <strong>è·¨ç»„ä»¶å±‚çº§ä¼ é€’æ•°æ®</strong> çš„æœºåˆ¶ï¼Œç”¨äºé¿å…ç¹ççš„é€å±‚ props ä¼ é€’ï¼ˆä¿—ç§°â€œprops é’»å–â€ï¼‰ã€‚å®ƒç‰¹åˆ«é€‚åˆå…¨å±€å…±äº«çš„æ•°æ®ï¼ˆå¦‚ä¸»é¢˜ã€ç”¨æˆ·ç™»å½•çŠ¶æ€ã€å¤šè¯­è¨€é…ç½®ç­‰ï¼‰ã€‚</p><ol><li><strong>æ ¸å¿ƒ API</strong><ul><li><code>React.createContext()</code>ï¼šåˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ï¼ˆåŒ…å« <code>Provider</code> å’Œ <code>Consumer</code>ï¼‰ã€‚</li><li><code>Context.Provider</code>ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œé€šè¿‡ <code>value</code> å±æ€§ä¼ é€’æ•°æ®ã€‚</li><li><code>useContext()</code>ï¼šå‡½æ•°ç»„ä»¶ä¸­æ¶ˆè´¹ Context æ•°æ®çš„ Hookï¼ˆæ›¿ä»£ <code>Consumer</code>ï¼‰</li></ul></li></ol><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { createContext, useContext,useState } <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. åˆ›å»ºåˆå§‹ Contextï¼ˆå»ºè®®å‘½åä»¥ Context/Provider ç»“å°¾ï¼‰</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TestContext</span> = <span class="title function_">createContext</span>({</span><br><span class="line">     <span class="attr">favorites</span>: userFavorites,</span><br><span class="line">     <span class="attr">number</span>: userFavorites.<span class="property">length</span>,</span><br><span class="line">}); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. æä¾›/æ›´æ–°æ•°æ®çš„ Provider ç»„ä»¶</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">TestProvider</span>(<span class="params">{ children }</span>) {</span><br><span class="line">  <span class="comment">//const sharedData = "è¿™æ˜¯è¦å…±äº«çš„æ•°æ®"; // é€šå¸¸ç”¨ useState ç®¡ç†åŠ¨æ€æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> [userFavorites,setUserFavorites] = <span class="title function_">useState</span>([]);</span><br><span class="line">  <span class="keyword">const</span> context = {</span><br><span class="line">      <span class="attr">favorites</span>: userFavorites,</span><br><span class="line">      <span class="attr">number</span>: userFavorites.<span class="property">length</span>,</span><br><span class="line">  };</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">TestContext.Provider</span> <span class="attr">value</span>=<span class="string">{context}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      {children}</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">TestContext.Provider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. è‡ªå®šä¹‰ Hook ç®€åŒ–ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useTest</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">useContext</span>(<span class="title class_">TestContext</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">TestProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ChildComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">TestProvider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ChildComponent</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">const</span> data = <span class="title function_">useTest</span>(); <span class="comment">// æˆ–ç›´æ¥ useContext(TestContext)</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>{data}<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>; <span class="comment">// è¾“å‡º: "è¿™æ˜¯è¦å…±äº«çš„æ•°æ®"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å½“å¤šä¸ªé¡µé¢éƒ½éœ€è¦ä½¿ç”¨å½“å‰ä¸Šä¸‹æ–‡æ—¶ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªprovideræ–‡ä»¶ä¸“é—¨å°è£…ï¼š</p><figure class="highlight tsx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'use client'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">QueryClient</span>, <span class="title class_">QueryClientProvider</span> } <span class="keyword">from</span> <span class="string">"@tanstack/react-query"</span>;</span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">SuiClientProvider</span>, <span class="title class_">WalletProvider</span> } <span class="keyword">from</span> <span class="string">"@mysten/dapp-kit"</span>;</span><br><span class="line"><span class="keyword">import</span> { networkConfig, network } <span class="keyword">from</span> <span class="string">"@/contracts"</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"@mysten/dapp-kit/dist/index.css"</span>;</span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">ThemeProvider</span> } <span class="keyword">from</span> <span class="string">"next-themes"</span>;</span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">UserProfileProvider</span> } <span class="keyword">from</span> <span class="string">"@/contexts/user-profile-context"</span>;</span><br><span class="line"><span class="keyword">import</span> { <span class="title class_">AppProvider</span> } <span class="keyword">from</span> <span class="string">"@/contexts/app-context"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> queryClient = <span class="keyword">new</span> <span class="title class_">QueryClient</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">Providers</span>(<span class="params">{ children }: { children: React.ReactNode }</span>) {</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ThemeProvider</span> <span class="attr">attribute</span>=<span class="string">"class"</span> <span class="attr">defaultTheme</span>=<span class="string">"system"</span> <span class="attr">enableSystem</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">QueryClientProvider</span> <span class="attr">client</span>=<span class="string">{queryClient}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">SuiClientProvider</span> <span class="attr">networks</span>=<span class="string">{networkConfig}</span> <span class="attr">defaultNetwork</span>=<span class="string">{network}</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">AppProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">UserProfileProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">WalletProvider</span> <span class="attr">autoConnect</span> <span class="attr">stashedWallet</span>=<span class="string">{</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  {</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">name:</span> "<span class="attr">Sui</span> <span class="attr">Passport</span>",</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">network:</span> <span class="attr">network</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  }</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                }&gt;</span></span></span><br><span class="line"><span class="language-xml">                  {children}</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">WalletProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">UserProfileProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">AppProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">SuiClientProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">QueryClientProvider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ThemeProvider</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="ğŸ¤”-é‚£ä»€ä¹ˆæ—¶å€™ä¸ç”¨å…¨å±€åŒ…è£¹ï¼Ÿ"><a href="#ğŸ¤”-é‚£ä»€ä¹ˆæ—¶å€™ä¸ç”¨å…¨å±€åŒ…è£¹ï¼Ÿ" class="headerlink" title="ğŸ¤” é‚£ä»€ä¹ˆæ—¶å€™ä¸ç”¨å…¨å±€åŒ…è£¹ï¼Ÿ"></a>ğŸ¤” é‚£ä»€ä¹ˆæ—¶å€™ä¸ç”¨å…¨å±€åŒ…è£¹ï¼Ÿ</h3><p>å¦‚æœ profile åªåœ¨æŸäº›ç‰¹å®šè·¯ç”±ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚ <code>/profile/*</code>ï¼Œé‚£ä½ å¯ä»¥åªåœ¨æŸä¸ª layout é‡ŒåŒ…è£¹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tsxCopyEdit// app/profile/layout.tsx</span><br><span class="line">import { UserProfileProvider } from '@/contexts/UserProfileProvider';</span><br><span class="line"></span><br><span class="line">export default function ProfileLayout({ children }) {</span><br><span class="line">  return (</span><br><span class="line">    &lt;UserProfileProvider&gt;</span><br><span class="line">      {children}</span><br><span class="line">    &lt;/UserProfileProvider&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MYSQLå…¥é—¨å­¦ä¹ ç¬”è®°</title>
      <link href="/2024/08/11/ji-suan-ji-wang-luo-ji-chu/mysql-ru-men-xue-xi-bi-ji/"/>
      <url>/2024/08/11/ji-suan-ji-wang-luo-ji-chu/mysql-ru-men-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ è§†é¢‘é“¾æ¥</p><ul><li></li></ul><hr><h1 id="MYSQLå…¥é—¨å­¦ä¹ ç¬”è®°"><a href="#MYSQLå…¥é—¨å­¦ä¹ ç¬”è®°" class="headerlink" title="MYSQLå…¥é—¨å­¦ä¹ ç¬”è®°"></a>MYSQLå…¥é—¨å­¦ä¹ ç¬”è®°</h1><p>å…³è”å¼æ•°æ®åº“ =&gt; tables and keys</p><p>**primary key (ä¸»é”®)**ï¼šå¯ä»¥å”¯ä¸€åŒºåˆ†èµ„æ–™</p><p><span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å½“æœ‰é‡å¤æ—¶ï¼Œå¯ä»¥è®¾å®šå¤šä¸ªä¸»é”®æ¥å”¯ä¸€åŒºåˆ†èµ„æ–™</p><p>**foreign key(å¤–é”®)**ï¼šå®ç°tableçš„äº’ç›¸å…³è”(ä¹Ÿå¯ä»¥å’Œè‡ªå·±å…³è”)    </p><p> <span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä½†æ˜¯åªèƒ½å…³è”tableçš„ä¸»é”®</p><blockquote><p>å¯ä»¥å°†ä¸€ä¸ªå±æ€§åŒæ—¶è®¾å®šä¸ºä¸åŒtableçš„ä¸»é”®å’Œå¤–é”®</p></blockquote><h2 id="SQLåŸºç¡€è¯­æ³•"><a href="#SQLåŸºç¡€è¯­æ³•" class="headerlink" title="SQLåŸºç¡€è¯­æ³•"></a>SQLåŸºç¡€è¯­æ³•</h2><p> <span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>  åæ–‡ä¸­çš„â€ &lt;&gt; â€œ ä»£è¡¨ â€œ ` â€œï¼ŒåŒæ—¶SQLä¸­éµå¾ªå±æ€§åç”¨  ``åŒ…è£¹ï¼Œå€¼ç”¨ â€˜â€™ æˆ–è€… â€œâ€ åŒ…è£¹çš„æ½œè§„åˆ™</p><h3 id="æ•°æ®åº“ç›¸å…³æ“ä½œ"><a href="#æ•°æ®åº“ç›¸å…³æ“ä½œ" class="headerlink" title="æ•°æ®åº“ç›¸å…³æ“ä½œ"></a>æ•°æ®åº“ç›¸å…³æ“ä½œ</h3><p>åˆ›å»ºæ•°æ®åº“ <code>CREATE DATABASE  &lt;name&gt; </code>ï¼›</p><p>å±•ç¤ºæ•°æ®åº“ <code>SHOW DATABASES;</code></p><p>å…³é”®å­—ç”¨å¤§å†™ï¼Œå‘½åç”¨``åŒ…è£¹</p><p>åˆ é™¤æ•°æ®åº“ <code>DROP DATABASE &lt;db_name&gt;;</code></p><h3 id="æ•°æ®åº“å¸¸è§ç±»å‹"><a href="#æ•°æ®åº“å¸¸è§ç±»å‹" class="headerlink" title="æ•°æ®åº“å¸¸è§ç±»å‹"></a>æ•°æ®åº“å¸¸è§ç±»å‹</h3><ul><li><p>INT    â€“æ•´æ•°</p></li><li><p>DECYMAL(m,n)    â€“æœ‰å°æ•°ç‚¹çš„æ•°ï¼Œm=å‡ ä¸ªæ•°å­—ï¼Œn=å‡ ä¸ªå°æ•°</p></li><li><p>VARCHAR(n)    â€“å­—ä¸²ï¼Œn=æœ€å¤šå¯ä»¥å®¹çº³å‡ ä¸ªå­—</p></li><li><p>BLOB    â€“(Binary Large Object) å›¾ç‰‡ å½±ç‰‡ æ¡£æ¡ˆç­‰äºŒè¿›åˆ¶èµ„æ–™</p></li><li><p>DATE    â€“â€™YYYY-MM-DDâ€™ è®°å½•æ—¥æœŸ</p></li><li><p>TIMESTAMP    â€“â€™YYYY-MM-DD HH:MM:SSâ€™ è®°å½•æ—¶é—´</p></li></ul><h3 id="è¡¨æ ¼æ“ä½œ"><a href="#è¡¨æ ¼æ“ä½œ" class="headerlink" title="è¡¨æ ¼æ“ä½œ"></a>è¡¨æ ¼æ“ä½œ</h3><p>é€‰æ‹©æ•°æ®åº“ <code>USE &lt;db_name&gt;; </code></p><p>åˆ›å»ºè¡¨æ ¼</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="operator">&lt;</span>table_name<span class="operator">&gt;</span>(</span><br><span class="line">    `å±æ€§å<span class="number">1</span>` ç±»å‹ é™åˆ¶ç±»å‹,</span><br><span class="line">    `å±æ€§å<span class="number">2</span>` ç±»å‹ é™åˆ¶ç±»å‹</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure><p>åˆ é™¤è¡¨æ ¼ <code>DROP TABLE &lt;table_name&gt;;</code></p><p>æ–°å¢å±æ€§ <code>ALTER TABLE &lt;name&gt; ADD &lt;å±æ€§å&gt; ç±»å‹;</code></p><p>åˆ é™¤å±æ€§ <code>ALTER TABLE &lt;name&gt; DROP &lt;å±æ€§å&gt; ç±»å‹;</code></p><p>æŸ¥çœ‹è¡¨æ ¼å±æ€§ <code>DECRIBE &lt;table_name&gt;;</code></p><p>åŠ å…¥å†…å®¹ <code>INSERT INTO &lt;table_name&gt; VALUES(å±æ€§1-å†…å®¹,å±æ€§2-å†…å®¹);</code></p><p>æŸ¥æ‰¾è¡¨æ ¼ <code>SELECT * FROM &lt;table_name&gt;;</code> æ­¤æ¡å‘½ä»¤ä¸ºæŸ¥æ‰¾å½“å‰æ•°æ®åº“å†…æ‰€æœ‰åä¸ºtable_nameçš„è¡¨æ ¼ï¼Œå¹¶å®Œå…¨å±•ç¤ºå‡ºæ¥</p><h4 id="é™åˆ¶å’Œé™åˆ¶çš„ç±»å‹"><a href="#é™åˆ¶å’Œé™åˆ¶çš„ç±»å‹" class="headerlink" title="é™åˆ¶å’Œé™åˆ¶çš„ç±»å‹"></a>é™åˆ¶å’Œé™åˆ¶çš„ç±»å‹</h4><ul><li>UNIQUE    â€“ä¸å…è®¸é‡å</li><li>AUTO_INCREMENT    â€“å¢åŠ å†…å®¹æ—¶è‡ªåŠ¨åŠ ä¸€ï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™ ï¼ˆç”¨äºåºå·ï¼‰</li><li>DEFAULT    â€“é¢„è®¾å€¼ï¼Œä¸å¡«å†™å†…å®¹æ—¶ï¼ŒæŒ‰ç…§é¢„è®¾çš„å¡«å†™</li></ul><h4 id="ä¿®æ”¹èµ„æ–™"><a href="#ä¿®æ”¹èµ„æ–™" class="headerlink" title="ä¿®æ”¹èµ„æ–™"></a>ä¿®æ”¹èµ„æ–™</h4><p>è¯­æ³•</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> `table_name`</span><br><span class="line"><span class="keyword">SET</span> `å±æ€§å` <span class="operator">=</span> <span class="string">'ç›®æ ‡å€¼'</span>;</span><br><span class="line"><span class="keyword">WHERE</span> æ¡ä»¶ (å¯ä»¥ä¸å†™);</span><br></pre></td></tr></tbody></table></figure><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> `student`</span><br><span class="line"><span class="keyword">SET</span> `major` <span class="operator">=</span> <span class="string">'å†å²'</span>;</span><br><span class="line"><span class="keyword">WHERE</span> `major` <span class="operator">=</span> <span class="string">'ç”Ÿç‰©'</span> <span class="keyword">OR</span> `major` <span class="operator">=</span> <span class="string">'ç‰©ç†'</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>å°†majorä¸ºç”Ÿç‰©å’Œç‰©ç†çš„å€¼ï¼Œæ›´æ–°ä¸ºå†å²</span><br></pre></td></tr></tbody></table></figure><h4 id="åˆ é™¤èµ„æ–™"><a href="#åˆ é™¤èµ„æ–™" class="headerlink" title="åˆ é™¤èµ„æ–™"></a>åˆ é™¤èµ„æ–™</h4><p>è¯­æ³•</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `table_name`</span><br><span class="line"><span class="keyword">WHERE</span> æ¡ä»¶;</span><br></pre></td></tr></tbody></table></figure><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">WHERE</span> `score` <span class="operator">&gt;</span> <span class="number">60</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>åˆ é™¤ scoreå°äº<span class="number">60</span>çš„æ–¹å¼</span><br></pre></td></tr></tbody></table></figure><p><em>ä¸å†™WHEREè¯­å¥æ—¶ï¼Œä»£è¡¨åˆ é™¤è¡¨æ ¼çš„æ‰€æœ‰èµ„æ–™</em></p><h4 id="æœå¯»èµ„æ–™"><a href="#æœå¯»èµ„æ–™" class="headerlink" title="æœå¯»èµ„æ–™"></a>æœå¯»èµ„æ–™</h4><p><code>SELECT * FROM &lt;table_name&gt;;</code>  =&gt; <code>*</code> ä»£è¡¨å–å¾—æ‰€æœ‰å±æ€§çš„æ„æ€</p><p><code>SELECT * FROM &lt;table_name&gt; LIMIT n;</code> =&gt; ä»…ä»…æ˜¾ç¤ºå‰ n ç¬”èµ„æ–™</p><p><code>SELECT * FROM &lt;table_name&gt; WHERE &lt;å±æ€§å&gt; ;</code>  =&gt; ä»…ä»…æ˜¾ç¤ºå±æ€§åä¸ºå±æ€§1çš„å†…å®¹</p><p><em>WHERE &lt;å±æ€§å&gt; IN (â€˜1â€™,â€™2â€™)  = WHERE &lt;å±æ€§å&gt; = â€˜1â€™ OR &lt;å±æ€§å&gt; = â€˜2â€™</em>  </p><p><code>SELECT &lt;å±æ€§1&gt; FROM &lt;table_name&gt;;</code> =&gt;  ä»£è¡¨å–å¾—å±æ€§åä¸ºå±æ€§1çš„å†…å®¹ï¼Œå–å¾—å¤šä¸ªå±æ€§çš„æ—¶å€™ç”¨  <code>,</code> éš”å¼€</p><p><code>SELECT DISTINCT &lt;å±æ€§1&gt; FROM &lt;table_name&gt;;</code> =&gt;å»æ‰é‡å¤å±æ€§</p><p><code>SELECT * FROM &lt;table_name&gt; ORDER BY  &lt;å±æ€§1&gt; DESC;</code> =&gt;ä»¥å±æ€§1æ¥æ’åºè¡¨æ ¼</p><blockquote><p><code>DESC</code> è¡¨ç¤ºç”±é«˜åˆ°ä½æ’åºï¼›ä¸å†™æ—¶é»˜è®¤ä¸º<code>ASC</code>ï¼Œä»£è¡¨ç”±ä½åˆ°é«˜æ’åº</p></blockquote><p>ç¤ºä¾‹</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> `score`,`student_id`</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>æ’åºæ—¶ï¼Œä¼˜å…ˆä»¥scoreå¯¹è¡¨æ ¼å†…å®¹è¿›è¡Œä»ä½åˆ°é«˜çš„æ’åºï¼›å½“scoreç›¸åŒæ—¶ï¼Œä»¥student_idä½œä¸ºåŸºå‡†æ’åº</span><br></pre></td></tr></tbody></table></figure><blockquote><p><span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å„ç§è¯­å¥çš„æ¡ä»¶å¯ä»¥æ··ç”¨</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="operator">&gt;</span><span class="keyword">FROM</span> `student`</span><br><span class="line"><span class="operator">&gt;</span><span class="keyword">WHERE</span> `major` <span class="operator">=</span> <span class="string">'è‹±è¯­'</span> <span class="keyword">OR</span> `score` <span class="operator">&lt;&gt;</span> <span class="number">70</span></span><br><span class="line"><span class="operator">&gt;</span>LIMIT <span class="number">2</span>;</span><br><span class="line"><span class="operator">&gt;</span><span class="operator">/</span><span class="operator">/</span>å›ä¼ majorä¸ºè‹±è¯­å’Œscoreä¸ç­‰äº<span class="number">70</span>çš„å‰ä¸¤ä¸ªæ•°æ®</span><br></pre></td></tr></tbody></table></figure></blockquote><p><strong>å¢åŠ å¤–é”®</strong> </p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span>å°†table2çš„å¯¹åº”å±æ€§åï¼Œè®¾ç½®ä¸ºtable1çš„å¤–é”®</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(`table1`)</span><br><span class="line"><span class="keyword">REFERENCES</span> `table2`(`table2å¯¹åº”å±æ€§å`)</span><br><span class="line"><span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ON DELETE CASCADE æ˜¯å½“â€œtable2å¯¹åº”å±æ€§åâ€è¢«åˆ é™¤åï¼Œå°†table1ä¸­å¯¹åº”çš„å€¼åˆ æ‰</p><p>ON DELETE SET NULL æ˜¯å½“â€œtable2å¯¹åº”å±æ€§åâ€è¢«åˆ é™¤åï¼Œå°†table1ä¸­å¯¹åº”çš„å€¼è®¾ç½®ä¸ºNULL</p><p>å½“è¯¥é”®ä¸ºå…¶ä»–è¡¨çš„ä¸»é”®æ—¶ï¼Œä¸å¯ä»¥ä½¿ç”¨ ON DELETE SET NULL</p></blockquote><p><strong>åŸºæœ¬é€»è¾‘</strong></p><p>æ–°å»ºè¡¨æ ¼æ—¶ï¼Œå…ˆåˆ›å»ºå„ä¸ªè¡¨æ ¼ï¼Œå†æ·»åŠ å¤–é”®çš„å…³è”</p><p>å¢åŠ èµ„æ–™æ—¶ï¼Œå…ˆå¢åŠ å¤–é”®æ‰€åœ¨çš„è¡¨æ ¼çš„èµ„æ–™ï¼Œå†å¢åŠ è‡ªå·±è¡¨æ ¼çš„èµ„æ–™</p><h3 id="èšåˆå‡½æ•°-aggregate-functions"><a href="#èšåˆå‡½æ•°-aggregate-functions" class="headerlink" title="èšåˆå‡½æ•° (aggregate functions)"></a>èšåˆå‡½æ•° (aggregate functions)</h3><p>å–å¾—æˆå‘˜æ•°   </p><ul><li><code>SELECT COUNT(&lt;å±æ€§å&gt;) FROM  &lt;table_name&gt;;</code></li><li><code>SELECT COUNT(*) FROM  &lt;table_name&gt;;</code></li></ul><p>åœ¨é™åˆ¶æ¡ä»¶ä¸‹å–æ•° ç¤ºä¾‹</p><ul><li><pre><code class="sql">SELECT COUNT(*) FROM  `employee`WHERE `birth_date` &gt; '1980-01-02' AND `sex` = 'F';//åœ¨employeeè¡¨ä¸­å–å¾—birth_date å¤§äº1980-01-02çš„å¥³æ€§</code></pre></li></ul><p>å–å¾—å‘˜å·¥çš„å¹³å‡è–ªæ°´ ç¤ºä¾‹</p><ul><li>â€‹<code>SELECT AVG (&lt;salary&gt;) FROM &lt;employee&gt;;</code></li></ul><p>å–å¾—æ‰€æœ‰å‘˜å·¥çš„è–ªæ°´æ€»å’Œ ç¤ºä¾‹</p><ul><li><code>SELECT SUM(&lt;salary&gt;) FROM &lt;employee&gt;;</code></li></ul><p>å–å¾—æœ€é«˜è–ªæ°´</p><ul><li><code>SELECT MAX(&lt;salary&gt;) FROM &lt;employee&gt;;</code></li></ul><p>å–å¾—æœ€ä½è–ªæ°´</p><ul><li><code>SELECT MIN(&lt;salary&gt;) FROM &lt;employee&gt;;</code></li></ul><h3 id="ä¸‡ç”¨å­—å…ƒ-wildcards"><a href="#ä¸‡ç”¨å­—å…ƒ-wildcards" class="headerlink" title="ä¸‡ç”¨å­—å…ƒ wildcards"></a>ä¸‡ç”¨å­—å…ƒ wildcards</h3><p><strong>% ä»£è¡¨å¤šä¸ªå­—å…ƒï¼Œ_ä»£è¡¨ä¸€ä¸ªå­—å…ƒ</strong></p><p>å–å¾—ç”µè¯å·ç æ˜¯335è¿ç»­çš„å®¢æˆ·</p><ul><li><code>SELECT * FROM &lt;cient&gt; WHERE &lt;phone&gt; LIKE '%335%';</code></li></ul><p>å–å¾—å§“è‰¾çš„å®¢æˆ·</p><ul><li><code>SELECT *FROM &lt;client&gt; WHERE &lt;phone&gt; LIKE 'è‰¾%';</code></li></ul><p>å–å¾—ç”Ÿæ—¥åœ¨12æœˆçš„å‘˜å·¥ ç”Ÿæ—¥æ ¼å¼YYYY-MM-DD</p><ul><li><code>SELECT * FROM &lt;employee&gt; WHERE &lt;birth_data&gt; LIKE '_________12%';</code></li></ul><h3 id="union-è¿æ¥æœå¯»ç»“æœ"><a href="#union-è¿æ¥æœå¯»ç»“æœ" class="headerlink" title="union è¿æ¥æœå¯»ç»“æœ"></a>union è¿æ¥æœå¯»ç»“æœ</h3><p><span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>  <strong>è¿æ¥çš„å±æ€§æ•°ç›®å’Œèµ„æ–™ç±»å‹å¿…é¡»ç›¸åŒ</strong></p><p>å‘˜å·¥åå­— è¿æ¥ å®¢æˆ·åå­—</p><ul><li><pre><code class="sql">SELECT &lt;name&gt; FROM &lt;employee&gt;UNIONSELECT &lt;client_name&gt; FROM &lt;client&gt;;<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å‘˜å·¥id+å‘˜å·¥åå­— è¿æ¥ å®¢æˆ·id+å®¢æˆ·åå­—</span><br><span class="line"></span><br><span class="line">- ```sql</span><br><span class="line">  SELECT &lt;employee_id&gt;,&lt;name&gt; </span><br><span class="line">  FROM &lt;employee&gt;</span><br><span class="line">  UNION</span><br><span class="line">  SELECT &lt;client_id&gt;,&lt;client_name&gt; </span><br><span class="line">  FROM &lt;client&gt;;</span><br><span class="line">  </span><br><span class="line">  //æ”¹å</span><br><span class="line">  SELECT &lt;employee_id&gt; AS &lt;total_id&gt;,&lt;name&gt; AS &lt;total_name&gt;</span><br><span class="line">  FROM &lt;employee&gt;</span><br><span class="line">  UNION</span><br><span class="line">  SELECT &lt;client_id&gt;,&lt;client_name&gt; </span><br><span class="line">  FROM &lt;client&gt;;</span><br></pre></td></tr></tbody></table></figure></code></pre></li></ul><h3 id="Join-è¿æ¥è¡¨æ ¼"><a href="#Join-è¿æ¥è¡¨æ ¼" class="headerlink" title="Join è¿æ¥è¡¨æ ¼"></a>Join è¿æ¥è¡¨æ ¼</h3><p>å–å¾—æ‰€æœ‰éƒ¨é—¨ç»ç†çš„èµ„æ–™ </p><ul><li><pre><code class="sql">//è¿”å›ç»“æœåŒ…å«ä¸¤ä¸ªè¡¨æ ¼çš„æ‰€æœ‰å±æ€§SELECT * FROM &lt;employee&gt; JOIN &lt;branch&gt; ON &lt;emp_id&gt; = &lt;manager_id&gt; //æ¡ä»¶<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```sql </span><br><span class="line">  //è¿”å›ç»“æœåªåŒ…å«é€‰ä¸­çš„å±æ€§</span><br><span class="line">  SELECT &lt;emp_id&gt;,&lt;branch_name&gt;,&lt;name&gt; </span><br><span class="line">  FROM &lt;employee&gt; </span><br><span class="line">  JOIN &lt;branch&gt; </span><br><span class="line">  ON &lt;emp_id&gt; = &lt;manager_id&gt;</span><br></pre></td></tr></tbody></table></figure></code></pre></li></ul><blockquote><p>å¯ä»¥ç”¨<code>&lt;table_name&gt;.&lt;å±æ€§å&gt;</code> æ¥åŒºåˆ†ä¸åŒè¡¨æ ¼çš„ç›¸åŒå±æ€§å</p></blockquote><h4 id="left-å…³é”®å­—"><a href="#left-å…³é”®å­—" class="headerlink" title="left å…³é”®å­—"></a>left å…³é”®å­—</h4><p>ä¸ç®¡æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œéƒ½ä¼šå°†JOINå·¦è¾¹çš„è¡¨æ ¼å±æ€§å…¨éƒ¨å›ä¼ ï¼›å³è¾¹çš„è¡¨æ ¼æ²¡æœ‰å¯¹åº”çš„å±æ€§æ—¶ï¼Œå°±å¡«å†™NULL</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> </span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>employee<span class="operator">&gt;</span> <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> <span class="operator">&lt;</span>branch<span class="operator">&gt;</span> </span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>emp_id<span class="operator">&gt;</span> <span class="operator">=</span> <span class="operator">&lt;</span>manager_id<span class="operator">&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="right-å…³é”®å­—"><a href="#right-å…³é”®å­—" class="headerlink" title="right å…³é”®å­—"></a>right å…³é”®å­—</h4><p>å’Œleftæ­£å¥½ç›¸åï¼Œä¸åœ¨æ­¤èµ˜è¿°</p><h3 id="subquery-å­æŸ¥è¯¢"><a href="#subquery-å­æŸ¥è¯¢" class="headerlink" title="subquery å­æŸ¥è¯¢"></a>subquery å­æŸ¥è¯¢</h3><p>åœ¨ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ä¸­æ’å…¥å¦å¤–ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œå¯¹å‰ä¸€ä¸ªæŸ¥è¯¢çš„ç»“æœè¿›è¡ŒæŸ¥è¯¢</p><p>ç¤ºä¾‹  æ‰¾å‡ºç ”å‘éƒ¨é—¨çš„ç»ç†åå­—</p><ul><li><pre><code class="sql">//ä»å‘˜å·¥æ ‡å‡†ä¸­æŸ¥æ‰¾å…¶åå­—SELECT `name`FROM `employee`WHERE `emp_id` = (    //å¾—åˆ° ç ”å‘éƒ¨é—¨ç»ç†çš„id    SELECT `manager_id`    FROM `branch`    WHERE `branch_name` = `ç ”å‘`);</code></pre></li></ul><p><em>æŠŠ WHERE åçš„ç¬¬ä¸€ä¸ªâ€=â€ æ¢ä¸ºINï¼Œå¯ç”¨äºå¤šä¸ªæŸ¥è¯¢ç»“æœ</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> MYSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŒºå—é“¾æ¦‚è¿°</title>
      <link href="/2024/07/31/qu-kuai-lian/qu-kuai-lian-gai-shu/qu-kuai-lian-gai-shu/"/>
      <url>/2024/07/31/qu-kuai-lian/qu-kuai-lian-gai-shu/qu-kuai-lian-gai-shu/</url>
      
        <content type="html"><![CDATA[<h1 id="åŒºå—é“¾æ¦‚è¿°"><a href="#åŒºå—é“¾æ¦‚è¿°" class="headerlink" title="åŒºå—é“¾æ¦‚è¿°"></a>åŒºå—é“¾æ¦‚è¿°</h1><h2 id="äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿"><a href="#äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿" class="headerlink" title="äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿"></a>äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿</h2><p>äº’è”ç½‘ç»å†äº†2ä¸ªé˜¶æ®µï¼š</p><ul><li><p>Web1.0<br>èµ·åˆçš„äº’è”ç½‘åªæä¾›  â€œè¯»â€ï¼Œæ•°æ®æµå‘æ˜¯å•å‘çš„ï¼Œä¹Ÿå°±æ˜¯åªæœ‰è¾“å…¥æ²¡æœ‰è¾“å‡º</p></li><li><p>Web2.0<br>ä¹Ÿæ­£æ˜¯ç›®å‰çš„ä¸»æµäº’è”ç½‘ï¼Œå®ƒ æä¾› â€œè¯»â€ â€œå†™â€çš„åŠŸèƒ½ï¼Œä½†æ˜¯ç”¨æˆ·æ²¡åŠæ³•æ‹¥æœ‰è‡ªå·±çš„æ•°æ®ï¼Œå³â€œè°å­˜å‚¨è°æ‹¥æœ‰â€å¹¶éâ€œè°åˆ›é€ è°æ‹¥æœ‰â€ã€‚</p></li><li><p>Web3.0<br>ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ· â€œå¯è¯»ã€å¯å†™ã€å¯æ‹¥æœ‰ä¿¡æ¯â€çš„ä¸–ç•Œï¼Œç”¨æˆ·å¯ä»¥å°†è‡ªå·±çš„ä¿¡æ¯æŒæ¡åœ¨è‡ªå·±çš„æ‰‹ä¸­</p></li></ul><h2 id="ä¸ºä»€ä¹ˆéœ€è¦Web3ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦Web3ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦Web3ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦Web3ï¼Ÿ</h2><p>è¿™é‡Œéœ€è¦æåŠä¸¤ä¸ªæ¦‚å¿µ=&gt; ä¸­å¿ƒåŒ–å’Œå»ä¸­å¿ƒåŒ–</p><hr><h3 id="ä¸­å¿ƒåŒ–"><a href="#ä¸­å¿ƒåŒ–" class="headerlink" title="ä¸­å¿ƒåŒ–"></a>ä¸­å¿ƒåŒ–</h3><p>æ¦‚å¿µï¼šåœ¨ä¸­å¿ƒåŒ–ç³»ç»Ÿä¸­ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªä¸»è¦çš„å†³ç­–è€…æˆ–å®ä½“è´Ÿè´£ç®¡ç†å’Œæ§åˆ¶ç³»ç»Ÿçš„è¿ä½œå’Œèµ„æºåˆ†é…ã€‚</p><p>æˆ‘ä»¬ç°åœ¨å°±å¤„åœ¨ä¸€ä¸ªä¸­å¿ƒåŒ–çš„ç¤¾ä¼šä¹‹ä¸­ï¼Œä¸¾æœ€ç®€å•çš„ä¾‹å­æ¥è¯´ï¼šä¹°æˆ¿å­æœ‰ä¸­ä»‹ã€åœ¨çŸ­è§†é¢‘å¹³å°ä¸Šå‘å¸ƒè§†é¢‘çš„æ”¶ç›Šéœ€è¦åˆ†æˆç»™å¹³å°ï¼Œè¿™äº›<strong>å¹¶éç”¨æˆ·ä¸ç”¨æˆ·ä¹‹é—´çš„ç›´æ¥æ¥è§¦ï¼Œéœ€è¦ç¬¬ä¸‰æ–¹çš„å‚ä¸</strong>ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¤§å®¶åº”è¯¥éƒ½ç»å†è¿‡ï¼Œåœ¨æŸä¸ªå¹³å°ä¸Šå¡«å†™äº†ä¸ªäººä¿¡æ¯ä¹‹åï¼Œå°±éªšæ‰°ç”µè¯å’Œåƒåœ¾ä¿¡æ¯ä¸æ–­ï¼Œä¸ªäººéšç§é—®é¢˜éš¾ä»¥å¾—åˆ°ä¿è¯ã€‚</p><p>ä¸­å¿ƒåŒ–ç³»ç»Ÿå¸¦æ¥è¿™äº›æŒ‘æˆ˜ï¼šå•ç‚¹æ•…éšœã€ä¿¡ä»»é—®é¢˜ã€é€æ˜åº¦ä¸è¶³ä»¥åŠå¯¹ä¸ªäººæƒåˆ©å’Œéšç§çš„ä¾µçŠ¯ã€‚</p><h3 id="å»ä¸­å¿ƒåŒ–"><a href="#å»ä¸­å¿ƒåŒ–" class="headerlink" title="å»ä¸­å¿ƒåŒ–"></a>å»ä¸­å¿ƒåŒ–</h3><p>æ¦‚å¿µï¼šå»ä¸­å¿ƒåŒ–å°†æƒåŠ›ã€æ§åˆ¶æˆ–å†³ç­–æƒåˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹æˆ–å‚ä¸è€…ä¹‹é—´ï¼Œè€Œä¸æ˜¯é›†ä¸­åœ¨å•ä¸€çš„ä¸­å¿ƒåŒ–å®ä½“æˆ–ä¸ªä½“æ‰‹ä¸­ï¼Œç®€å•ç†è§£å°±æ˜¯ï¼Œå»é™¤ä¸­ä»‹ã€‚</p><p>å»ä¸­å¿ƒåŒ–é€šè¿‡è¿™æ ·çš„æ‰‹æ®µæ¥è§£å†³ä¸­å¿ƒåŒ–å¸¦æ¥çš„é—®é¢˜ï¼Œå®ç°äº†å®‰å…¨æ€§çš„å¢å¼ºã€å…¬å¹³çš„æƒåŠ›åˆ†é…ã€æ›´é«˜çš„é€æ˜åº¦å’ŒæŠ—å®¡æŸ¥ç­‰èƒ½åŠ›ã€‚</p><hr><blockquote><p>å¾ˆå¤šä¸œè¥¿ä¸æ˜¯éé»‘å³ç™½çš„ï¼Œå› æ­¤ä¸­å¿ƒåŒ–ä¸æ˜¯ç»å¯¹çš„é”™ï¼Œå»ä¸­å¿ƒåŒ–ä¹Ÿä¸æ˜¯ç»å¯¹çš„å¥½ï¼Œå¤§éƒ¨åˆ†å‰è¾ˆä»¬æ‰€å¥‹æ–—çš„æ–¹å‘ä¹Ÿåªæ˜¯åœ¨ä¸­å¿ƒåŒ–æ²¡åšå¥½çš„åœ°æ–¹è¿›è¡Œæ”¹é©ï¼Œå¸Œæœ›ç†æ€§çœ‹å¾…è¿™äº›é—®é¢˜ã€‚</p></blockquote><p>å»ä¸­å¿ƒåŒ–å¼•å‘äº†è®¸å¤šæ–°æŠ€æœ¯äº§ç”Ÿï¼Œå…¶ä¸­æœ€å¼•äººæ³¨ç›®çš„ä¾¿æ˜¯åŒºå—é“¾æŠ€æœ¯</p><h2 id="Web3çš„æ–°æŠ€æœ¯-åŒºå—é“¾"><a href="#Web3çš„æ–°æŠ€æœ¯-åŒºå—é“¾" class="headerlink" title="Web3çš„æ–°æŠ€æœ¯ - åŒºå—é“¾"></a>Web3çš„æ–°æŠ€æœ¯ - åŒºå—é“¾</h2><p>åŒºå—é“¾é€šè¿‡ä¸€å®šçš„æŠ€æœ¯æ‰‹æ®µ ï¼Œå®ç°äº† â€œå»ä¸­å¿ƒåŒ–ã€å¯æº¯æºã€ä¸å¯ç¯¡æ”¹â€çš„ç‰¹ç‚¹ï¼Œæˆä¸ºä¸€ä¸ªåˆ†å¸ƒå¼çš„è´¦æœ¬æ¨¡å‹ï¼Œåœ¨æ­¤ä¹‹ä¸­ï¼Œæ‰€æœ‰å‚ä¸è€…å…±äº«åŒä¸€ä¸ªæ•°æ®è´¦æœ¬ï¼Œæ¯ä¸ªå‚ä¸è€…éƒ½å¯ä»¥æŸ¥çœ‹å®Œæ•´çš„äº¤æ˜“è®°å½•ã€‚</p><p>æ ¹æ®ä½¿ç”¨æƒé™ã€æ²»ç†ç»“æ„å’Œåº”ç”¨èŒƒå›´ç­‰å¤šä¸ªç»´åº¦å°†åŒºå—é“¾è¿›è¡Œåˆ†ç±»ï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p><ol><li><strong>å…¬é“¾ï¼ˆPublic Blockchainï¼‰</strong>ï¼š<ul><li>å…¬é“¾æ˜¯ä¸€ç§å¼€æ”¾çš„åŒºå—é“¾ç½‘ç»œï¼Œä»»ä½•äººéƒ½å¯ä»¥åŠ å…¥å’Œå‚ä¸å…¶ä¸­ï¼ŒæŸ¥çœ‹æ•°æ®ã€éªŒè¯äº¤æ˜“ï¼Œå¹¶å¯ä»¥è‡ªç”±åˆ›å»ºå’ŒéªŒè¯äº¤æ˜“ã€‚å…¸å‹çš„å…¬é“¾åŒ…æ‹¬æ¯”ç‰¹å¸ï¼ˆBitcoinï¼‰å’Œä»¥å¤ªåŠï¼ˆEthereumï¼‰ç­‰ã€‚</li></ul></li><li><strong>ç§é“¾ï¼ˆPrivate Blockchainï¼‰</strong>ï¼š<ul><li>ç§é“¾æ˜¯ä¸€ç§å—é™åˆ¶çš„åŒºå—é“¾ç½‘ç»œï¼Œå‚ä¸è€…å¿…é¡»è·å¾—è®¸å¯æ‰èƒ½åŠ å…¥ï¼Œé€šå¸¸ç”±å•ä¸ªå®ä½“æˆ–ç»„ç»‡ç®¡ç†å’Œæ§åˆ¶ã€‚ç§é“¾å¯ä»¥æä¾›æ›´é«˜çš„æ€§èƒ½å’Œéšç§ä¿æŠ¤ï¼Œå¸¸è§äºä¼ä¸šå†…éƒ¨æˆ–ç‰¹å®šè”ç›Ÿä¸­ã€‚</li></ul></li><li><strong>è”ç›Ÿé“¾ï¼ˆConsortium Blockchainï¼‰</strong>ï¼š<ul><li>è”ç›Ÿé“¾æ˜¯ä¸€ç§ç”±å¤šä¸ªç»„ç»‡æˆ–å®ä½“å…±åŒç®¡ç†çš„åŒºå—é“¾ç½‘ç»œï¼Œå‚ä¸è€…å¿…é¡»è·å¾—è®¸å¯æ‰èƒ½åŠ å…¥ï¼Œä½†å‚ä¸è€…ä¹‹é—´æœ‰æ˜ç¡®çš„ä¿¡ä»»å…³ç³»ã€‚è”ç›Ÿé“¾é€šå¸¸ç”¨äºè·¨ç»„ç»‡é—´çš„åˆä½œå’Œæ•°æ®å…±äº«ã€‚</li></ul></li></ol><p>ç°åœ¨çš„åŒºå—é“¾ä»ç„¶å¤„äºæ¢ç´¢å’Œå‘å±•çš„åˆæœŸé˜¶æ®µï¼Œæ­£éœ€è¦æ–°é²œè¡€æ¶²æ¥åˆ›æ–°å’Œå‚ä¸ï¼ŒåŒºå—é“¾ä¸–ç•Œæ¬¢è¿ä½ ä»¬-æœªæ¥çš„å¼€æ‹“è€…ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>httpå­¦ä¹ ç¬”è®°</title>
      <link href="/2024/07/29/ji-suan-ji-wang-luo-ji-chu/http-xue-xi-bi-ji/"/>
      <url>/2024/07/29/ji-suan-ji-wang-luo-ji-chu/http-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="HTTPå­¦ä¹ ç¬”è®°"><a href="#HTTPå­¦ä¹ ç¬”è®°" class="headerlink" title="HTTPå­¦ä¹ ç¬”è®°"></a>HTTPå­¦ä¹ ç¬”è®°</h1><blockquote><p>æ¨èæ•™ç¨‹ï¼š<a href="https://juejin.cn/post/6844903673680789517">https://juejin.cn/post/6844903673680789517</a></p></blockquote><p>HTTPå…¨ç§° <strong>è¶…æ–‡æœ¬ä¼ è¾“åè®®</strong>ï¼ˆHyperText Transfer Protocolï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºåœ¨ç½‘ç»œä¸Šè¿›è¡Œæ•°æ®ä¼ è¾“çš„åè®®ï¼Œå¯ä»¥é€šä¿—ç†è§£ä¸º è¿™æ˜¯ç”µè„‘ä¸ç”µè„‘ä¹‹é—´çš„æ²Ÿé€šæ–¹å¼ï¼Œä¸»è¦ç”¨äºç½‘é¡µä¸Šã€‚</p><h2 id="HTTPçš„ç»„æˆå’ŒåŸºæœ¬æ¦‚å¿µ"><a href="#HTTPçš„ç»„æˆå’ŒåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="HTTPçš„ç»„æˆå’ŒåŸºæœ¬æ¦‚å¿µ"></a><strong>HTTPçš„ç»„æˆå’ŒåŸºæœ¬æ¦‚å¿µ</strong></h2><ul><li><strong>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨</strong>ï¼šHTTP é€šå¸¸å·¥ä½œåœ¨å®¢æˆ·ç«¯ï¼ˆå¦‚ç½‘é¡µæµè§ˆå™¨ï¼‰å’ŒæœåŠ¡å™¨ä¹‹é—´ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”ã€‚</li><li><strong>è¯·æ±‚å’Œå“åº”</strong>ï¼šHTTP çš„å·¥ä½œæ–¹å¼åŸºäºè¯·æ±‚-å“åº”æ¨¡å‹ã€‚å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ˆåŒ…æ‹¬è¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼‰ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›ä¸€ä¸ªå“åº”ï¼ˆåŒ…æ‹¬çŠ¶æ€è¡Œã€å“åº”å¤´å’Œå“åº”ä½“ï¼‰ã€‚</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong><a href="http://www.google.com/">http://www.google.com</a>  </p><p><code>http</code>å®šä¹‰äº†é€‰æ‹©çš„åè®®æ–¹å¼    <code>www.google.com  </code> åˆ™å¯¹åº”éœ€è¦è®¿é—®çš„ipåœ°å€</p><p><em>ipåœ°å€å¯ä»¥ç†è§£ä¸ºæ¯ä¸ªäººçš„å®¶åº­ä½å€</em></p><p><strong>è¿‡ç¨‹</strong>ï¼šå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥ä¸€æ®µç½‘å€åï¼Œæµè§ˆå™¨å°±ä¼šå‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥å—è¯·æ±‚åå›ä¼ æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ç»è¿‡ç”µè„‘å¤„ç†åå°±ä¼šè¿”å›æˆ‘ä»¬é€šå¸¸çœ‹åˆ°çš„ç½‘é¡µã€‚</p><blockquote><p>â—ï¸ å¹¶ä¸æ˜¯åªæœ‰ç½‘å€æ‰ä¼šè§¦å‘è¯·æ±‚</p><p>ä¾‹å¦‚åœ¨è´­ç‰©å¹³å°è´­ç‰©æ—¶ï¼Œå½“ç‚¹å‡»<code>è´­ç‰©</code>æŒ‰é’®æ—¶ï¼Œå°±å·²ç»éšåŒ¿åœ°å‘æœåŠ¡å™¨å‘é€äº†è¯·æ±‚ï¼Œæ­¤æ—¶æ¶æ„æ˜¯åœ¨åº”ç”¨ä¸­å®ç°</p></blockquote><h2 id="HTTP-æ–¹æ³•"><a href="#HTTP-æ–¹æ³•" class="headerlink" title="HTTP æ–¹æ³•"></a><strong>HTTP æ–¹æ³•</strong></h2><p>HTTP å®šä¹‰äº†ä¸€äº›å¸¸è§çš„æ–¹æ³•æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><strong>GET</strong>ï¼šè·å–èµ„æ–™ï¼Œé€šå¸¸ç”¨äºä»æœåŠ¡å™¨è·å–æ•°æ®ã€‚</li><li><strong>POST</strong>ï¼šä¸Šä¼ èµ„æ–™ï¼Œç”¨äºåˆ›å»ºæˆ–æ›´æ–°èµ„æºã€‚</li><li><strong>PUT</strong>ï¼šæ›´æ–°æŒ‡å®šçš„èµ„æºã€‚</li><li><strong>DELETE</strong>ï¼šåˆ é™¤æŒ‡å®šçš„èµ„æºã€‚</li><li><strong>PATCHï¼š</strong>è¦†ç›–èµ„æ–™</li></ul><p><span class="github-emoji"><span>â­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åŒºåˆ«GETå’ŒPOSTæ–¹æ³•ï¼š</p><table><thead><tr><th>ç‰¹æ€§</th><th>GET</th><th>POST</th></tr></thead><tbody><tr><td><strong>ç›®çš„</strong></td><td>ä»æœåŠ¡å™¨è·å–æ•°æ®æˆ–èµ„æº</td><td>å‘æœåŠ¡å™¨æäº¤æ•°æ®ä»¥å¤„ç†æˆ–å­˜å‚¨</td></tr><tr><td><strong>æ•°æ®ä½ç½®</strong></td><td>æ•°æ®é™„åŠ åœ¨ URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­</td><td>æ•°æ®æ”¾åœ¨è¯·æ±‚ä½“ï¼ˆBodyï¼‰ä¸­</td></tr><tr><td><strong>æ•°æ®é‡</strong></td><td>æ•°æ®é‡æœ‰é™ï¼Œå— URL é•¿åº¦é™åˆ¶</td><td>æ•°æ®é‡æ²¡æœ‰ä¸¥æ ¼é™åˆ¶ï¼Œå¯ä»¥ä¼ è¾“å¤§é‡æ•°æ®</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>æ•°æ®æš´éœ²åœ¨ URL ä¸­ï¼Œç›¸å¯¹ä¸å®‰å…¨</td><td>æ•°æ®ä¸æš´éœ²åœ¨ URL ä¸­ï¼Œç›¸å¯¹è¾ƒå®‰å…¨</td></tr><tr><td><strong>ç¼“å­˜</strong></td><td>è¯·æ±‚å¯ä»¥è¢«ç¼“å­˜</td><td>è¯·æ±‚ä¸€èˆ¬ä¸è¢«ç¼“å­˜</td></tr><tr><td><strong>ä¹¦ç­¾</strong></td><td>URL å¯ä»¥è¢«ä¹¦ç­¾ä¿å­˜</td><td>URL ä¸é€‚åˆç›´æ¥ä¹¦ç­¾</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>è·å–èµ„æºæˆ–æ•°æ®ï¼Œå¦‚è¯»å–é¡µé¢æˆ–æœç´¢å†…å®¹</td><td>æäº¤è¡¨å•ã€ä¸Šä¼ æ–‡ä»¶ã€ä¿®æ”¹æˆ–åˆ›å»ºèµ„æº</td></tr><tr><td><strong>ç¤ºä¾‹è¯·æ±‚</strong></td><td><code>GET /page?name=value</code></td><td><code>POST /submit</code> <br> <code>Content-Type: application/x-www-form-urlencoded</code> <br> <code>name=John&amp;age=30</code></td></tr></tbody></table><h2 id="HTTPæŠ¥æ–‡"><a href="#HTTPæŠ¥æ–‡" class="headerlink" title="HTTPæŠ¥æ–‡"></a><strong>HTTPæŠ¥æ–‡</strong></h2><p>æŠ¥æ–‡å°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æ²Ÿé€šæ‰€éœ€è¦éµå¾ªçš„æ ¼å¼</p><ul><li><p><strong>è¯·æ±‚ç»“æ„</strong>ï¼š</p><ul><li><p><strong>è¯·æ±‚è¡Œ</strong>ï¼šåŒ…å«è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ GETã€POSTï¼‰ã€è¯·æ±‚ç›®æ ‡ï¼ˆå¦‚ URLï¼‰å’Œ HTTP ç‰ˆæœ¬ã€‚</p></li><li><p><strong>è¯·æ±‚å¤´</strong>ï¼šåŒ…æ‹¬å®¢æˆ·ç«¯ç¯å¢ƒçš„ä¿¡æ¯ï¼Œå¦‚æµè§ˆå™¨ç±»å‹ã€è¯­è¨€ç­‰ã€‚</p></li><li><p><strong>è¯·æ±‚ä½“</strong>ï¼šåŒ…å«éœ€è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ã€‚</p></li></ul><p><span class="github-emoji"><span>ğŸŒŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>ç¤ºä¾‹</strong>ï¼š<a href="http://api/shop.com/card">http://api/shop.com/card</a></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">POST /card HTTP/1.1  *è¯·æ±‚è¡Œ</span><br><span class="line">---</span><br><span class="line">Host:api.shop.com  *ä¼ é€çš„ç›®æ ‡åœ°å€ä¸è¯·æ±‚è¡Œç»„åˆæˆç½‘å€</span><br><span class="line">User-Agent:Mozila/5.0(windows...)Chrome  *è¯·æ±‚çš„å‘é€åœ°å€</span><br><span class="line">Accept:text/plain  *å¯æ¥å—çš„å›ä¼ æ¡£æ¡ˆç±»å‹</span><br><span class="line">Content-Type:text/plain  *ä¼ é€çš„æ¡£æ¡ˆç±»å‹</span><br><span class="line">Con-Length:43  *å†…å®¹é•¿åº¦</span><br><span class="line">---</span><br><span class="line">{"card":1234567890."total_price":8787}  *å†…å®¹=&gt;å¯ä»¥æ¨æ–­ä¸ºåˆ·å¡çš„è¯·æ±‚</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>å“åº”</strong>ç»“æ„ï¼š</p><ul><li><strong>çŠ¶æ€è¡Œ</strong>ï¼šåŒ…å« HTTP ç‰ˆæœ¬ã€çŠ¶æ€ç ï¼ˆå¦‚ 200ã€404ï¼‰å’ŒçŠ¶æ€æ¶ˆæ¯ã€‚</li><li><strong>å“åº”å¤´</strong>ï¼šåŒ…å«æœåŠ¡å™¨çš„ä¿¡æ¯å’Œå“åº”çš„å…ƒæ•°æ®ï¼Œå¦‚å†…å®¹ç±»å‹ã€é•¿åº¦ç­‰ã€‚</li><li><strong>å“åº”ä½“</strong>ï¼šå®é™…è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ï¼Œå¦‚ç½‘é¡µå†…å®¹ã€å›¾ç‰‡ç­‰ã€‚</li></ul><p><span class="github-emoji"><span>ğŸŒŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">---</span><br><span class="line">Server:nginx  *æœåŠ¡å™¨è½¯ä½“ç±»å‹</span><br><span class="line">Content-Type:text/plain  *å›ä¼ ä¿¡æ¯çš„ç±»å‹</span><br><span class="line">Content-Length:7  *å›ä¼ ä¿¡æ¯çš„é•¿åº¦</span><br><span class="line">Date:Fri,27 Aug 2021 20:09:07 GMT  *å›ä¼ å›å»çš„æ—¶é—´</span><br><span class="line">---</span><br><span class="line">success</span><br></pre></td></tr></tbody></table></figure></li></ul><p><span class="github-emoji"><span>ğŸ‘€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¯·æ±‚å’Œç›¸åº”ç®€å•ç†è§£ä¸ºä¸¤ä¸ªäººåœ¨ç›¸äº’å†™ä¿¡ï¼Œå½“ç„¶å†™ä¿¡æ˜¯éœ€è¦éµå¾ªä¿¡çš„æ ¼å¼çš„ !</p><h2 id="HTTP-çŠ¶æ€ç "><a href="#HTTP-çŠ¶æ€ç " class="headerlink" title="HTTP çŠ¶æ€ç "></a><strong>HTTP çŠ¶æ€ç </strong></h2><p>HTTP çŠ¶æ€ç ç”¨äºè¡¨ç¤ºè¯·æ±‚çš„ç»“æœï¼Œå¸¸è§çš„çŠ¶æ€ç åŒ…æ‹¬ï¼š</p><ul><li><strong>200 OK</strong>ï¼šè¯·æ±‚æˆåŠŸï¼ŒæœåŠ¡å™¨è¿”å›è¯·æ±‚çš„æ•°æ®ã€‚</li><li><strong>201 Creat</strong>: åˆ›å»ºæˆåŠŸ</li><li><strong>301 Moved Permanently</strong>ï¼šè¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚</li><li><strong>400 Bad Request</strong>: å‘é€çš„æ ¼å¼é”™è¯¯åŠ›</li><li><strong>401 Unauthorized</strong>ï¼šè¯·æ±‚çš„èµ„æºæ¯”è¾ƒæ•æ„Ÿï¼Œéœ€è¦éªŒè¯</li><li><strong>403 Forbidden</strong>: éªŒè¯èº«ä»½ä¸åˆæ ¼</li><li><strong>404 Not Found</strong>ï¼šè¯·æ±‚çš„èµ„æºæœªæ‰¾åˆ°ã€‚</li><li><strong>500 Internal Server Error</strong>ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚</li></ul><h2 id="âœ…-HTTP-ä¸-HTTPS-çš„åŒºåˆ«æ€»ç»“"><a href="#âœ…-HTTP-ä¸-HTTPS-çš„åŒºåˆ«æ€»ç»“" class="headerlink" title="âœ… HTTP ä¸ HTTPS çš„åŒºåˆ«æ€»ç»“"></a>âœ… HTTP ä¸ HTTPS çš„åŒºåˆ«æ€»ç»“</h2><h3 id="ä¸€ã€ğŸ“–-æœ¬è´¨åŒºåˆ«"><a href="#ä¸€ã€ğŸ“–-æœ¬è´¨åŒºåˆ«" class="headerlink" title="ä¸€ã€ğŸ“– æœ¬è´¨åŒºåˆ«"></a>ä¸€ã€ğŸ“– æœ¬è´¨åŒºåˆ«</h3><table><thead><tr><th>é¡¹ç›®</th><th>HTTP</th><th>HTTPS</th></tr></thead><tbody><tr><td>å…¨ç§°</td><td>HyperText Transfer Protocol</td><td>HyperText Transfer Protocol Secure</td></tr><tr><td>æ˜¯å¦åŠ å¯†</td><td>âŒ æ˜æ–‡ä¼ è¾“ï¼Œå­˜åœ¨å®‰å…¨é£é™©</td><td>âœ… åŠ å¯†ä¼ è¾“ï¼Œå®‰å…¨æ€§é«˜</td></tr><tr><td>é»˜è®¤ç«¯å£</td><td>80</td><td>443</td></tr><tr><td>åŠ å¯†æœºåˆ¶</td><td>æ— </td><td>ä½¿ç”¨ SSL/TLS åè®®å®ç°åŠ å¯†</td></tr><tr><td>è¯ä¹¦</td><td>ä¸éœ€è¦</td><td>éœ€è¦å‘ CA ç”³è¯·æ•°å­—è¯ä¹¦éªŒè¯èº«ä»½</td></tr></tbody></table><hr><h3 id="äºŒã€ğŸ”-å®‰å…¨æœºåˆ¶"><a href="#äºŒã€ğŸ”-å®‰å…¨æœºåˆ¶" class="headerlink" title="äºŒã€ğŸ” å®‰å…¨æœºåˆ¶"></a>äºŒã€ğŸ” å®‰å…¨æœºåˆ¶</h3><h4 id="1-åŠ å¯†æ–¹å¼ï¼šæ··åˆåŠ å¯†"><a href="#1-åŠ å¯†æ–¹å¼ï¼šæ··åˆåŠ å¯†" class="headerlink" title="1. åŠ å¯†æ–¹å¼ï¼šæ··åˆåŠ å¯†"></a>1. <strong>åŠ å¯†æ–¹å¼ï¼šæ··åˆåŠ å¯†</strong></h4><p>HTTPS ä½¿ç”¨ <strong>æ··åˆåŠ å¯†</strong>ï¼Œç»“åˆå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ï¼š</p><table><thead><tr><th>åŠ å¯†ç±»å‹</th><th>è¯´æ˜</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å¯¹ç§°åŠ å¯†</td><td>é€šä¿¡åŒæ–¹ä½¿ç”¨ç›¸åŒå¯†é’¥</td><td>åŠ å¯†é€Ÿåº¦å¿«</td><td>å¯†é’¥äº¤æ¢ä¸å®‰å…¨</td></tr><tr><td>éå¯¹ç§°åŠ å¯†</td><td>ä½¿ç”¨ä¸€å¯¹å…¬é’¥å’Œç§é’¥</td><td>å¯†é’¥äº¤æ¢å®‰å…¨</td><td>åŠ å¯†è§£å¯†é€Ÿåº¦æ…¢</td></tr></tbody></table><blockquote><p>ğŸ‘‰ è§£å†³æ–¹æ¡ˆï¼š<strong>å…ˆç”¨éå¯¹ç§°åŠ å¯†äº¤æ¢â€œä¼šè¯å¯†é’¥â€ï¼Œå†ç”¨å¯¹ç§°åŠ å¯†ä¼ è¾“æ•°æ®</strong>ï¼Œå³æ··åˆåŠ å¯†ã€‚</p></blockquote><hr><h3 id="ä¸‰ã€ğŸ”—-å»ºç«‹è¿æ¥çš„è¿‡ç¨‹"><a href="#ä¸‰ã€ğŸ”—-å»ºç«‹è¿æ¥çš„è¿‡ç¨‹" class="headerlink" title="ä¸‰ã€ğŸ”— å»ºç«‹è¿æ¥çš„è¿‡ç¨‹"></a>ä¸‰ã€ğŸ”— å»ºç«‹è¿æ¥çš„è¿‡ç¨‹</h3><h4 id="ğŸ“¡-HTTPï¼š"><a href="#ğŸ“¡-HTTPï¼š" class="headerlink" title="ğŸ“¡ HTTPï¼š"></a>ğŸ“¡ HTTPï¼š</h4><ul><li>å»ºç«‹ TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰â†’ ç›´æ¥å‘é€ HTTP è¯·æ±‚</li></ul><h4 id="ğŸ”-HTTPSï¼š"><a href="#ğŸ”-HTTPSï¼š" class="headerlink" title="ğŸ” HTTPSï¼š"></a>ğŸ” HTTPSï¼š</h4><ul><li>TCP ä¸‰æ¬¡æ¡æ‰‹</li><li><strong>TLS/SSL æ¡æ‰‹è¿‡ç¨‹ï¼ˆå»ºç«‹å®‰å…¨è¿æ¥ï¼‰ï¼š</strong><ul><li>å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œæºå¸¦æ”¯æŒçš„åŠ å¯†ç®—æ³•</li><li>æœåŠ¡å™¨è¿”å›è¯ä¹¦å’Œå…¬é’¥</li><li>å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦åˆæ³•æ€§ï¼Œç”¨å…¬é’¥åŠ å¯†ç”Ÿæˆçš„å¯¹ç§°å¯†é’¥å¹¶å‘é€ç»™æœåŠ¡å™¨</li><li>æœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†è·å–ä¼šè¯å¯†é’¥</li></ul></li><li>å»ºç«‹å®Œæˆåï¼Œä½¿ç”¨ <strong>å¯¹ç§°åŠ å¯†</strong> ä¼ è¾“æ•°æ®</li></ul><hr><h3 id="å››ã€ğŸ“ƒ-æ•°å­—è¯ä¹¦çš„ä½œç”¨"><a href="#å››ã€ğŸ“ƒ-æ•°å­—è¯ä¹¦çš„ä½œç”¨" class="headerlink" title="å››ã€ğŸ“ƒ æ•°å­—è¯ä¹¦çš„ä½œç”¨"></a>å››ã€ğŸ“ƒ æ•°å­—è¯ä¹¦çš„ä½œç”¨</h3><ul><li>HTTPS éœ€è¦å‘ <strong>CAï¼ˆCertificate Authorityï¼‰ç”³è¯·æ•°å­—è¯ä¹¦</strong></li><li>æ•°å­—è¯ä¹¦åŒ…å«ï¼šç½‘ç«™èº«ä»½ã€å…¬é’¥ã€ç­¾åã€æœ‰æ•ˆæœŸç­‰ä¿¡æ¯</li><li>ä½œç”¨ï¼š<ul><li>âœ… ç¡®è®¤æœåŠ¡å™¨èº«ä»½æ˜¯å¦å¯ä¿¡ï¼ˆé˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼‰</li><li>âœ… å…¬é’¥åˆ†å‘ï¼Œç¡®ä¿å¯†é’¥äº¤æ¢å®‰å…¨</li></ul></li></ul><hr><h3 id="äº”ã€ğŸ“Œ-ä¸ºä»€ä¹ˆ-HTTPS-æ›´å®‰å…¨ï¼Ÿ"><a href="#äº”ã€ğŸ“Œ-ä¸ºä»€ä¹ˆ-HTTPS-æ›´å®‰å…¨ï¼Ÿ" class="headerlink" title="äº”ã€ğŸ“Œ ä¸ºä»€ä¹ˆ HTTPS æ›´å®‰å…¨ï¼Ÿ"></a>äº”ã€ğŸ“Œ ä¸ºä»€ä¹ˆ HTTPS æ›´å®‰å…¨ï¼Ÿ</h3><ol><li><strong>æ•°æ®åŠ å¯†</strong>ï¼ˆé˜²çªƒå¬ï¼‰</li><li><strong>èº«ä»½éªŒè¯</strong>ï¼ˆé˜²ä¼ªè£…ï¼‰</li><li><strong>æ•°æ®å®Œæ•´æ€§æ ¡éªŒ</strong>ï¼ˆé˜²ç¯¡æ”¹ï¼Œä½¿ç”¨æ‘˜è¦ç®—æ³•å¦‚ SHA-256ï¼‰</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sui-å­¦ä¹ è·¯å¾„</title>
      <link href="/2024/07/18/qu-kuai-lian/sui-xue-xi-lu-jing/"/>
      <url>/2024/07/18/qu-kuai-lian/sui-xue-xi-lu-jing/</url>
      
        <content type="html"><![CDATA[<h1 id="å­¦ä¹ è·¯å¾„"><a href="#å­¦ä¹ è·¯å¾„" class="headerlink" title="å­¦ä¹ è·¯å¾„"></a>å­¦ä¹ è·¯å¾„</h1><h2 id="æ­¥éª¤ä¸€ï¼šå‰ç½®å®‰è£…"><a href="#æ­¥éª¤ä¸€ï¼šå‰ç½®å®‰è£…" class="headerlink" title="æ­¥éª¤ä¸€ï¼šå‰ç½®å®‰è£…"></a>æ­¥éª¤ä¸€ï¼šå‰ç½®å®‰è£…</h2><h3 id="å®‰è£…Sui-Wallet"><a href="#å®‰è£…Sui-Wallet" class="headerlink" title="å®‰è£…Sui Wallet"></a>å®‰è£…Sui Wallet</h3><p>é‡‡ç”¨Googleæ’ä»¶<br><a href="https://chromewebstore.google.com/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil">https://chromewebstore.google.com/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil</a></p><h3 id="å®‰è£…Nodejs"><a href="#å®‰è£…Nodejs" class="headerlink" title="å®‰è£…Nodejs"></a>å®‰è£…Nodejs</h3><p>å…·ä½“å®‰è£…è¿‡ç¨‹éœ€è¦è‡ªè¡Œæ¢ç´¢<br><a href="https://nodejs.org/en">https://nodejs.org/en</a>  </p><h3 id="å®‰è£…ç¼–è¯‘å™¨"><a href="#å®‰è£…ç¼–è¯‘å™¨" class="headerlink" title="å®‰è£…ç¼–è¯‘å™¨"></a>å®‰è£…ç¼–è¯‘å™¨</h3><p>VSCODE å’Œ RustRover äºŒé€‰ä¸€å³å¯</p><h4 id="RustRover"><a href="#RustRover" class="headerlink" title="RustRover"></a>RustRover</h4><p>RustRoverçš„æŠ¥é”™å’Œæç¤ºæ¯”è¾ƒå‹å¥½ï¼Œä¹Ÿæœ‰æˆç†Ÿçš„æ’ä»¶<br><a href="https://www.jetbrains.com.cn/rust/">https://www.jetbrains.com.cn/rust/</a></p><h4 id="VSCODE"><a href="#VSCODE" class="headerlink" title="VSCODE"></a>VSCODE</h4><p>å®¹æ˜“ä¸Šæ‰‹ï¼Œé€šç”¨æ€§å¼º<br><a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p><h3 id="é…ç½®å¼€å‘ç¯å¢ƒ"><a href="#é…ç½®å¼€å‘ç¯å¢ƒ" class="headerlink" title="é…ç½®å¼€å‘ç¯å¢ƒ"></a>é…ç½®å¼€å‘ç¯å¢ƒ</h3><p><a href="https://docs.sui.io/guides/developer/getting-started/sui-install">https://docs.sui.io/guides/developer/getting-started/sui-install</a><br>å»ºè®®é‡‡ç”¨ä»Githubä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¯¹å°ç™½æ›´å‹å¥½</p><h2 id="æ­¥éª¤äºŒï¼šåŸºæœ¬è¯­æ³•å­¦ä¹ "><a href="#æ­¥éª¤äºŒï¼šåŸºæœ¬è¯­æ³•å­¦ä¹ " class="headerlink" title="æ­¥éª¤äºŒï¼šåŸºæœ¬è¯­æ³•å­¦ä¹ "></a>æ­¥éª¤äºŒï¼šåŸºæœ¬è¯­æ³•å­¦ä¹ </h2><p><a href="https://www.bilibili.com/video/BV1Rm42177Kx/">bilibiliæ•™å­¦è§†é¢‘</a> (è§†é¢‘åŒ…æ‹¬åŸºæœ¬è¯­æ³•çš„å­¦ä¹ å’Œå®æˆ˜æ¼”ç»ƒ  )<br>è¯¾ç¨‹ç›¸å…³ä»£ç åº“:</p><ul><li><a href="https://github.com/404ll/letsmove/tree/main/tutorial/bootcamp">https://github.com/404ll/letsmove/tree/main/tutorial/bootcamp</a></li><li>Swapä»¥åŠCoinçš„ä»£ç åº“ <a href="https://github.com/uvd/sui-swap-course">https://github.com/uvd/sui-swap-course</a></li></ul><p>å®Œæ•´å…¥é—¨æ‰‹å†Œï¼Œéå¸¸è¯¦ç»†</p><ul><li><a href="https://easy.sui-book.com/">è½»æ¾å…¥é—¨move</a></li></ul><h2 id="æ­¥éª¤ä¸‰ï¼šæ·±å…¥å­¦ä¹ ä»¥åŠå®Œæˆtask"><a href="#æ­¥éª¤ä¸‰ï¼šæ·±å…¥å­¦ä¹ ä»¥åŠå®Œæˆtask" class="headerlink" title="æ­¥éª¤ä¸‰ï¼šæ·±å…¥å­¦ä¹ ä»¥åŠå®Œæˆtask"></a>æ­¥éª¤ä¸‰ï¼šæ·±å…¥å­¦ä¹ ä»¥åŠå®Œæˆtask</h2><p>åŒºå—é“¾æµè§ˆå™¨ï¼š<a href="https://suivision.xyz/">https://suivision.xyz/</a></p><p>ç”±äºæ•™å­¦è§†é¢‘çš„æ—¶é—´é™åˆ¶ï¼Œæ‰‹æŠŠæ‰‹æ•™å­¦æ¥å®Œæˆæ¯ä¸€ä¸ªtaskåŸºæœ¬æ˜¯ä¸ç°å®çš„ï¼ŒåŒæ—¶å·²æœ‰çš„å­¦ä¹ èµ„æ–™å·²ç»å®Œå…¨è¶³å¤Ÿä»å…¥é—¨åˆ°ç†Ÿç»ƒæŒæ¡<br>å› æ­¤éœ€è¦å­¦å‘˜æœ‰å¼ºå¤§çš„å†…é©±åŠ›å’Œå­¦ä¹ èƒ½åŠ›ï¼Œä»å·²æœ‰çš„æ–‡æ¡£å’Œä»£ç åº“ä¸­ï¼Œå¯»æ‰¾å’Œå­¦ä¹ æ‰€éœ€çš„çŸ¥è¯†ç‚¹  </p><p>åŸºäºå®˜æ–¹æ ‡å‡†åº“ï¼Œå¯ä»¥æŸ¥è¯¢å’Œäº†è§£æ¯ä¸€ä¸ªå‡½æ•°çš„åŠŸèƒ½åŠä½¿ç”¨æ–¹æ³•</p><ul><li><a href="https://github.com/MystenLabs/sui/tree/main/crates/sui-framework">https://github.com/MystenLabs/sui/tree/main/crates/sui-framework</a></li></ul><p>æ¢ç´¢å®˜æ–¹æ–‡æ¡£ï¼ˆåŒ…æ‹¬Coinåè®®ç­‰ç­‰ï¼‰</p><ul><li><a href="https://docs.sui.io/">https://docs.sui.io</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> sui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apots - move è¯¾ç¨‹ç¬”è®°</title>
      <link href="/2024/07/12/qu-kuai-lian/apots-move-xue-xi-bi-ji/"/>
      <url>/2024/07/12/qu-kuai-lian/apots-move-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/aptos-labs/aptos-core/">https://github.com/aptos-labs/aptos-core/</a></p></blockquote><blockquote><p>githubä»£ç å‚è€ƒï¼š<a href="https://github.com/aptos-labs/aptos-core/">https://github.com/aptos-labs/aptos-core/</a></p></blockquote><h2 id="æ¨¡å—äº¤äº’ä¸å‘å¸ƒ"><a href="#æ¨¡å—äº¤äº’ä¸å‘å¸ƒ" class="headerlink" title="æ¨¡å—äº¤äº’ä¸å‘å¸ƒ"></a>æ¨¡å—äº¤äº’ä¸å‘å¸ƒ</h2><h3 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h3><p>ç”Ÿæˆè´¦æˆ·åœ°å€ï¼šaptos init</p><p>é¢†æ°´ï¼šaptos account fund-with-faucet â€“account de fault </p><p>ç¼–è¯‘ï¼šaptos move compile</p><p>æµ‹è¯•:  aptos move test</p><p>å‘å¸ƒï¼šaptos move publish</p><h3 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h3><p>Aptos åŒºå—é“¾æµè§ˆå™¨:<a href="https://explorer.aptoslabs.com/">https://explorer.aptoslabs.com/</a></p><p>ç”Ÿæˆçš„<code>sender</code>æ¥æœç´¢ï¼ˆè®°å¾—åˆ‡æ¢å¯¹åº”ç½‘ç»œï¼‰</p><p>ç‚¹å‡» Modules-run å®æ–½äº¤äº’ï¼Œè¿›è¡ŒåŸºæœ¬è°ƒè¯•</p><h2 id="Vector-å‘é‡è§£æ"><a href="#Vector-å‘é‡è§£æ" class="headerlink" title="Vector å‘é‡è§£æ"></a>Vector å‘é‡è§£æ</h2><p>ç‰¹æ€§ï¼švector å¯ä»¥ç†è§£ä¸ºå…¶ä»–è¯­è¨€çš„æ•°ç»„</p><h3 id="æŸ¥è¯¢åŠŸèƒ½"><a href="#æŸ¥è¯¢åŠŸèƒ½" class="headerlink" title="æŸ¥è¯¢åŠŸèƒ½"></a>æŸ¥è¯¢åŠŸèƒ½</h3><table><thead><tr><th>è¯­æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>vector::is_empty<t>(): bool</t></td><td>æŸ¥è¯¢æ˜¯å¦æ˜¯ç©ºæ•°ç»„</td></tr><tr><td>vector::length<t>(v: &amp;vector<t>): u64</t></t></td><td>æŸ¥è¯¢æ•°ç»„é•¿åº¦</td></tr><tr><td>vector::borrow<t>(v: &amp;vector<t>, i: u64): &amp;T</t></t></td><td>è¿”å›æ•°ç»„ç¬¬né¡¹çš„æ•°æ®</td></tr><tr><td>vector::borrow_mut<t>(v: &amp;mut vector<t>, i: u64): &amp;mut T</t></t></td><td>è¿”å›æ•°ç»„ç¬¬né¡¹çš„å¯å˜å¼•ç”¨</td></tr><tr><td>vector::contains<t>(v: &amp;vector<t>, e: &amp;T): bool</t></t></td><td>å¦‚æœå…ƒç´ eåœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›true</td></tr><tr><td>vector::index_of<t>(v: &amp;vector<t>, e: &amp;T): (bool, u64)</t></t></td><td>å¦‚æœå…ƒç´ eåœ¨æ•°ç»„ä¸­ï¼Œåˆ™è¿”å›trueå’Œç´¢å¼•ä½ç½®</td></tr></tbody></table><h3 id="å¢åˆ æ”¹"><a href="#å¢åˆ æ”¹" class="headerlink" title="å¢åˆ æ”¹"></a>å¢åˆ æ”¹</h3><table><thead><tr><th><strong>è¯­æ³•</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>vector::push_back<t>(v: &amp;mut vector<t>, t: T)</t></t></td><td>æ·»åŠ å°¾éƒ¨1ä¸ªå…ƒç´ </td></tr><tr><td>vector::append<t>(v1: &amp;mut vector<t>, v2: vector<t>)</t></t></t></td><td>æ·»åŠ å°¾éƒ¨1ä¸ªæ•°ç»„</td></tr><tr><td>vector::reverse_append<t>(lhs: &amp;mut vector<t>, other: vector<t>)</t></t></t></td><td>æ·»åŠ å°¾éƒ¨1ä¸ªæ•°ç»„ï¼Œå¹¶è¿›è¡Œæ’åº</td></tr><tr><td>vector::pop_back<t>(v: &amp;mut vector<t>): T</t></t></td><td>åˆ æ‰å°¾éƒ¨1ä¸ªå…ƒç´ </td></tr><tr><td>vector::destroy_empty<t>(v: vector<t>)</t></t></td><td>åˆ é™¤æ•°ç»„</td></tr><tr><td>vector::swap<t>(v: &amp;mut vector<t>, i: u64, j: u64)</t></t></td><td>äº¤æ¢æ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®</td></tr><tr><td>vector::reverse<t>(v: &amp;mut vector<t>)</t></t></td><td>åè½¬æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº</td></tr><tr><td>vector::insert<t>(v: &amp;mut vector<t>, i: u64, e: T)</t></t></td><td>åœ¨é•¿åº¦ä¸ºi-1å¤„æ’å…¥ä¸€ä¸ªå…ƒç´ </td></tr><tr><td>vector::remove<t>(v: &amp;mut vector<t>, i: u64): T</t></t></td><td>åˆ é™¤ç´¢å¼•ä¸ºiå¤„çš„å…ƒç´ </td></tr></tbody></table><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">module 0x42::lesson4{</span><br><span class="line">    use std::debug;</span><br><span class="line">    use std::vector;</span><br><span class="line">//create a vector of u64</span><br><span class="line">    const ARR:vector&lt;u64&gt; = vector[1,2,3,4,5,6];</span><br><span class="line"></span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector(){</span><br><span class="line">        debug::print(&amp;ARR);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    #[test]</span><br><span class="line">    fun test_empty_vector(){</span><br><span class="line">        let bools:bool = vector::is_empty(&amp;ARR);</span><br><span class="line">        debug::print(&amp;bools);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector_length(){</span><br><span class="line">        let len:u64 = vector::length(&amp;ARR);</span><br><span class="line">        debug::print(&amp;len);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector_borrow(){</span><br><span class="line">        let val = vector::borrow(&amp;ARR,3);</span><br><span class="line">        debug::print(val);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector_borrow_mut(){</span><br><span class="line">        //change vector value</span><br><span class="line">        let arr:vector&lt;u64&gt; = vector[1,2,3,4,5];</span><br><span class="line">        let val = vector::borrow_mut(&amp;mut arr,3);</span><br><span class="line">        *val = 100;</span><br><span class="line">        debug::print(&amp;arr); </span><br><span class="line">    }</span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector_contains(){</span><br><span class="line">        let n2:u64 = 11;</span><br><span class="line">        let n:u64 = 3;</span><br><span class="line">        let bools:bool = vector::contains(&amp;ARR,&amp;n);</span><br><span class="line">        let bools2:bool = vector::contains(&amp;ARR,&amp;n2);</span><br><span class="line">        debug::print(&amp;bools);</span><br><span class="line">        debug::print(&amp;bools2);</span><br><span class="line">    }</span><br><span class="line">    #[test]</span><br><span class="line">    fun test_vector_index_of(){</span><br><span class="line">        let n2:u64 = 11;</span><br><span class="line">        let n:u64 = 3;</span><br><span class="line">        let (isIndex,index) = vector::index_of(&amp;ARR,&amp;n);</span><br><span class="line">        let (isIndex2,index2) = vector::index_of(&amp;ARR,&amp;n2);</span><br><span class="line">        debug::print(&amp;index);</span><br><span class="line">        debug::print(&amp;index2);</span><br><span class="line">        debug::print(&amp;isIndex);</span><br><span class="line">        debug::print(&amp;isIndex2);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å‡½æ•°ä¿®é¥°ç¬¦"><a href="#å‡½æ•°ä¿®é¥°ç¬¦" class="headerlink" title="å‡½æ•°ä¿®é¥°ç¬¦"></a>å‡½æ•°ä¿®é¥°ç¬¦</h2><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><p>å‡½æ•°ä¿®é¥°ç¬¦æ˜¯ç”¨æ¥èµ‹äºˆå‡½æ•°ç‰¹æ®Šèƒ½åŠ›çš„ä¸€ç»„å…³é”®å­—ã€‚</p><p><strong>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç±»</strong></p><p>å¯è§æ€§</p><ul><li><p>æ— publicï¼Œç§æœ‰å‡½æ•°ï¼Œä»…é™moduleå†…éƒ¨è°ƒç”¨</p></li><li><p>friend (public)ï¼Œæ¨¡å—å†…éƒ¨å‡½æ•°ï¼ŒåŒåŒ…æ¨¡å—ä¹‹é—´å¯ä»¥è°ƒç”¨</p></li><li><p>publicï¼Œæ¨¡å—å…¬å¼€å‡½æ•°ï¼Œæ‰€æœ‰æ¨¡å—éƒ½å¯ä»¥è°ƒç”¨</p></li></ul><p>å…¨å±€å­˜å‚¨å¼•ç”¨</p><ul><li>acquiresï¼Œå½“éœ€è¦ä½¿ç”¨<code>move_from</code>ã€<code>borrow_global</code>ã€<code>borrow_global_mut</code> è®¿é—®åœ°å€ä¸‹çš„èµ„æºçš„æ—¶å€™ï¼Œéœ€è¦ç”¨å…¶ä¿®é¥°</li></ul><p>é“¾ä¸‹</p><ul><li><p>entryï¼Œä¿®é¥°åï¼Œè¯¥æ–¹æ³•å¯ç”±é“¾ä¸‹è„šæœ¬è°ƒç”¨</p><h4 id="ä»£ç ç¤ºä¾‹1"><a href="#ä»£ç ç¤ºä¾‹1" class="headerlink" title="ä»£ç ç¤ºä¾‹1"></a>ä»£ç ç¤ºä¾‹1</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">address 0x42{</span><br><span class="line">    module m{</span><br><span class="line">        friend 0x42::m3;</span><br><span class="line"></span><br><span class="line">        fun f1() : u64{</span><br><span class="line">            1</span><br><span class="line">        }</span><br><span class="line">        //public å¯ä»¥è¢«å¤–éƒ¨è®¿é—®</span><br><span class="line">        public fun f2() : u64{</span><br><span class="line">            2</span><br><span class="line">        }</span><br><span class="line">        //å¤–éƒ¨æ¨¡å—æ— æ³•ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦å£°æ˜friend</span><br><span class="line">        public(friend) fun f3() : u64{</span><br><span class="line">            3</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    module m2{</span><br><span class="line">        fun f1() : u64{</span><br><span class="line">            0x42::m::f2()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    //view f2 f3</span><br><span class="line">    module m3{</span><br><span class="line">        fun f1() : u64{</span><br><span class="line">            0x42::m::f3()</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="ä»£ç ç¤ºä¾‹2"><a href="#ä»£ç ç¤ºä¾‹2" class="headerlink" title="ä»£ç ç¤ºä¾‹2"></a>ä»£ç ç¤ºä¾‹2</h4><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">module 0x42::Demo{</span><br><span class="line">    use std::debug;</span><br><span class="line">   // æ¯ä¸ªè´¦æˆ·åœ¨ move ä¸­éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ Signerï¼Œå®ƒé€šå¸¸æ˜¯è´¦æˆ·çš„åˆ›å»ºè€…æˆ–è€…æ‹¥æœ‰è€…ã€‚</span><br><span class="line">    use std::signer;</span><br><span class="line"></span><br><span class="line">    struct Coin has key{</span><br><span class="line">        value:u64</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">//å¯ä»¥è¢«é“¾ä¸‹è°ƒç”¨</span><br><span class="line">    public entry fun mint(account: &amp;signer, value: u64){</span><br><span class="line">    //å°†Coinç§»åŠ¨åˆ°ç”¨æˆ·çš„åœ°å€ä¸­å»</span><br><span class="line">        move_to(account, Coin{value});</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    #[test(account = @0x42)]</span><br><span class="line">    //acquires</span><br><span class="line">    public fun test_mint(account: &amp;signer)acquires Coin{</span><br><span class="line">    </span><br><span class="line">    //è·å–accountçš„åœ°å€</span><br><span class="line">        let addr = signer::address_of(account);</span><br><span class="line">        mint(account, 10);</span><br><span class="line">        </span><br><span class="line">     //ä»å…¨å±€èµ„æºä¸­å€Ÿç”¨æŒ‡å®šåœ°å€addrå¤„çš„Coinç±»å‹èµ„æºï¼Œå¹¶è·å–å…¶value</span><br><span class="line">        let coin = borrow_global&lt;Coin&gt;(addr).value;</span><br><span class="line">        debug::print(&amp;coin)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="struct-ç»“æ„ä½“"><a href="#struct-ç»“æ„ä½“" class="headerlink" title="struct ç»“æ„ä½“"></a>struct ç»“æ„ä½“</h2><h4 id="æ ¸å¿ƒæ¦‚å¿µ-1"><a href="#æ ¸å¿ƒæ¦‚å¿µ-1" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h4><p>  Struct ç»“æ„ä½“ï¼Œç”¨æ¥å­˜å‚¨å…·æœ‰ç»“æ„åŒ–çš„æ•°æ®ï¼Œsturctå¯ä»¥ç›¸äº’åµŒå¥—ï¼ˆä¸èƒ½é€’å½’ï¼‰å¯å­˜å‚¨åœ°å€ä¸‹ä½œä¸ºèµ„æºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æ„å£°æ˜æ˜¯çº¿æ€§ä¸”çŸ­æš‚çš„ï¼ˆä¹Ÿå°±æ˜¯æ²¡åŠæ³•å¼•ç”¨ï¼‰</p><ol><li>å‘½åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</li><li>å¯ä»¥é€šè¿‡has å…³é”®è¯èµ‹ä¸èƒ½åŠ›</li></ol><h4 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h4><p>-Copy   å€¼èƒ½å¤Ÿè¢«å¤åˆ¶<br>-Drop  å€¼å¯ä»¥åœ¨ä½œç”¨åŸŸç»“æŸæ—¶åˆ é™¤<br>-Key   å€¼å¯ä»¥ç”¨ä½œå…¨å±€å­˜å‚¨æ“ä½œçš„keyï¼Œå¯ä»¥ç´¢å¼•åˆ°ç›¸å…³ç»“æ„ä½“<br>-Store   å€¼å¯ä»¥è¢«å…¨å±€å­˜å‚¨ï¼Œç»“åˆkeyä½¿ç”¨ï¼Œå®ç°åµŒå¥—</p><p>  é™¤structç±»å‹å¤–ï¼Œå…¶ä»–çš„ç±»å‹é»˜è®¤å…·å¤‡ store,drop,copy çš„èƒ½åŠ›ï¼Œsturct æœ€ç»ˆæ˜¯å­˜å‚¨åœ¨ç”¨æˆ·çš„åœ°å€ä¸Šï¼ˆæˆ–è€…è¢«é”€æ¯ï¼‰ï¼Œä¸å­˜åœ¨aptosåˆçº¦é‡Œï¼Œaptosåˆçº¦æ˜¯ä¸€ä¸ªå…¨çº¯çš„å‡½æ•°ï¼ˆç›¸è¾ƒäºSolidityï¼‰</p><h3 id="Object-å¯¹è±¡"><a href="#Object-å¯¹è±¡" class="headerlink" title="Object å¯¹è±¡"></a>Object å¯¹è±¡</h3><ol><li>å¯¹è±¡æ˜¯å•ä¸ªåœ°å€çš„èµ„æºå®¹å™¨ï¼Œç”¨äºå‚¨å­˜èµ„æºï¼›</li><li>å¯¹è±¡æä¾›äº†ä¸€ç§é›†ä¸­å¼èµ„æºæ§åˆ¶ä¸æ‰€æœ‰æƒç®¡ç†çš„æ–¹æ³•ï¼›</li></ol><h3 id="åˆ›å»ºå¹¶è½¬ç§»å¯¹è±¡æ¡ˆä¾‹"><a href="#åˆ›å»ºå¹¶è½¬ç§»å¯¹è±¡æ¡ˆä¾‹" class="headerlink" title="åˆ›å»ºå¹¶è½¬ç§»å¯¹è±¡æ¡ˆä¾‹"></a>åˆ›å»ºå¹¶è½¬ç§»å¯¹è±¡æ¡ˆä¾‹</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">module my_addr::object_playgoud{</span><br><span class="line">use std::signer;</span><br><span class="line">use aptos_framework::object::{self,ObjectCore};</span><br><span class="line"></span><br><span class="line">entry fun create_and_transfer(caller:&amp;signer,destination:address){</span><br><span class="line">//æ¥å—æ‹¥æœ‰è€…åœ°å€</span><br><span class="line">let caller_adsress = signer::address_of(caller);</span><br><span class="line">//ç»‘å®šåœ°å€å’Œå¯¹è±¡</span><br><span class="line">let constructor_ref = object::create_object(caller_address);</span><br><span class="line"></span><br><span class="line">//Set up the object</span><br><span class="line">    </span><br><span class="line">    //transfer to destination</span><br><span class="line">    //è½¬ç§»æ‰€æœ‰æƒ</span><br><span class="line">    let object = object::object_from_constructor_ref&lt;ObjectCore&gt;(</span><br><span class="line">    &amp;constructor_ref</span><br><span class="line">    );</span><br><span class="line">    object::transfer(caller,object,destination);</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="ä¸‰ç§å¯¹è±¡ç±»å‹"><a href="#ä¸‰ç§å¯¹è±¡ç±»å‹" class="headerlink" title="ä¸‰ç§å¯¹è±¡ç±»å‹"></a>ä¸‰ç§å¯¹è±¡ç±»å‹</h4><ul><li>æ™®é€šå¯¹è±¡<strong>ã€‚</strong>å¯åˆ é™¤ï¼Œä¸”å…·æœ‰éšæœºåœ°å€<code>object::create_object(owner_address: address)</code></li><li>å‘½åå¯¹è±¡ã€‚ä¸å¯åˆ é™¤ï¼Œé€šè¿‡å›ºå®šçš„signerå’Œç‰¹å®šçš„seedç”Ÿæˆå”¯ä¸€åœ°å€çš„å¯¹è±¡ï¼Œ1ä¸ªåœ°å€åªèƒ½ç”Ÿæˆ1ä¸ªï¼Œå…·æœ‰ç¡®å®šæ€§åœ°å€<code>object::create_named_object(creator: &amp;signer, seed: vector&lt;u8&gt;)</code></li><li>ç²˜æ€§å¯¹è±¡ã€‚ä¸å¯åˆ é™¤ï¼Œé€šè¿‡signerç”Ÿæˆçš„å¯¹è±¡ï¼Œ1ä¸ªåœ°å€å¯ä»¥ç”Ÿæˆå¤šä¸ªï¼Œå…·æœ‰éšæœºåœ°å€<code>object::create_sticky_object(owner_address: address)</code></li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">module 0x42::demo{</span><br><span class="line">    use std::debug::print;</span><br><span class="line">    use aptos_framework::object;</span><br><span class="line">    use aptos_framework::object::{Object, ConstructorRef, ObjectCore};</span><br><span class="line"></span><br><span class="line">    use std::signer;</span><br><span class="line"></span><br><span class="line">    const NAME:vector&lt;u8&gt; = b"myObject";</span><br><span class="line"> //can_delet</span><br><span class="line">    public fun createDeleteableObject(caller: &amp;signer):ConstructorRef{</span><br><span class="line">       let caller_addr = signer::address_of(caller);</span><br><span class="line">       let obj = object::create_object(caller_addr);</span><br><span class="line">       obj</span><br><span class="line">    }   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    //aptos-labs/examples</span><br><span class="line"></span><br><span class="line">//cannt</span><br><span class="line">   public fun createNamedObject(caller: &amp;signer):ConstructorRef{</span><br><span class="line">       let obj = object::create_named_object(caller, NAME);</span><br><span class="line">       obj</span><br><span class="line">    }   </span><br><span class="line">   public fun createStickyObject(caller: &amp;signer):ConstructorRef{</span><br><span class="line">        let caller_addr = signer::address_of(caller);</span><br><span class="line">       let obj = object::create_sticky_object(caller_addr);</span><br><span class="line">       obj</span><br><span class="line">    }   </span><br><span class="line"> #[test(caller = @0x88)]</span><br><span class="line">    fun test2(caller: &amp;signer){</span><br><span class="line">       let obj = createNamedObject(caller);</span><br><span class="line">       print(&amp;obj);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       #[test(caller = @0x88)]</span><br><span class="line">    fun test(caller: &amp;signer){</span><br><span class="line">      let obj = createDeleteableObject(caller);</span><br><span class="line">       print(&amp;obj);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">      #[test(caller = @0x88)]</span><br><span class="line">    fun test3(caller: &amp;signer){</span><br><span class="line">      let obj = createStickyObject(caller);</span><br><span class="line">      print(&amp;obj);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="Object-é…ç½®"><a href="#Object-é…ç½®" class="headerlink" title="Object  é…ç½®"></a>Object  é…ç½®</h4><p>ä¸€æ—¦æ‚¨åˆ›å»ºäº†å¯¹è±¡ï¼Œæ‚¨å°†æ”¶åˆ°ä¸€ä¸ª<code>ConstructorRef</code>å¯ç”¨äºç”Ÿæˆå…¶ä»–<code>Ref</code>s ã€‚<code>Refs</code>å¯åœ¨å°†æ¥ç”¨äºå¯ç”¨/ç¦ç”¨/æ‰§è¡ŒæŸäº›å¯¹è±¡åŠŸèƒ½ï¼Œä¾‹å¦‚ä¼ è¾“èµ„æºã€ä¼ è¾“å¯¹è±¡æœ¬èº«æˆ–åˆ é™¤å¯¹è±¡ã€‚</p><ol><li><p>å…è®¸åˆ é™¤å¯¹è±¡ ( <code>DeleteRef</code>)</p><p>å¯¹äºä½¿ç”¨é»˜è®¤æ–¹æ³•ï¼ˆå…è®¸åˆ é™¤ï¼‰åˆ›å»ºçš„å¯¹è±¡ï¼Œæ‚¨å¯ä»¥ç”Ÿæˆä¸€ä¸ª<code>DeleteRef</code>ç¨åå¯ä»¥ä½¿ç”¨çš„å¯¹è±¡ã€‚è¿™å¯ä»¥å¸®åŠ©æ¶ˆé™¤æ··ä¹±å¹¶è·å¾—å­˜å‚¨é€€æ¬¾ã€‚<code>DeleteRef</code>æ‚¨ä¸èƒ½ä¸ºä¸å¯åˆ é™¤çš„å¯¹è±¡åˆ›å»ºã€‚</p></li><li><p>ä¸€æ¬¡æ€§è½¬è´¦ ( <code>LinearTransferRef</code>)</p><p>æ­¤å¤–ï¼Œå¦‚æœåˆ›å»ºè€…æƒ³è¦æ§åˆ¶æ‰€æœ‰ä¼ è¾“ï¼Œä»¥æä¾›ä¸€æ¬¡æ€§ä½¿ç”¨çš„ä¼ è¾“åŠŸèƒ½ã€‚è¿™å¯ç”¨äºé€šè¿‡ä»å¯¹è±¡åˆ›å»ºè€…åˆ°æ¥æ”¶è€…çš„ä¸€æ¬¡æ€§ä¼ è¾“æ¥åˆ›å»ºâ€œçµé­‚ç»‘å®šâ€å¯¹è±¡ã€‚å¿…é¡»<code>LinearTransferRef</code>ç”±å¯¹è±¡çš„æ‰€æœ‰è€…ä½¿ç”¨ã€‚</p></li><li><p>ç¦ç”¨/åˆ‡æ¢ä¼ è¾“ ( <code>TransferRef</code>)</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯å¯è½¬è®©çš„ã€‚è¿™å¯ä»¥é€šè¿‡ æ¥æ›´æ”¹ï¼Œ<code>TransferRef</code>æ¥ç”Ÿæˆ<code>object::generate_transfer_ref</code>ã€‚</p></li><li><p>æ·»åŠ å¯æ‰©å±•æ€§ï¼ˆ<code>ExtendRef</code>)</p></li></ol><p>  å°†å¯¹è±¡å˜æˆå¯åŠ¨æ€é…ç½®çš„ï¼Œå¯ä»¥å¾€é‡Œé¢æ·»ç½®æ–°çš„ struct èµ„æºã€‚ç”Ÿæˆä¸€ä¸ª<code>ExtendRef</code>å’Œ<code>object::generate_extend_ref</code>ã€‚æ­¤å¼•ç”¨å¯ç”¨äºä¸ºè¯¥å¯¹è±¡ç”Ÿæˆç­¾åè€…ã€‚</p><ol start="5"><li><p>æ·»åŠ èµ„æº</p><p>ä½¿ç”¨<code>ConstructorRef</code>å’Œ<code>object::generate_signer</code>åˆ›å»ºä¸€ä¸ªç­¾åè€…ï¼Œå…è®¸æ‚¨å°†èµ„æºè½¬ç§»åˆ°å¯¹è±¡ä¸Šã€‚è¿™ä½¿ç”¨<code>move_to</code>ï¼Œä¸å°†èµ„æºæ·»åŠ åˆ°å¸æˆ·çš„åŠŸèƒ½ç›¸åŒ</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> åŒºå—é“¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> moveæ™ºèƒ½åˆçº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Aptoså­¦ä¹ èµ„æº</title>
      <link href="/2024/06/22/qu-kuai-lian/aptos-xue-xi-zi-yuan/"/>
      <url>/2024/06/22/qu-kuai-lian/aptos-xue-xi-zi-yuan/</url>
      
        <content type="html"><![CDATA[<h1 id="Aptoså­¦ä¹ èµ„æº"><a href="#Aptoså­¦ä¹ èµ„æº" class="headerlink" title="Aptoså­¦ä¹ èµ„æº"></a>Aptoså­¦ä¹ èµ„æº</h1><h2 id="æˆ‘çš„æ•´ç†"><a href="#æˆ‘çš„æ•´ç†" class="headerlink" title="æˆ‘çš„æ•´ç†"></a>æˆ‘çš„æ•´ç†</h2><ul><li>Aptoså…¥é—¨ç ”æŠ¥ [<a href="https://404ll.github.io/2024/06/20/%E5%8C%BA%E5%9D%97%E9%93%BE/Move-on-Aptos-%E9%A1%B9%E7%9B%AE%E5%88%9D%E5%85%A5%E9%97%A8/">Move on Aptos åˆå…¥é—¨-ç ”æŠ¥ | Elemençš„è±¡ç‰™å¡” (404ll.github.io)</a>]</li></ul><h2 id="å…±å­¦è¥å­¦å‘˜èµ„æ–™"><a href="#å…±å­¦è¥å­¦å‘˜èµ„æ–™" class="headerlink" title="å…±å­¦è¥å­¦å‘˜èµ„æ–™"></a>å…±å­¦è¥å­¦å‘˜èµ„æ–™</h2><blockquote><p>ä»¥ä¸‹æ”¶å½•äº†Move On Aptos å…±å­¦è¥çš„å…¨éƒ¨èµ„æ–™</p></blockquote><ul><li><a href="https://alcove-pro.notion.site/Move-on-Aptos-alcove-bc0e60f57caa4f2195e06f89bfaedf8e?pvs=4">Notionèµ„æ–™</a> è¿™ä¸ªèµ„æ–™åŒ…æ‹¬äº†æ–°æ‰‹å…¥é—¨çš„äº†è§£å’Œå„ç§æ–‡æ¡£ï¼Œä»¥åŠè¯¾ç¨‹çš„ä»£ç </li><li><a href="https://drive.google.com/drive/folders/1-EmZXvuPuVH60XmbmFxUg1jDm6-uDDG2">Google äº‘ç›˜å…±å­¦è§†é¢‘</a> è§†é¢‘åŒ…æ‹¬äº†Moveè¯­æ³•çš„å­¦ä¹ å’Œå®æˆ˜ï¼ŒèŠ‚å¥å¾ˆæ…¢ï¼Œé€‚åˆå­¦ä¹ </li><li><a href="https://aptos.dev/">Aptoså¼€å‘è€…æ–‡æ¡£</a> æ–‡æ¡£æ¯”è¾ƒè¯¦ç»†çš„è¯´æ˜äº†å¦‚ä½•å®‰è£…ç¯å¢ƒå’Œä¸€äº›è¿›é˜¶è¯­æ³•ï¼Œè‹±æ–‡ç‰ˆå¯ä»¥é…åˆè°·æ­Œæµè§ˆå™¨çš„è‡ªåŠ¨ç¿»è¯‘</li></ul><p>è¿˜æœ‰ä¸€æ®µå…±å­¦è€å¸ˆè¯´çš„è¯ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰é“ç†ï¼Œæ‰€ä»¥åˆ†äº«å‡ºæ¥:</p><p>â€œåˆšå­¦ä¸€é—¨è¯­è¨€ä¼šé‡åˆ°å¾ˆå¤šæ–°çš„è¯­æ³•å’Œæ–°çš„åº“æ¥å£ï¼Œè¿™æ˜¯ä¸€å®šçš„ã€‚</p><p>æœ€å¥½çš„æ–¹æ³•æ˜¯æŠŠä»£ç é€è¡Œè§£è¯»ï¼ŒæŠŠæ¯ä¸€è¡Œå¼„æ‡‚ï¼ˆå¯ä»¥é€šè¿‡å†™æ³¨é‡Šï¼Œæˆ–è€…æ‰“å°åœ¨çº¸ä¸Šï¼‰ï¼Œè¿™æ ·åšæŒçœ‹ 3 ä¸ªé¡¹ç›®çš„æºç ï¼Œå°±å¯ä»¥è‡ªå·±ä»¿ç…§ç€å†™é¡¹ç›®äº†ã€‚</p><p>å†™é¡¹ç›®çš„æ—¶å€™åˆä¼šé‡åˆ°ä¸€äº›æ–°çš„éœ€æ±‚ï¼Œå°±éœ€è¦å»çœ‹æ–‡æ¡£/æºç ï¼Œç­‰é¡¹ç›®åšå‡ºæ¥äº†ï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯¹ä¸€ä¸ªè¯­è¨€çš„åŸºæœ¬ä¸–ç•Œè§‚å°±å½¢æˆäº†ã€‚</p><p>å­¦æ–°è¯­è¨€ï¼Œå¿Œæ±‚å¿«ã€‚</p><p>æ—¶åˆ»ç‰¢è®°ï¼Œæ…¢å°±æ˜¯å¿«ã€‚â€</p>]]></content>
      
      
      
        <tags>
            
            <tag> èµ„æºæ”¶å½• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰«ç›²å°çŸ¥è¯†ä¹‹ è´¨æŠ¼ä¸å†è´¨æŠ¼</title>
      <link href="/2024/05/21/qu-kuai-lian/2024-05-21-sao-mang-xiao-zhi-shi-zhi-zhi-ya-yu-zai-zhi-ya/"/>
      <url>/2024/05/21/qu-kuai-lian/2024-05-21-sao-mang-xiao-zhi-shi-zhi-zhi-ya-yu-zai-zhi-ya/</url>
      
        <content type="html"><![CDATA[<h1 id="è´¨æŠ¼-staking-ä¸-å†è´¨æŠ¼-restaking"><a href="#è´¨æŠ¼-staking-ä¸-å†è´¨æŠ¼-restaking" class="headerlink" title="è´¨æŠ¼(staking) ä¸ å†è´¨æŠ¼(restaking)"></a>è´¨æŠ¼(staking) ä¸ å†è´¨æŠ¼(restaking)</h1><h2 id="è´¨æŠ¼"><a href="#è´¨æŠ¼" class="headerlink" title="è´¨æŠ¼"></a>è´¨æŠ¼</h2><blockquote><p>è´¨æŠ¼ï¼ˆstakingï¼‰æ˜¯ä¸€ç§é€šè¿‡é”å®šä¸€å®šæ•°é‡çš„åŠ å¯†è´§å¸æ¥æ”¯æŒåŒºå—é“¾ç½‘ç»œæ“ä½œï¼ˆä¾‹å¦‚éªŒè¯äº¤æ˜“å’Œç»´æŠ¤ç½‘ç»œå®‰å…¨ï¼‰çš„æœºåˆ¶ã€‚ä½œä¸ºå›æŠ¥ï¼Œè´¨æŠ¼è€…å¯ä»¥è·å¾—å¥–åŠ±ï¼ˆé€šå¸¸æ˜¯é¢å¤–çš„åŠ å¯†è´§å¸ï¼‰ï¼ŒåŒæ—¶è´¨æŠ¼è€…é€šå¸¸æ‹¥æœ‰ä¸€å®šçš„æŠ•ç¥¨æƒæˆ–å‚ä¸ç½‘ç»œæ²»ç†çš„æƒåˆ©</p></blockquote><h3 id="è¯¦ç»†è§£é‡Šï¼š"><a href="#è¯¦ç»†è§£é‡Šï¼š" class="headerlink" title="è¯¦ç»†è§£é‡Šï¼š"></a><strong>è¯¦ç»†è§£é‡Š</strong>ï¼š</h3><ul><li><strong>Proof of Stakeï¼ˆPoSï¼‰</strong>ï¼šè´¨æŠ¼æœ€å¸¸è§äºåŸºäºæƒç›Šè¯æ˜ï¼ˆProof of Stake, PoSï¼‰å…±è¯†æœºåˆ¶çš„åŒºå—é“¾ä¸­ã€‚åœ¨è¿™ç§æœºåˆ¶ä¸‹ï¼ŒåŒºå—é“¾é€šè¿‡è´¨æŠ¼è€…çš„æŠ•ç¥¨é€‰ä¸¾å‡ºåŒºå—éªŒè¯è€…ï¼ˆvalidatorsï¼‰ï¼Œè€Œä¸æ˜¯é€šè¿‡è§£å†³å¤æ‚çš„æ•°å­¦éš¾é¢˜ï¼ˆå¦‚åœ¨å·¥ä½œé‡è¯æ˜ï¼ˆProof of Work, PoWï¼‰æœºåˆ¶ä¸­ï¼‰ã€‚</li><li><strong>å¥–åŠ±</strong>ï¼šè´¨æŠ¼è€…é€šå¸¸ä¼šæ ¹æ®ä»–ä»¬æ‰€è´¨æŠ¼çš„åŠ å¯†è´§å¸æ•°é‡å’Œè´¨æŠ¼æ—¶é—´é•¿åº¦æ¥è·å¾—å¥–åŠ±ã€‚è¿™äº›å¥–åŠ±å¯ä»¥æ˜¯æ–°ç”Ÿæˆçš„åŠ å¯†è´§å¸æˆ–äº¤æ˜“è´¹ç”¨çš„ä¸€éƒ¨åˆ†ã€‚</li><li><strong>é£é™©</strong>ï¼šè´¨æŠ¼ä¹Ÿæœ‰é£é™©ï¼Œä¾‹å¦‚è´¨æŠ¼çš„åŠ å¯†è´§å¸å¯èƒ½ä¼šè¢«å†»ç»“ä¸€å®šæ—¶é—´ï¼Œæ— æ³•éšæ—¶å–å‡ºã€‚æ­¤å¤–ï¼Œå¦‚æœç½‘ç»œé­å—æ”»å‡»æˆ–è´¨æŠ¼è€…ä¸éµå®ˆè§„åˆ™ï¼Œå¯èƒ½ä¼šæŸå¤±ä¸€éƒ¨åˆ†æˆ–å…¨éƒ¨è´¨æŠ¼çš„åŠ å¯†è´§å¸ã€‚</li></ul><h3 id="ä¸¾ä¾‹ï¼š"><a href="#ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸¾ä¾‹ï¼š"></a><strong>ä¸¾ä¾‹</strong>ï¼š</h3><ul><li><strong>ä»¥å¤ªåŠ2.0</strong>ï¼šä»¥å¤ªåŠ2.0é‡‡ç”¨PoSæœºåˆ¶ï¼Œç”¨æˆ·å¯ä»¥è´¨æŠ¼32ä¸ªä»¥å¤ªå¸ï¼ˆETHï¼‰æˆä¸ºéªŒè¯è€…ï¼Œå¹¶è·å¾—å¥–åŠ±ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆETHä¼šå­˜åœ¨è´¨æŠ¼çš„æ¨¡å¼"><a href="#ä¸ºä»€ä¹ˆETHä¼šå­˜åœ¨è´¨æŠ¼çš„æ¨¡å¼" class="headerlink" title="ä¸ºä»€ä¹ˆETHä¼šå­˜åœ¨è´¨æŠ¼çš„æ¨¡å¼?"></a>ä¸ºä»€ä¹ˆETHä¼šå­˜åœ¨è´¨æŠ¼çš„æ¨¡å¼?</h3><p>è´¨æŠ¼æ˜¯æƒç›Šè¯æ˜ï¼ˆProof of Stake, PoSï¼‰åŠå…¶å˜ç§å…±è¯†æœºåˆ¶çš„æ ¸å¿ƒæ¦‚å¿µ.ä¸‹é¢æ˜¯æˆ‘åœ¨ç½‘ç»œä¸Šçœ‹åˆ°çš„æœ‰å…³æ–‡ç« çš„éƒ¨åˆ†èŠ‚é€‰,å®Œæ•´ç‰ˆè¯·å‚ç…§</p><blockquote><p>[<strong>ç™½è¯åŒºå—é“¾</strong>]    <a href="https://www.hellobtc.com/kp/du/09/4703.html">https://www.hellobtc.com/kp/du/09/4703.html</a> è´¨æŠ¼ç°çŠ¶ï¼šä»¥å¤ªåŠåˆå¹¶ä¸€å¹´åçš„ 5 å¤§çœ‹ç‚¹</p><p>ps: æˆ‘è§‰å¾—è¿™ä¸ªé¢‘é“ç”¨æ¥æ‰«ç›²æŒºå¥½çš„,ä¸è¿‡ä¸è¦ä»…ä»…å±€é™äºä¸€ç¯‡æ–‡ç« </p></blockquote><img src="file://C:/Users/32423/AppData/Roaming/Typora/typora-user-images/image-20240605184045270.png?lastModify=1717592035?lastModify=1717592086" alt="image-20240605184045270" style="zoom:25%;"><h2 id="å†è´¨æŠ¼"><a href="#å†è´¨æŠ¼" class="headerlink" title="å†è´¨æŠ¼"></a>å†è´¨æŠ¼</h2><blockquote><p>ã€Œå†è´¨æŠ¼ã€æ˜¯ä¸€ä¸ªå°†æµåŠ¨æ€§è´¨æŠ¼ä»£å¸èµ„äº§ç”¨äºåœ¨å…¶ä»–åŒºå—é“¾çš„éªŒè¯è€…è¿›è¡Œè´¨æŠ¼ï¼Œä»¥è·å¾—æ›´å¤šæ”¶ç›Šï¼ŒåŒæ—¶æœ‰åŠ©äºæé«˜æ–°ç½‘ç»œçš„å®‰å…¨æ€§å’Œå»ä¸­å¿ƒåŒ–çš„è¡Œä¸ºã€‚ä¹Ÿå¯ç†è§£ä¸ºå†è´¨æŠ¼æ˜¯åŠ å¯†ç»æµå®‰å…¨ä¸­çš„ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œå®ƒä½¿ä»¥å¤ªåŠæ—¢å®šçš„ç»æµä¿¡ä»»èƒ½å¤Ÿæ‰©å±•åˆ°ä¿æŠ¤å…¶ä»–åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¾‹å¦‚é¢„è¨€æœºã€æ¡¥æ¥å™¨æˆ–ä¾§é“¾ã€‚      å…¶ä½¿ç”¨ä»è´¨æŠ¼è·å¾—çš„å¥–åŠ±ç»§ç»­å‘è¯¥èŠ‚ç‚¹å­˜æ¬¾ï¼Œä»¥å¢åŠ æœªæ¥çš„åˆ©æ¶¦ã€‚é€šè¿‡å†è´¨æŠ¼ï¼ŒæŠ•èµ„è€…å¯ä»¥ä»åŸå§‹åè®®å’Œå†è´¨æŠ¼åè®®ä¸¤æ–¹é¢è·å¾—å¤šé‡æ”¶ç›Šã€‚</p></blockquote><h3 id="å†è´¨æŠ¼çš„å®ç°æ–¹å¼"><a href="#å†è´¨æŠ¼çš„å®ç°æ–¹å¼" class="headerlink" title="å†è´¨æŠ¼çš„å®ç°æ–¹å¼"></a>å†è´¨æŠ¼çš„å®ç°æ–¹å¼</h3><p><strong>å†è´¨æŠ¼ä¸»è¦æ˜¯åŸºäºä»¥å¤ªåŠçš„å®‰å…¨æ¡†æ¶æ¥æå‡æ•´ä¸ªåŠ å¯†è´§å¸ç”Ÿæ€ç³»ç»Ÿä¸­çš„èµ„é‡‘ä½¿ç”¨æ•ˆç‡ï¼›è´¨æŠ¼è€…åœ¨èƒ½å¤Ÿæ”¯æŒä¸€ä¸ªç½‘ç»œå®‰å…¨æ€§çš„åŒæ—¶è¿˜èƒ½å¤Ÿä¸ºå¤šä¸ªç½‘ç»œæä¾›éªŒè¯æœåŠ¡ï¼Œä»è€Œè·å¾—é¢å¤–çš„å¥–åŠ±ã€‚</strong></p><ol><li><strong>è¡ç”Ÿä»£å¸ï¼ˆDerivative Tokensï¼‰</strong>ï¼š<ul><li>å½“ç”¨æˆ·åœ¨æŸä¸ªå¹³å°ä¸Šè´¨æŠ¼å…¶èµ„äº§åï¼Œå¹³å°å¯ä»¥ä¸ºç”¨æˆ·ç”Ÿæˆä¸€ç§ä»£è¡¨è¿™äº›è´¨æŠ¼èµ„äº§çš„è¡ç”Ÿä»£å¸ã€‚</li><li>ä¾‹å¦‚ï¼Œç”¨æˆ·åœ¨å¹³å°Aä¸Šè´¨æŠ¼ETHï¼Œå¹³å°Aä¼šç»™ç”¨æˆ·å‘æ”¾ä¸€ç§ä»£å¸ï¼Œå¦‚stETHï¼Œä»£è¡¨ç”¨æˆ·åœ¨å¹³å°Aä¸Šè´¨æŠ¼çš„ETHã€‚</li><li>ç”¨æˆ·å¯ä»¥æ‹¿è¿™äº›è¡ç”Ÿä»£å¸ï¼ˆå¦‚stETHï¼‰å»å¦ä¸€ä¸ªå¹³å°Bä¸Šè¿›è¡Œå†è´¨æŠ¼æˆ–å‚ä¸å…¶ä»–DeFiæ´»åŠ¨ã€‚</li></ul></li><li><strong>åˆçº¦å±‚çš„å†è´¨æŠ¼</strong>ï¼š<ul><li>ä¸€äº›åŒºå—é“¾åè®®æˆ–æ™ºèƒ½åˆçº¦å¹³å°å…è®¸ç›´æ¥å°†å·²ç»è´¨æŠ¼çš„èµ„äº§å†è´¨æŠ¼ã€‚</li><li>ä¾‹å¦‚ï¼Œé€šè¿‡è·¨é“¾æ¡¥æˆ–è·¨åè®®çš„æ™ºèƒ½åˆçº¦ï¼Œç”¨æˆ·å¯ä»¥å°†è´¨æŠ¼çš„èµ„äº§ä»ä¸€ä¸ªç½‘ç»œè½¬ç§»å¹¶è´¨æŠ¼åˆ°å¦ä¸€ä¸ªç½‘ç»œã€‚</li></ul></li><li><strong>æµåŠ¨æ€§è´¨æŠ¼ï¼ˆLiquid Stakingï¼‰</strong>ï¼š<ul><li>è¿™ç§æ–¹å¼å…è®¸ç”¨æˆ·åœ¨è´¨æŠ¼å…¶èµ„äº§çš„åŒæ—¶ï¼Œè·å–ä¸€ç§å…·æœ‰æµåŠ¨æ€§çš„ä»£å¸ï¼Œè¿™ç§ä»£å¸å¯ä»¥åœ¨å…¶ä»–å¹³å°ä¸Šè¿›è¡Œäº¤æ˜“æˆ–å†è´¨æŠ¼ã€‚</li><li>æµåŠ¨æ€§è´¨æŠ¼ä»£å¸é€šå¸¸å¯ä»¥åœ¨å¸‚åœºä¸Šè‡ªç”±äº¤æ˜“ï¼Œä½¿ç”¨æˆ·å³ä½¿åœ¨è´¨æŠ¼æœŸé—´ï¼Œä¹Ÿèƒ½æœ‰ä¸€å®šçš„æµåŠ¨æ€§æ¥å‚ä¸å…¶ä»–æŠ•èµ„æ´»åŠ¨ã€‚</li></ul></li></ol><h3 id="å†è´¨æŠ¼çš„é£é™©"><a href="#å†è´¨æŠ¼çš„é£é™©" class="headerlink" title="å†è´¨æŠ¼çš„é£é™©"></a>å†è´¨æŠ¼çš„é£é™©</h3><ol><li><p><strong>æ™ºèƒ½åˆçº¦é£é™©</strong>ï¼š</p><ul><li>å†è´¨æŠ¼æ¶‰åŠå¤šä¸ªæ™ºèƒ½åˆçº¦ï¼Œæ¯ä¸ªæ™ºèƒ½åˆçº¦éƒ½æœ‰å¯èƒ½å­˜åœ¨æ¼æ´æˆ–è¢«æ”»å‡»çš„é£é™©ã€‚</li></ul></li><li><p><strong>æµåŠ¨æ€§é£é™©</strong>ï¼š</p><ul><li>è¡ç”Ÿä»£å¸æˆ–æµåŠ¨æ€§è´¨æŠ¼ä»£å¸çš„å¸‚åœºæµåŠ¨æ€§å¯èƒ½ä¸è¶³ï¼Œå¯¼è‡´åœ¨éœ€è¦å˜ç°æ—¶ä»·æ ¼æ³¢åŠ¨è¾ƒå¤§ã€‚</li></ul></li><li><p><strong>å¤æ‚æ€§é£é™©</strong>ï¼š</p><ul><li>å†è´¨æŠ¼å¢åŠ äº†æ“ä½œçš„å¤æ‚æ€§ï¼Œç”¨æˆ·éœ€è¦äº†è§£å’Œç®¡ç†å¤šä¸ªå¹³å°å’Œä»£å¸ï¼Œå¯èƒ½ä¼šé‡åˆ°æ“ä½œå¤±è¯¯æˆ–å¹³å°ä¸å…¼å®¹çš„é—®é¢˜ã€‚</li></ul></li></ol><h3 id="è¿ç”¨åœºæ™¯"><a href="#è¿ç”¨åœºæ™¯" class="headerlink" title="è¿ç”¨åœºæ™¯"></a>è¿ç”¨åœºæ™¯</h3><h4 id="1-æé«˜æ”¶ç›Šç‡"><a href="#1-æé«˜æ”¶ç›Šç‡" class="headerlink" title="1. æé«˜æ”¶ç›Šç‡"></a>1. <strong>æé«˜æ”¶ç›Šç‡</strong></h4><h5 id="æµåŠ¨æ€§è´¨æŠ¼ï¼ˆLiquid-Stakingï¼‰"><a href="#æµåŠ¨æ€§è´¨æŠ¼ï¼ˆLiquid-Stakingï¼‰" class="headerlink" title="æµåŠ¨æ€§è´¨æŠ¼ï¼ˆLiquid Stakingï¼‰"></a>æµåŠ¨æ€§è´¨æŠ¼ï¼ˆLiquid Stakingï¼‰</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼ETHåœ¨Lidoä¸Šï¼Œè·å¾—stETHã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å¯ä»¥å°†stETHå†è´¨æŠ¼åœ¨å…¶ä»–DeFiåè®®ä¸­ï¼Œå¦‚Aaveæˆ–Compoundï¼Œè·å–å€Ÿè´·åˆ©æ¯æˆ–å‚ä¸æµåŠ¨æ€§æŒ–çŸ¿ï¼Œè¿›ä¸€æ­¥æé«˜æ”¶ç›Šç‡ã€‚</li></ul><h5 id="è·¨å¹³å°æ”¶ç›Šæœ€å¤§åŒ–"><a href="#è·¨å¹³å°æ”¶ç›Šæœ€å¤§åŒ–" class="headerlink" title="è·¨å¹³å°æ”¶ç›Šæœ€å¤§åŒ–"></a>è·¨å¹³å°æ”¶ç›Šæœ€å¤§åŒ–</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼èµ„äº§åœ¨æŸä¸ªå¹³å°ä¸Šè·å¾—æ”¶ç›Šï¼Œä½†å‘ç°å¦ä¸€ä¸ªå¹³å°æä¾›æ›´é«˜çš„æ”¶ç›Šç‡ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å°†è´¨æŠ¼èµ„äº§è½¬åŒ–ä¸ºè¡ç”Ÿä»£å¸åï¼Œè½¬ç§»åˆ°æ”¶ç›Šæ›´é«˜çš„å¹³å°è¿›è¡Œå†è´¨æŠ¼ã€‚</li></ul><h4 id="2-æµåŠ¨æ€§å¢å¼º"><a href="#2-æµåŠ¨æ€§å¢å¼º" class="headerlink" title="2. æµåŠ¨æ€§å¢å¼º"></a>2. <strong>æµåŠ¨æ€§å¢å¼º</strong></h4><h5 id="è·¨é“¾æµåŠ¨æ€§æä¾›"><a href="#è·¨é“¾æµåŠ¨æ€§æä¾›" class="headerlink" title="è·¨é“¾æµåŠ¨æ€§æä¾›"></a>è·¨é“¾æµåŠ¨æ€§æä¾›</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·åœ¨ä»¥å¤ªåŠä¸Šè´¨æŠ¼ETHï¼Œè·å¾—è¡ç”Ÿä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å°†è¡ç”Ÿä»£å¸é€šè¿‡è·¨é“¾æ¡¥è½¬ç§»åˆ°å…¶ä»–åŒºå—é“¾ï¼ˆå¦‚Polkadotæˆ–Binance Smart Chainï¼‰ï¼Œå¹¶åœ¨è¿™äº›é“¾ä¸Šå‚ä¸æµåŠ¨æ€§æ± æˆ–å€Ÿè´·å¹³å°ï¼Œæä¾›æµåŠ¨æ€§ã€‚</li></ul><h5 id="å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰æµåŠ¨æ€§æŒ–çŸ¿"><a href="#å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰æµåŠ¨æ€§æŒ–çŸ¿" class="headerlink" title="å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰æµåŠ¨æ€§æŒ–çŸ¿"></a>å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ï¼ˆDEXï¼‰æµåŠ¨æ€§æŒ–çŸ¿</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼èµ„äº§è·å¾—æµåŠ¨æ€§è´¨æŠ¼ä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å°†è¿™äº›æµåŠ¨æ€§è´¨æŠ¼ä»£å¸æä¾›ç»™å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€çš„æµåŠ¨æ€§æ± ï¼Œè·å¾—æµåŠ¨æ€§æŒ–çŸ¿å¥–åŠ±ï¼ŒåŒæ—¶ä¿æŒèµ„äº§æµåŠ¨æ€§ã€‚</li></ul><h4 id="3-å¤šé‡æ”¶ç›Š"><a href="#3-å¤šé‡æ”¶ç›Š" class="headerlink" title="3. å¤šé‡æ”¶ç›Š"></a>3. <strong>å¤šé‡æ”¶ç›Š</strong></h4><h5 id="åˆæˆèµ„äº§ç”Ÿæˆ"><a href="#åˆæˆèµ„äº§ç”Ÿæˆ" class="headerlink" title="åˆæˆèµ„äº§ç”Ÿæˆ"></a>åˆæˆèµ„äº§ç”Ÿæˆ</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·åœ¨æŸå¹³å°è´¨æŠ¼èµ„äº§ï¼Œè·å¾—è¡ç”Ÿä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·ä½¿ç”¨è¿™äº›è¡ç”Ÿä»£å¸åœ¨åˆæˆèµ„äº§å¹³å°ï¼ˆå¦‚Synthetixï¼‰ä¸Šç”Ÿæˆåˆæˆèµ„äº§ï¼ˆå¦‚sUSDæˆ–sBTCï¼‰ï¼Œå†å°†åˆæˆèµ„äº§ç”¨äºäº¤æ˜“æˆ–å€Ÿè´·ï¼Œè·å¾—å¤šé‡æ”¶ç›Šã€‚</li></ul><h5 id="DeFiç”Ÿæ€ç³»ç»Ÿå‚ä¸"><a href="#DeFiç”Ÿæ€ç³»ç»Ÿå‚ä¸" class="headerlink" title="DeFiç”Ÿæ€ç³»ç»Ÿå‚ä¸"></a>DeFiç”Ÿæ€ç³»ç»Ÿå‚ä¸</h5><ul><li><p><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼ETHåœ¨Lidoä¸Šï¼Œè·å¾—stETHã€‚</p></li><li><p><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·ä½¿ç”¨stETHåœ¨Curveã€Yearnç­‰å¹³å°å‚ä¸æµåŠ¨æ€§æŒ–çŸ¿ã€æ”¶ç›Šèšåˆç­‰æ´»åŠ¨ï¼Œè·å¾—å¹³å°å¥–åŠ±å’Œäº¤æ˜“è´¹ã€‚</p></li></ul><h4 id="4-é£é™©å¯¹å†²"><a href="#4-é£é™©å¯¹å†²" class="headerlink" title="4. é£é™©å¯¹å†²"></a>4. <strong>é£é™©å¯¹å†²</strong></h4><h5 id="è¡ç”Ÿå“äº¤æ˜“"><a href="#è¡ç”Ÿå“äº¤æ˜“" class="headerlink" title="è¡ç”Ÿå“äº¤æ˜“"></a>è¡ç”Ÿå“äº¤æ˜“</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼èµ„äº§è·å¾—æµåŠ¨æ€§è´¨æŠ¼ä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·ä½¿ç”¨è¿™äº›ä»£å¸åœ¨è¡ç”Ÿå“å¹³å°ï¼ˆå¦‚dYdXæˆ–Perpetual Protocolï¼‰è¿›è¡Œæ æ†äº¤æ˜“æˆ–æœŸæƒäº¤æ˜“ï¼Œå¯¹å†²ä»·æ ¼æ³¢åŠ¨é£é™©ã€‚</li></ul><h5 id="ç¨³å®šå¸ç”Ÿæˆ"><a href="#ç¨³å®šå¸ç”Ÿæˆ" class="headerlink" title="ç¨³å®šå¸ç”Ÿæˆ"></a>ç¨³å®šå¸ç”Ÿæˆ</h5><ul><li><p><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼ETHè·å¾—stETHã€‚</p></li><li><p><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·åœ¨MakerDAOç­‰ç¨³å®šå¸ç”Ÿæˆå¹³å°ä¸Šå°†stETHä½œä¸ºæŠµæŠ¼å“ï¼Œç”ŸæˆDAIç­‰ç¨³å®šå¸ï¼Œç”¨äºå…¶ä»–DeFiæ“ä½œæˆ–é£é™©å¯¹å†²ã€‚</p></li></ul><h4 id="5-å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰æ²»ç†"><a href="#5-å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰æ²»ç†" class="headerlink" title="5. å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰æ²»ç†"></a>5. <strong>å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ï¼ˆDAOï¼‰æ²»ç†</strong></h4><h5 id="æé«˜æŠ•ç¥¨æƒé‡"><a href="#æé«˜æŠ•ç¥¨æƒé‡" class="headerlink" title="æé«˜æŠ•ç¥¨æƒé‡"></a>æé«˜æŠ•ç¥¨æƒé‡</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼èµ„äº§è·å¾—æ²»ç†ä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å°†æ²»ç†ä»£å¸å†è´¨æŠ¼åœ¨æ²»ç†å¹³å°ä¸Šï¼Œæé«˜åœ¨å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡ä¸­çš„æŠ•ç¥¨æƒé‡ï¼Œå½±å“å¹³å°å†³ç­–ã€‚</li></ul><h5 id="ææ¡ˆåˆ›å»ºå’Œæ”¯æŒ"><a href="#ææ¡ˆåˆ›å»ºå’Œæ”¯æŒ" class="headerlink" title="ææ¡ˆåˆ›å»ºå’Œæ”¯æŒ"></a>ææ¡ˆåˆ›å»ºå’Œæ”¯æŒ</h5><ul><li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·è´¨æŠ¼èµ„äº§å‚ä¸æŸDAOè·å¾—æ²»ç†ä»£å¸ã€‚</li><li><strong>è¿ç”¨</strong>ï¼šç”¨æˆ·å°†æ²»ç†ä»£å¸å†è´¨æŠ¼ä»¥åˆ›å»ºæˆ–æ”¯æŒæ–°çš„ææ¡ˆï¼Œæé«˜ææ¡ˆé€šè¿‡çš„å‡ ç‡ï¼Œç§¯æå‚ä¸æ²»ç†ã€‚</li></ul><h3 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h3><p>é€šä¿—æ¥è¯´æµåŠ¨æ€§è´¨æŠ¼ä»£å¸ï¼ˆ<strong>LST</strong>ï¼‰ä»£è¡¨è´¨æŠ¼ ETH å’Œç´¯ç§¯å¥–åŠ±çš„ä»£å¸åŒ–ç‰ˆæœ¬ï¼ŒæµåŠ¨æ€§å†è´¨æŠ¼ä»£å¸ï¼ˆ<strong>LRT</strong>ï¼‰ä»£è¡¨å†è´¨æŠ¼ ETH å’Œç´¯ç§¯å¥–åŠ±çš„ä»£å¸åŒ–ç‰ˆæœ¬ã€‚ç›¸å…³é¡¹ç›® æˆ‘ä¹‹å‰æ•´ç†è¿‡ä¸€ç¯‡  <a href="https://404ll.github.io/2024/05/10/AVS%E4%BB%A5%E5%8F%8AEigenLayer%E8%A7%A3%E6%9E%90/">Eigenlayer</a>çš„æ–‡ç« ï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹</p><p>å…·ä½“æ·±å…¥äº†è§£,å¯ä»¥å‚è€ƒè¿™ç¯‡(æ–‡ç« ä¸­è¿˜æ¶‰åŠäº† è´¨æŠ¼ä¸å†è´¨æŠ¼çš„åŸç†åŒºåˆ«)</p><p> ğŸ“Œ<a href="https://foresightnews.pro/article/detail/55642">ä¸€æ–‡è¯»æ‡‚ã€Œå†è´¨æŠ¼ Restaking ã€èµ›é“</a></p><h2 id="æ¯”è¾ƒå¥½çš„ä¿¡æ¯ç½‘ç«™"><a href="#æ¯”è¾ƒå¥½çš„ä¿¡æ¯ç½‘ç«™" class="headerlink" title="æ¯”è¾ƒå¥½çš„ä¿¡æ¯ç½‘ç«™"></a>æ¯”è¾ƒå¥½çš„ä¿¡æ¯ç½‘ç«™</h2><p>ğŸ“Œ<a href="https://foresightnews.pro/">foresight news</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰«ç›²å°çŸ¥è¯†ä¹‹ Roll-up</title>
      <link href="/2024/05/21/qu-kuai-lian/roll-up/"/>
      <url>/2024/05/21/qu-kuai-lian/roll-up/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯-Roll-up"><a href="#ä»€ä¹ˆæ˜¯-Roll-up" class="headerlink" title="ä»€ä¹ˆæ˜¯ Roll-up ?"></a>ä»€ä¹ˆæ˜¯ Roll-up ?</h1><blockquote><p>Roll-upæ˜¯ä¸€ç§Layer 2æ‰©å±•è§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨æé«˜ä»¥å¤ªåŠç½‘ç»œçš„ååé‡å’Œæ•ˆç‡ã€‚<strong>å®ƒé€šè¿‡å°†å¤§é‡çš„äº¤æ˜“æ•°æ®å‹ç¼©æˆå°‘é‡çš„æ‘˜è¦ä¿¡æ¯ï¼Œç„¶åå°†è¿™äº›æ‘˜è¦ä¿¡æ¯æäº¤åˆ°ä»¥å¤ªåŠä¸»é“¾ä¸Šï¼Œä»¥å®ç°é«˜æ€§èƒ½çš„é“¾ä¸Šäº¤æ˜“å¤„ç†ã€‚</strong></p><p><strong>äººè¯å°±æ˜¯</strong> :  æŠŠä»¥å¤ªåŠä¸Šå‡ ç™¾ç¬”äº¤æ˜“æ‰“åŒ…å¸¦èµ°ï¼Œå¹¶åœ¨éªŒè¯é€šè¿‡ååªå‘ä»¥å¤ªåŠä¸»ç½‘è¾“å‡ºä¸€ç¬”äº¤æ˜“ã€‚</p></blockquote><p> å…·ä½“å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://foresightnews.pro/article/h5Detail/59078">https://foresightnews.pro/article/h5Detail/59078</a></p><p>Roll-upé€šå¸¸åˆ†ä¸ºè¿™å‡ ç§ç±»å‹ï¼š</p><ol><li><p><strong>Optimistic Roll-upï¼ˆä¹è§‚ Roll-upï¼‰</strong>:  é»˜è®¤æ‰“åŒ…çš„è¿™äº›äº¤æ˜“æ¯ä¸€ç¬”éƒ½æ˜¯å‡†ç¡®æ— è¯¯çš„ï¼Œå› æ­¤ä¼šç›´æ¥è¿›å…¥éªŒè¯ã€‚ä½†ä¸ºäº†é˜²æ­¢é”™è¯¯äº¤æ˜“æ··å…¥å…¶ä¸­ï¼Œä¹è§‚è¯æ˜å¼•å…¥äº†æŒ‘æˆ˜è€…æœºåˆ¶ï¼Œå°±æ˜¯è¯´åœ¨éªŒè¯çš„ä¸€å®šæœŸé™å†…ï¼Œå…¶ä»–äººå¯ä»¥æ€€ç–‘å…¶ä¸­çš„äº¤æ˜“å¹¶åœ¨ä»¥å¤ªåŠä¸Šæ¯”å¯¹è¿™ç¬”äº¤æ˜“æ˜¯å¦åˆæ³•ã€‚å¦‚æœæŒ‘æˆ˜æˆåŠŸï¼ŒæŒ‘æˆ˜è€…å°±å¯ä»¥è·å¾—æ”¶ç›Šï¼ŒéªŒè¯è€…å°±ä¼šè¢«ç½šæ²¡è´¨æŠ¼åœ¨åè®®ä¸Šçš„èµ„é‡‘ã€‚</p></li><li><p><strong>ZK-Rollupï¼ˆé›¶çŸ¥è¯† Roll-upï¼‰</strong></p><p>â€‹     åœ¨ZK-Rollupä¸­ï¼Œäº¤æ˜“çš„éªŒè¯è¿‡ç¨‹ä½¿ç”¨äº†é›¶çŸ¥è¯†è¯æ˜æŠ€æœ¯ï¼Œå¯ä»¥åœ¨ä¸æš´éœ²å…·ä½“äº¤æ˜“å†…å®¹çš„æƒ…å†µä¸‹è¯æ˜äº¤æ˜“çš„æœ‰æ•ˆæ€§ã€‚è¿™æ ·å¯ä»¥è¿›ä¸€æ­¥å‡å°‘åœ¨ä¸»é“¾ä¸Šçš„æ•°æ®é‡ï¼Œå¹¶æé«˜éšç§æ€§å’Œæ•ˆç‡.</p></li></ol><p>Roll-upæŠ€æœ¯çš„å¼•å…¥ä¸ºä»¥å¤ªåŠç½‘ç»œæä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ‰©å±•æ–¹æ¡ˆï¼Œå¯ä»¥å¤§å¹…æå‡ç½‘ç»œçš„ååé‡å’Œæ€§èƒ½ï¼ŒåŒæ—¶é™ä½äº¤æ˜“æˆæœ¬ï¼Œå¹¶ä¸ºæ›´å¤šçš„å»ä¸­å¿ƒåŒ–åº”ç”¨æä¾›äº†æ”¯æŒã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰«ç›²å°çŸ¥è¯†ä¹‹ L1 L2</title>
      <link href="/2024/05/21/qu-kuai-lian/shi-me-shi-layer1-layer2/"/>
      <url>/2024/05/21/qu-kuai-lian/shi-me-shi-layer1-layer2/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯-Layer1-Layer2"><a href="#ä»€ä¹ˆæ˜¯-Layer1-Layer2" class="headerlink" title="ä»€ä¹ˆæ˜¯ Layer1  Layer2?"></a>ä»€ä¹ˆæ˜¯ Layer1  Layer2?</h1><p>Layer1æ˜¯åŒºå—é“¾çš„åŸºç¡€å±‚ï¼Œè´Ÿè´£ç¡®è®¤å’Œè®°å½•äº¤æ˜“ï¼›Layer2æ˜¯ç”¨äºæ‰©å®¹çš„è§£å†³æ–¹æ¡ˆï¼Œè´Ÿè´£å¤„ç†å’Œè®°å½•é«˜ååé‡çš„äº¤æ˜“ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-Layer1"><a href="#ä»€ä¹ˆæ˜¯-Layer1" class="headerlink" title="ä»€ä¹ˆæ˜¯ Layer1?"></a>ä»€ä¹ˆæ˜¯ Layer1?</h2><p>ç¬¬ä¸€å±‚å°±æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„åŒºå—é“¾ï¼ŒåŒ…æ‹¬ï¼šæ¯”ç‰¹å¸ï¼Œä»¥å¤ªåŠï¼ŒAptosç­‰</p><p>Layer1æ˜¯åŒºå—é“¾æŠ€æœ¯ä¸­çš„ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯åŒºå—é“¾åè®®ä¸­çš„åŸºç¡€å±‚ã€‚å®ƒæ˜¯æŒ‡æ„æˆåŒºå—é“¾ç½‘ç»œåŸºç¡€æ¶æ„çš„æ ¸å¿ƒåè®®å’Œæ•°æ®ç»“æ„ï¼Œé€šå¸¸æ˜¯ä¸€ç§å®Œæ•´çš„ã€ç‹¬ç«‹çš„åŒºå—é“¾ç½‘ç»œï¼Œå…·æœ‰è‡ªå·±çš„å…±è¯†æœºåˆ¶å’Œæ•°æ®å­˜å‚¨æ–¹å¼ã€‚Layer1åè®®è´Ÿè´£å¤„ç†äº¤æ˜“éªŒè¯ã€åŒºå—ç”Ÿæˆå’Œé“¾ä¸Šæ•°æ®å­˜å‚¨ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p><p>åœ¨Layer1å±‚é¢ï¼Œé€šå¸¸ä¼šæ¶‰åŠåˆ°åº•å±‚çš„åŒºå—é“¾æŠ€æœ¯å’Œç®—æ³•è®¾è®¡ï¼Œå¦‚å·¥ä½œé‡è¯æ˜ï¼ˆProof of Workï¼‰æˆ–æƒç›Šè¯æ˜ï¼ˆProof of Stakeï¼‰ç­‰å…±è¯†æœºåˆ¶ï¼Œä»¥åŠåŒºå—é“¾çš„æ•°æ®ç»“æ„ã€åŠ å¯†ç®—æ³•ç­‰ã€‚Layer1åè®®çš„è®¾è®¡å†³å®šäº†æ•´ä¸ªåŒºå—é“¾ç½‘ç»œçš„æ€§èƒ½ã€å®‰å…¨æ€§å’Œå»ä¸­å¿ƒåŒ–ç¨‹åº¦ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-Layer2"><a href="#ä»€ä¹ˆæ˜¯-Layer2" class="headerlink" title="ä»€ä¹ˆæ˜¯ Layer2?"></a>ä»€ä¹ˆæ˜¯ Layer2?</h2><blockquote><p>æœ¬æ–‡åªæä¾›ç²—æµ…çš„å®šä¹‰ï¼Œè‹¥æƒ³è¿›ä¸€æ­¥äº†è§£ï¼Œå¯ä»¥çœ‹çœ‹<a href="https://blog.chain.link/what-is-a-layer-2-zh/">ä¸€æ–‡è¯»æ‡‚ç¬¬ 2 å±‚</a> ğŸŒŸ</p></blockquote><p>Layer 2çš„ç›®çš„æ˜¯é€šè¿‡åœ¨åŒºå—é“¾ä¹‹ä¸Šå¼•å…¥é¢å¤–çš„åè®®æˆ–æœºåˆ¶ï¼Œæä¾›æ›´é«˜çš„ååé‡ã€ä½å»¶è¿Ÿå’Œæ›´ä¾¿å®œçš„äº¤æ˜“ï¼Œå¹¶è§£å†³Layer 1ç½‘ç»œå¯èƒ½å­˜åœ¨çš„æ‰©å±•æ€§å’Œæ€§èƒ½é—®é¢˜ã€‚</p><p>Layer 2è§£å†³æ–¹æ¡ˆé€šå¸¸å¯ä»¥åˆ†ä¸ºä¸¤ç§ä¸»è¦ç±»å‹ï¼š</p><ol><li><strong>çŠ¶æ€é€šé“ï¼ˆState Channelsï¼‰</strong>ï¼šçŠ¶æ€é€šé“æ˜¯ä¸€ç§é€šè¿‡åœ¨é“¾å¤–æ‰§è¡Œäº¤æ˜“å¹¶æœ€ç»ˆå°†äº¤æ˜“ç»“æœæäº¤åˆ°åŒºå—é“¾ä¸Šçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨çŠ¶æ€é€šé“ä¸­ï¼Œå‚ä¸è€…å¯ä»¥ç›´æ¥åœ¨å½¼æ­¤ä¹‹é—´è¿›è¡Œå¤šæ¬¡äº¤æ˜“ï¼Œè€Œä¸å¿…åœ¨æ¯æ¬¡äº¤æ˜“éƒ½æäº¤åˆ°åŒºå—é“¾ä¸Šè¿›è¡Œç¡®è®¤ï¼Œä»è€Œå¤§å¤§æé«˜äº†äº¤æ˜“çš„é€Ÿåº¦å’Œååé‡ã€‚</li><li><strong>ä¾§é“¾ï¼ˆSidechainsï¼‰</strong>ï¼šä¾§é“¾æ˜¯ä¸ä¸»åŒºå—é“¾ç›¸äº’è¿æ¥çš„ç‹¬ç«‹åŒºå—é“¾ï¼Œå¯ä»¥å¤„ç†ä¸ä¸»é“¾ä¸åŒçš„äº¤æ˜“é€»è¾‘å’Œæ•°æ®ã€‚é€šè¿‡ä¾§é“¾ï¼Œç”¨æˆ·å¯ä»¥å°†èµ„äº§ä»ä¸»é“¾è½¬ç§»åˆ°ä¾§é“¾ä¸Šè¿›è¡Œé«˜é€Ÿå’Œä½æˆæœ¬çš„äº¤æ˜“ï¼Œç„¶åå†å°†ç»“æœæ±‡æ€»æäº¤åˆ°ä¸»é“¾ä¸Šï¼Œä»è€Œå‡è½»äº†ä¸»é“¾çš„è´Ÿæ‹…ï¼Œæé«˜äº†æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ã€‚</li></ol><p>æœ‰å…³æ‰©å®¹æ–¹æ¡ˆçš„æ–‡ç«  </p><p>[]: <a href="https://mp.weixin.qq.com/s?__biz=MzUyNzE4MDM2MA==&amp;mid=2247500009&amp;idx=2&amp;sn=aa68710cd3eb1758dff8776bbc1be70e&amp;chksm=fa01f7cecd767ed86a724a284233cca3cc0aec84d0a99ef126392305dd20f5c99976d37e6d27#rd">https://mp.weixin.qq.com/s?__biz=MzUyNzE4MDM2MA==&amp;mid=2247500009&amp;idx=2&amp;sn=aa68710cd3eb1758dff8776bbc1be70e&amp;chksm=fa01f7cecd767ed86a724a284233cca3cc0aec84d0a99ef126392305dd20f5c99976d37e6d27#rd</a>â€œä¸€æ–‡çœ‹æ‡‚åŒºå—é“¾çš„æ‰©å®¹æ–¹æ¡ˆå’Œä¸»è¦çš„äºŒå±‚ç½‘ç»œï¼ˆLayer 2ï¼‰æ–¹æ¡ˆâ€</p>]]></content>
      
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLè¡¨å•</title>
      <link href="/2024/04/25/qian-duan/html-biao-dan/"/>
      <url>/2024/04/25/qian-duan/html-biao-dan/</url>
      
        <content type="html"><![CDATA[<h1 id="HTML-è¡¨å•"><a href="#HTML-è¡¨å•" class="headerlink" title="HTML è¡¨å•"></a>HTML è¡¨å•</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>è¡¨å•ï¼ˆFormï¼‰æ˜¯ HTML ä¸­ç”¨äºæ”¶é›†ç”¨æˆ·è¾“å…¥ä¿¡æ¯å¹¶å°†å…¶æäº¤åˆ°æœåŠ¡å™¨çš„ä¸€ç§æœºåˆ¶ã€‚å®ƒé€šå¸¸ç”±åŒ…å«è¡¨å•å…ƒç´ çš„ä¸€ç»„ HTML å…ƒç´ ç»„æˆï¼Œç”¨æˆ·å¯ä»¥åœ¨è¡¨å•ä¸­è¾“å…¥æ•°æ®å¹¶é€šè¿‡æäº¤æŒ‰é’®å°†æ•°æ®å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œå¤„ç†=&gt;</p><p>æˆ‘çš„ç†è§£: å°±æ˜¯Cè¯­è¨€ä¸­çš„scanf()å’Œgetchar(),ç”¨æ¥è¯»å–ç”¨æˆ·çš„è¾“å…¥ </p><h2 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h2><p><code>&lt;form&gt;</code> å…ƒç´ ç”¨äºåˆ›å»ºè¡¨å•ï¼Œ<code>action</code> å±æ€§å®šä¹‰äº†è¡¨å•æ•°æ®æäº¤çš„ç›®æ ‡ URLï¼Œ<code>method</code> å±æ€§å®šä¹‰äº†æäº¤æ•°æ®çš„ HTTP æ–¹æ³•ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯ â€œpostâ€ï¼‰</p><h3 id="method"><a href="#method" class="headerlink" title="method"></a>method</h3><p><code>method</code> å±æ€§ç”¨äºå®šä¹‰ HTML è¡¨å•æäº¤æ•°æ®æ—¶æ‰€ä½¿ç”¨çš„ HTTP æ–¹æ³•ã€‚åœ¨ Web å¼€å‘ä¸­ï¼Œå¸¸è§çš„ HTTP æ–¹æ³•æœ‰ä¸¤ç§ï¼šGET å’Œ POSTã€‚</p><ol><li><strong>GET æ–¹æ³•</strong>ï¼š</li></ol><ul><li>å½“ä½¿ç”¨ GET æ–¹æ³•æäº¤è¡¨å•æ—¶ï¼Œè¡¨å•æ•°æ®ä¼šé™„åŠ åœ¨ URL çš„æœ«å°¾ï¼Œå¹¶ä½œä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†å‘é€åˆ°æœåŠ¡å™¨ã€‚</li><li>GET æ–¹æ³•é€šå¸¸ç”¨äºè¯·æ±‚èµ„æºï¼Œæ¯”å¦‚è¯·æ±‚é¡µé¢ã€æäº¤æœç´¢æŸ¥è¯¢ç­‰ã€‚</li><li>ä½¿ç”¨ GET æ–¹æ³•æäº¤çš„è¡¨å•æ•°æ®ä¼šåœ¨ URL ä¸­å¯è§ï¼Œå› æ­¤ä¸é€‚åˆä¼ è¾“æ•æ„Ÿä¿¡æ¯ï¼Œä¸”æœ‰é•¿åº¦é™åˆ¶ã€‚</li></ul><ol start="2"><li><strong>POST æ–¹æ³•</strong>ï¼š</li></ol><ul><li>å½“ä½¿ç”¨ POST æ–¹æ³•æäº¤è¡¨å•æ—¶ï¼Œè¡¨å•æ•°æ®ä¼šä½œä¸º HTTP è¯·æ±‚çš„æ­£æ–‡å‘é€åˆ°æœåŠ¡å™¨ã€‚</li><li>POST æ–¹æ³•é€šå¸¸ç”¨äºå‘æœåŠ¡å™¨æäº¤è¾ƒå¤§é‡æˆ–æ•æ„Ÿä¿¡æ¯çš„æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†Œä¿¡æ¯ã€ç™»å½•å‡­è¯ç­‰ã€‚</li><li>ä½¿ç”¨ POST æ–¹æ³•æäº¤çš„è¡¨å•æ•°æ®ä¸ä¼šåœ¨ URL ä¸­å¯è§ï¼Œå› æ­¤æ›´å®‰å…¨ï¼Œå¹¶ä¸”æ²¡æœ‰é•¿åº¦é™åˆ¶ã€‚</li></ul><p>åœ¨ HTML è¡¨å•ä¸­ï¼Œé€šè¿‡è®¾ç½® <code>method</code> å±æ€§ä¸º â€œpostâ€ï¼Œè¡¨ç¤ºè¡¨å•æ•°æ®å°†ä½¿ç”¨ POST æ–¹æ³•æäº¤ç»™æœåŠ¡å™¨ã€‚è¿™æ„å‘³ç€ç”¨æˆ·å¡«å†™çš„æ•°æ®ä¼šä½œä¸º HTTP è¯·æ±‚çš„æ­£æ–‡å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œä¸ä¼šå‡ºç°åœ¨ URL ä¸­ï¼Œä»è€Œä¿æŠ¤äº†ç”¨æˆ·æ•°æ®çš„éšç§å’Œå®‰å…¨æ€§ã€‚</p><h3 id="action"><a href="#action" class="headerlink" title="action"></a>action</h3><p>è¡¨å•çš„åŠ¨ä½œå±æ€§ <strong>action</strong> å®šä¹‰äº†æœåŠ¡ç«¯çš„æ–‡ä»¶åã€‚</p><p><strong>action</strong> å±æ€§ä¼šå¯¹æ¥æ”¶åˆ°çš„ç”¨æˆ·è¾“å…¥æ•°æ®è¿›è¡Œç›¸å…³çš„å¤„ç†</p><p>ä¾‹å¦‚ action=â€html_form_action.phpâ€ï¼Œè¾“å…¥æ•°æ®ä¼šä¼ é€åˆ° <strong>html_form_action.php</strong> æ–‡ä»¶ï¼Œè¯¥é¡µé¢å°†æ˜¾ç¤ºå‡ºè¾“å…¥çš„ç»“æœã€‚</p><h3 id="æ–‡æœ¬åŸŸ"><a href="#æ–‡æœ¬åŸŸ" class="headerlink" title="æ–‡æœ¬åŸŸ"></a>æ–‡æœ¬åŸŸ</h3><p>æ–‡æœ¬åŸŸé€šè¿‡<code> &lt;input type="text"&gt;</code>æ ‡ç­¾æ¥è®¾å®šï¼Œå½“ç”¨æˆ·è¦åœ¨è¡¨å•ä¸­é”®å…¥å­—æ¯ã€æ•°å­—ç­‰å†…å®¹æ—¶ï¼Œå°±ä¼šç”¨åˆ°æ–‡æœ¬åŸŸ</p><h2 id="ä»£ç ç½—åˆ—"><a href="#ä»£ç ç½—åˆ—" class="headerlink" title="ä»£ç ç½—åˆ—"></a>ä»£ç ç½—åˆ—</h2><p><code>required</code>è¡¨ç¤ºå¿…å¡«</p><p><code>label</code> ä¸ºäº†å¢å¼ºå¯è¯»æ€§</p><p><code>checked</code> è¡¨ç¤ºé»˜è®¤é€‰ä¸­=&gt;è¿›å…¥å°±èƒ½çœ‹åˆ°çš„</p><p><code>value</code> å±æ€§æŒ‡å®šäº†ç”¨æˆ·è¾“å…¥çš„é»˜è®¤å€¼æˆ–è€…åœ¨æäº¤è¡¨å•æ—¶å‘é€åˆ°æœåŠ¡å™¨çš„å€¼ã€‚</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è¡¨å•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ–‡æœ¬è¾“å…¥æ¡† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"name"</span>&gt;</span>ç”¨æˆ·å:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"name"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">&lt;!-- å¯†ç è¾“å…¥æ¡† --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"password"</span>&gt;</span>å¯†ç :<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">&lt;!-- å•é€‰æŒ‰é’® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>æ€§åˆ«:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"male"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"male"</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"male"</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"female"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"female"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"female"</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">&lt;!-- å¤é€‰æ¡†  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"subscribe"</span> <span class="attr">name</span>=<span class="string">"subscribe"</span> <span class="attr">checked</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"subscribe"</span>&gt;</span>è®¢é˜…æ¨é€ä¿¡æ¯<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">&lt;!-- ä¸‹æ‹‰åˆ—è¡¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"country"</span>&gt;</span>å›½å®¶:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"country"</span> <span class="attr">name</span>=<span class="string">"country"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"cn"</span>&gt;</span>CN<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"usa"</span>&gt;</span>USA<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"uk"</span>&gt;</span>UK<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">&lt;!-- æäº¤æŒ‰é’® --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"æäº¤"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>åˆ å»lableç‰ˆæœ¬</p><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çœç•¥äº†&lt;label&gt;å…ƒç´  --&gt;</span></span><br><span class="line">    ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çœç•¥äº†&lt;label&gt;å…ƒç´  --&gt;</span></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">placeholder</span>=<span class="string">"è¯·è¾“å…¥å¯†ç "</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- çœç•¥äº†&lt;label&gt;å…ƒç´  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"ç™»å½•"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascriptå­¦ä¹ éšç¬”</title>
      <link href="/2024/04/25/qian-duan/javascript-xue-xi-sui-bi/"/>
      <url>/2024/04/25/qian-duan/javascript-xue-xi-sui-bi/</url>
      
        <content type="html"><![CDATA[<h1 id="Javascript-å­¦ä¹ éšç¬”"><a href="#Javascript-å­¦ä¹ éšç¬”" class="headerlink" title="Javascript å­¦ä¹ éšç¬”"></a>Javascript å­¦ä¹ éšç¬”</h1><blockquote><p>å­¦ä¹ ç½‘ç«™æ˜¯ï¼š<a href="https://www.runoob.com/">https://www.runoob.com/</a><br>å› ä¸ºåœ¨è¿™ä¹‹å‰æˆ‘åªç³»ç»Ÿå­¦ä¹ äº†C,å› æ­¤åœ¨å­¦ä¹ Javascriptçš„è¿‡ç¨‹ä¸­ä¸»è¦é‡‡ç”¨äº†æ¯”è¾ƒçš„æ–¹æ³•.</p></blockquote><h2 id="ä»£ç å°é—®é¢˜"><a href="#ä»£ç å°é—®é¢˜" class="headerlink" title="ä»£ç å°é—®é¢˜"></a>ä»£ç å°é—®é¢˜</h2><h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨â€œ-â€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨â€œ-â€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨â€œ+â€ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä½¿ç”¨â€œ+â€ï¼Ÿ</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"demo"</span>).<span class="property">innerHTML</span> =</span><br><span class="line">            <span class="keyword">typeof</span> <span class="literal">false</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="number">0</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="string">""</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="string">"hello"</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="literal">null</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="literal">undefined</span> + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> {} + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> [] + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>) {} + <span class="string">"&lt;br&gt;"</span> +</span><br><span class="line">            <span class="keyword">typeof</span> <span class="title class_">Math</span>.<span class="property">PI</span>;</span><br></pre></td></tr></tbody></table></figure><p>åœ¨ JavaScript ä¸­ï¼Œ<code>+</code> è¿ç®—ç¬¦ç”¨äºè¿æ¥å­—ç¬¦ä¸²ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>"&lt;br&gt;"</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å°†å„ç§æ•°æ®ç±»å‹çš„ç±»å‹è¾“å‡ºè¿æ¥æˆä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼Œç„¶åå°†è¿™ä¸ªå­—ç¬¦ä¸²è®¾ç½®ä¸º <code>&lt;p&gt;</code> å…ƒç´ çš„ <code>innerHTML</code>ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ç§æ•°æ®ç±»å‹çš„ç±»å‹éƒ½è¾“å‡ºåˆ°æ®µè½ä¸­ï¼Œè€Œä¸ä¼šè¦†ç›–ä¹‹å‰çš„è¾“å‡ºã€‚</p><p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦ï¼Œè€Œæ˜¯ä½¿ç”¨å¤šä¸ª <code>document.getElementById("demo").innerHTML</code> è¿›è¡Œèµ‹å€¼ï¼Œåªæœ‰æœ€åä¸€ä¸ªèµ‹å€¼ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºæ¯æ¬¡èµ‹å€¼éƒ½ä¼šè¦†ç›–ä¹‹å‰çš„å†…å®¹ã€‚é€šè¿‡ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å°†æ¯ç§ç±»å‹çš„ç±»å‹è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åä¸€æ¬¡æ€§å°†æ•´ä¸ªå­—ç¬¦ä¸²èµ‹å€¼ç»™ <code>&lt;p&gt;</code> å…ƒç´ çš„ <code>innerHTML</code>ï¼Œè¿™æ ·å°±å¯ä»¥å°†æ‰€æœ‰ç±»å‹éƒ½è¾“å‡ºåˆ°æ®µè½ä¸­</p><h2 id="æ•°ç»„ï¼š"><a href="#æ•°ç»„ï¼š" class="headerlink" title="æ•°ç»„ï¼š"></a>æ•°ç»„ï¼š</h2><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> emptyArray = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæŒ‡å®šé•¿åº¦çš„ç©ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arrayWithLength = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºåŒ…å«å…ƒç´ çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> fruits = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">'apple'</span>, <span class="string">'banana'</span>, <span class="string">'orange'</span>);</span><br><span class="line"><span class="comment">//ç›´æ¥</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br></pre></td></tr></tbody></table></figure><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><p>JavaScript ä¸­çš„å¯¹è±¡æ˜¯ä¸€ç§å¤åˆæ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨å¤šä¸ª<strong>é”®å€¼å¯¹</strong> <em>åœ¨è¿™é‡Œè¢«ç§°ä¸º<strong>å¯¹è±¡å±æ€§</strong></em>ã€‚å¯¹è±¡å¯ä»¥åŒ…å«å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬å…¶ä»–å¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰</p><blockquote><p>å…³äºé”®å€¼å¯¹ï¼šæˆ‘ç®€å•ç†è§£ä¸ºåå­—å’Œå€¼ä¸€ä¸€å¯¹åº”çš„ä¸€ç§æ•°æ®ç»“æ„</p></blockquote><h3 id="å¯¹è±¡æ–¹æ³•"><a href="#å¯¹è±¡æ–¹æ³•" class="headerlink" title="å¯¹è±¡æ–¹æ³•"></a>å¯¹è±¡æ–¹æ³•</h3><p>å°±æ˜¯å±æ€§å€¼ä¸ºå‡½æ•°</p><p><strong>ç‰¹æ®Šå±æ€§å’Œæ–¹æ³•</strong>ï¼š</p><ul><li><p><strong>åŸå‹ï¼ˆPrototypeï¼‰</strong>ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥ç”¨äºå®ç°ç»§æ‰¿ã€‚</p></li><li><p><strong>æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰</strong>ï¼šç”¨äºåˆ›å»ºå¯¹è±¡çš„å‡½æ•°ã€‚</p></li><li><p><strong>å†…ç½®å±æ€§å’Œæ–¹æ³•</strong>ï¼šä¾‹å¦‚ <code>toString()</code>ã€<code>valueOf()</code> ç­‰ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§æ˜¯ JavaScript å†…ç½®å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨</p></li></ul><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p>å› ä¸ºCä¸­æ²¡æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œæ‰€ä»¥è¿™é‡Œç€é‡å†™ä¸€ä¸‹</p><blockquote><p>åœ¨ JavaScript ä¸­ï¼Œäº‹ä»¶æ˜¯æŒ‡åœ¨ HTML æ–‡æ¡£ä¸­å‘ç”Ÿçš„æŸäº›äº‹æƒ…æˆ–åŠ¨ä½œï¼Œæ¯”å¦‚ç”¨æˆ·çš„äº¤äº’æ“ä½œï¼ˆä¾‹å¦‚ç‚¹å‡»ã€é¼ æ ‡ç§»åŠ¨ã€é”®ç›˜è¾“å…¥ç­‰ï¼‰æˆ–è€…æµè§ˆå™¨è‡ªèº«çš„æ“ä½œï¼ˆä¾‹å¦‚é¡µé¢åŠ è½½å®Œæˆã€çª—å£å¤§å°æ”¹å˜ç­‰ï¼‰ã€‚</p><p>HTMLæ–‡æ¡£:æˆ‘å•çº¯ç†è§£ä¸ºè¿™ä¸ªé¡µé¢ä¸­åŒ…å«çš„æ‰€æœ‰ä¸œè¥¿</p></blockquote><p><strong>äº‹ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šå†…ç½®äº‹ä»¶å’Œç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ã€‚</strong></p><ol><li><h3 id="å†…ç½®äº‹ä»¶ï¼š"><a href="#å†…ç½®äº‹ä»¶ï¼š" class="headerlink" title="å†…ç½®äº‹ä»¶ï¼š"></a><strong>å†…ç½®äº‹ä»¶</strong>ï¼š</h3><ul><li><p>å†…ç½®äº‹ä»¶æ˜¯æµè§ˆå™¨æˆ–è€…ç‰¹å®š HTML å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶ï¼Œæ¯”å¦‚ï¼š</p><ul><li><p>é¡µé¢åŠ è½½å®Œæˆäº‹ä»¶ (<code>load</code>)</p></li><li><p>é¼ æ ‡ç‚¹å‡»äº‹ä»¶ (<code>click</code>)</p></li><li><p>é¼ æ ‡ç§»åŠ¨äº‹ä»¶ (<code>mousemove</code>)</p></li><li><p>é”®ç›˜æŒ‰é”®äº‹ä»¶ (<code>keydown</code>, <code>keyup</code>, <code>keypress</code>)</p></li><li><p>è¡¨å•æäº¤äº‹ä»¶ (<code>submit</code>)</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang="en"&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset="UTF-8"&gt;</span><br><span class="line">    &lt;title&gt;Event Examples&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Click Event Example --&gt;</span><br><span class="line">&lt;button onclick="alert('æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼')"&gt;ç‚¹å‡»æˆ‘&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Mousemove Event Example --&gt;</span><br><span class="line">&lt;div style="width: 100px; height: 100px; background-color: red;" onmousemove="alert('é¼ æ ‡ç§»åŠ¨åˆ°äº†ç›’å­ä¸Šï¼')"&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Key Event Example --&gt;</span><br><span class="line">&lt;input type="text" </span><br><span class="line">       placeholder="æŒ‰ä¸‹æŒ‰é”®æˆ–è€…æ¾å¼€æŒ‰é”®" </span><br><span class="line">       onkeydown="alert('æŒ‰é”®æŒ‰ä¸‹äº†ï¼')" </span><br><span class="line">       onkeyup="alert('æŒ‰é”®æ¾å¼€äº†ï¼')" </span><br><span class="line">       onkeypress="alert('æŒ‰é”®è¢«æŒ‰ä¸‹å¹¶æ¾å¼€äº†ï¼')"&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Load Event Example --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    function pageLoaded() {</span><br><span class="line">        alert('é¡µé¢åŠ è½½å®Œæˆï¼');</span><br><span class="line">    }</span><br><span class="line">    window.onload = pageLoaded;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul></li><li><h3 id="ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ï¼š"><a href="#ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ï¼š" class="headerlink" title="ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ï¼š"></a><strong>ç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶</strong>ï¼š</h3><ul><li>é™¤äº†å†…ç½®äº‹ä»¶ä¹‹å¤–ï¼Œå¼€å‘è€…è¿˜å¯ä»¥è‡ªå®šä¹‰äº‹ä»¶ï¼Œä»¥ä¾¿åœ¨ç‰¹å®šæƒ…å†µä¸‹è§¦å‘ JavaScript ä»£ç æ‰§è¡Œã€‚è¿™ç§è‡ªå®šä¹‰äº‹ä»¶é€šå¸¸æ˜¯é€šè¿‡ <code>Event</code> å¯¹è±¡çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ <code>dispatchEvent()</code> æ–¹æ³•æ‰‹åŠ¨è§¦å‘ã€‚</li></ul></li></ol><h2 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h2><p><code>===</code>:ç»å¯¹ç›¸ç­‰=&gt;å€¼ç±»å‹éƒ½ç›¸ç­‰</p><p><code>!==</code>:ä¸ç»å¯¹ç›¸ç­‰</p><h2 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h2><p>å¤§ä½“ç›¸åŒ,è¿˜æœ‰ä¸€ç§æ¯”è¾ƒç‰¹åˆ«çš„forå¾ªç¯</p><p><code>itCompanies</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ<code>for...of</code> å¾ªç¯ç”¨æ¥éå†æ•°ç»„ä¸­çš„å…ƒç´ ã€‚<code>company</code> æ˜¯å¾ªç¯ä¸­çš„ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ¯æ¬¡è¿­ä»£æ—¶ï¼Œå®ƒä¼šè¢«èµ‹å€¼ä¸ºæ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚æ‰€ä»¥ä½ çš„è§£é‡Šå‡ ä¹æ­£ç¡®ï¼Œä½†æ˜¯åº”è¯¥æ˜¯å°† <code>company</code> èµ‹å€¼ä¸º <code>itCompanies</code> æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ•°ç»„æœ¬èº«ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> itCompanies = [<span class="string">"Facebook"</span>, <span class="string">"Google"</span>, <span class="string">"Microsoft"</span>, <span class="string">"Apple"</span>, <span class="string">"IBM"</span>, <span class="string">"Oracle"</span>, <span class="string">"Amazon"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> company <span class="keyword">of</span> itCompanies) {<span class="comment">//è®©companyèµ‹å€¼ä¸ºitCompaniesä¸­çš„ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">  <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> char <span class="keyword">of</span> company) {</span><br><span class="line">    <span class="keyword">if</span> (char.<span class="title function_">toLowerCase</span>() === <span class="string">"o"</span>) {</span><br><span class="line">      count++;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">if</span> (count &gt; <span class="number">1</span>) {</span><br><span class="line">    companiesWithMoreThanOneO.<span class="title function_">push</span>(company);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Companies with more than one 'o':"</span>, companiesWithMoreThanOneO);</span><br></pre></td></tr></tbody></table></figure><h2 id="constructor-å±æ€§"><a href="#constructor-å±æ€§" class="headerlink" title="constructor å±æ€§"></a>constructor å±æ€§</h2><p><strong>constructor</strong> å±æ€§è¿”å›æ‰€æœ‰ JavaScript å˜é‡çš„æ„é€ å‡½æ•°ã€‚</p><h2 id="Data-æ–¹æ³•"><a href="#Data-æ–¹æ³•" class="headerlink" title="Data()æ–¹æ³•"></a>Data()æ–¹æ³•</h2><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">getDate()</td><td align="left">ä» Date å¯¹è±¡è¿”å›ä¸€ä¸ªæœˆä¸­çš„æŸä¸€å¤© (1 ~ 31)ã€‚</td></tr><tr><td align="left">getDay()</td><td align="left">ä» Date å¯¹è±¡è¿”å›ä¸€å‘¨ä¸­çš„æŸä¸€å¤© (0 ~ 6)ã€‚</td></tr><tr><td align="left">getFullYear()</td><td align="left">ä» Date å¯¹è±¡ä»¥å››ä½æ•°å­—è¿”å›å¹´ä»½ã€‚</td></tr><tr><td align="left">getHours()</td><td align="left">è¿”å› Date å¯¹è±¡çš„å°æ—¶ (0 ~ 23)ã€‚</td></tr><tr><td align="left">getMilliseconds()</td><td align="left">è¿”å› Date å¯¹è±¡çš„æ¯«ç§’(0 ~ 999)ã€‚</td></tr><tr><td align="left">getMinutes()</td><td align="left">è¿”å› Date å¯¹è±¡çš„åˆ†é’Ÿ (0 ~ 59)ã€‚</td></tr><tr><td align="left">getMonth()</td><td align="left">ä» Date å¯¹è±¡è¿”å›æœˆä»½ (0 ~ 11)ã€‚</td></tr><tr><td align="left">getSeconds()</td><td align="left">è¿”å› Date å¯¹è±¡çš„ç§’æ•° (0 ~ 59)ã€‚</td></tr><tr><td align="left">getTime()</td><td align="left">è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚</td></tr></tbody></table><h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><p>/æ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“/ä¿®é¥°ç¬¦(å¯é€‰)</p><h3 id="ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•"><a href="#ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•" class="headerlink" title="ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•"></a>ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•</h3><p>åœ¨ JavaScript ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é€šå¸¸ç”¨äºä¸¤ä¸ªå­—ç¬¦ä¸²æ–¹æ³• : search() å’Œ replace()ã€‚</p><p><strong>search()</strong> æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œæˆ–æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚</p><p><strong>replace()</strong> æ–¹æ³•ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦ä¸²æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ä¸²ï¼Œæˆ–æ›¿æ¢ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ã€‚</p><p><strong>exec()</strong> æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾åŒ¹é…çš„ç»“æœã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›å€¼ä¸º nullã€‚</p><h3 id="æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"><a href="#æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦"></a>æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦</h3><p><strong>ä¿®é¥°ç¬¦</strong> å¯ä»¥åœ¨å…¨å±€æœç´¢ä¸­ä¸åŒºåˆ†å¤§å°å†™:</p><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">i</td><td align="left">æ‰§è¡Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…ã€‚</td></tr><tr><td align="left">g</td><td align="left">æ‰§è¡Œå…¨å±€åŒ¹é…ï¼ˆæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…è€Œéåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ååœæ­¢ï¼‰ã€‚</td></tr><tr><td align="left">m</td><td align="left">æ‰§è¡Œå¤šè¡ŒåŒ¹é…ã€‚</td></tr></tbody></table><h2 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h2><h4 id="try-catch-throw"><a href="#try-catch-throw" class="headerlink" title="try  catch  throw"></a><strong>try  catch  throw</strong></h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">var</span> message, x;</span><br><span class="line">  message = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"p01"</span>);</span><br><span class="line">  message.<span class="property">innerHTML</span> = <span class="string">""</span>;</span><br><span class="line">  x = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"demo"</span>).<span class="property">value</span>;</span><br><span class="line">  <span class="keyword">try</span> { </span><br><span class="line">    <span class="keyword">if</span>(x == <span class="string">""</span>) <span class="keyword">throw</span> <span class="string">"å€¼æ˜¯ç©ºçš„"</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">isNaN</span>(x)) <span class="keyword">throw</span> <span class="string">"å€¼ä¸æ˜¯ä¸€ä¸ªæ•°å­—"</span>;</span><br><span class="line">    x = <span class="title class_">Number</span>(x);</span><br><span class="line">    <span class="keyword">if</span>(x &gt; <span class="number">10</span>) <span class="keyword">throw</span> <span class="string">"å¤ªå¤§"</span>;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; <span class="number">5</span>) <span class="keyword">throw</span> <span class="string">"å¤ªå°"</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">catch</span>(err) {</span><br><span class="line">    message.<span class="property">innerHTML</span> = <span class="string">"é”™è¯¯: "</span> + err + <span class="string">"."</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">finally</span> {</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"demo"</span>).<span class="property">value</span> = <span class="string">""</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><h3 id="debugger-å…³é”®å­—"><a href="#debugger-å…³é”®å­—" class="headerlink" title="debugger å…³é”®å­—"></a>debugger å…³é”®å­—</h3><p><strong>debugger</strong> å…³é”®å­—ç”¨äºåœæ­¢æ‰§è¡Œ JavaScriptï¼Œå¹¶è°ƒç”¨è°ƒè¯•å‡½æ•°ã€‚</p><p>è¿™ä¸ªå…³é”®å­—ä¸åœ¨è°ƒè¯•å·¥å…·ä¸­è®¾ç½®æ–­ç‚¹çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p><p>å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜</p><h2 id="æµ®ç‚¹å‹"><a href="#æµ®ç‚¹å‹" class="headerlink" title="æµ®ç‚¹å‹"></a>æµ®ç‚¹å‹</h2><p>JavaScript ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä»¥ 64 ä½<strong>æµ®ç‚¹å‹æ•°æ®(float)</strong> æ¥å­˜å‚¨</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">0.1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">let</span> z = x + y            <span class="comment">// z çš„ç»“æœä¸º 0.30000000000000004</span></span><br><span class="line"><span class="keyword">if</span> (z == <span class="number">0.3</span>)  </span><br></pre></td></tr></tbody></table></figure><p>=&gt;ç”¨ä¹˜é™¤æ³•è§£å†³é—®é¢˜</p><h2 id="è¡¨å•éªŒè¯"><a href="#è¡¨å•éªŒè¯" class="headerlink" title="è¡¨å•éªŒè¯"></a>è¡¨å•éªŒè¯</h2><p>ç”±äºä¸HTMLçš„è¡¨å•æœ‰å…³è”,å› æ­¤åœ¨è¿™é‡Œå…ˆç®€å•å›é¡¾ä¸€ä¸‹HTMLè¡¨å•</p><p>å…·ä½“å¯ä»¥å‚è€ƒå¦ä¸€ç¯‡ç¬”è®°<a href="https://404ll.github.io/2024/04/25/%E5%89%8D%E7%AB%AF/HTML%E8%A1%A8%E5%8D%95/">HTMLè¡¨å•</a></p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>è¡¨å•éªŒè¯å¯ä»¥åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ol><li><strong>å¿…å¡«å­—æ®µéªŒè¯</strong>ï¼šç¡®ä¿ç”¨æˆ·å¡«å†™äº†è¡¨å•ä¸­æ ‡è®°ä¸ºå¿…å¡«çš„å­—æ®µï¼Œé˜²æ­¢ç”¨æˆ·æäº¤ç©ºå€¼æˆ–é»˜è®¤å€¼ã€‚</li><li><strong>æ ¼å¼éªŒè¯</strong>ï¼šæ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œä¾‹å¦‚é‚®ç®±åœ°å€ã€ç”µè¯å·ç ã€æ—¥æœŸç­‰ã€‚</li><li><strong>é•¿åº¦éªŒè¯</strong>ï¼šæ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„æ•°æ®é•¿åº¦æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œå¦‚æœ€å°é•¿åº¦ã€æœ€å¤§é•¿åº¦ç­‰ã€‚</li><li><strong>æ•°æ®ç±»å‹éªŒè¯</strong>ï¼šç¡®ä¿ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç±»å‹æ­£ç¡®ï¼Œå¦‚æ•°å­—ã€å­—æ¯ã€æ—¥æœŸç­‰ã€‚</li><li><strong>èŒƒå›´éªŒè¯</strong>ï¼šæ£€æŸ¥æ•°å€¼å‹æ•°æ®æ˜¯å¦åœ¨æŒ‡å®šçš„èŒƒå›´å†…ï¼Œå¦‚å¹´é¾„ã€ä»·æ ¼ç­‰ã€‚</li><li><strong>æ­£åˆ™è¡¨è¾¾å¼éªŒè¯</strong>ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œæ›´çµæ´»çš„éªŒè¯ï¼Œå¯ä»¥å®ç°å¤æ‚çš„æ ¼å¼åŒ¹é…ã€‚</li></ol><h3 id="è¯­æ³•-1"><a href="#è¯­æ³•-1" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x=<span class="variable language_">document</span>.<span class="property">forms</span>[<span class="string">"myForm"</span>][<span class="string">"fname"</span>].<span class="property">value</span>;</span><br></pre></td></tr></tbody></table></figure><p>ç”¨äºè·å– HTML è¡¨å•ä¸­åä¸º â€œmyFormâ€ çš„è¡¨å•ä¸­åä¸º â€œfnameâ€ çš„è¾“å…¥å­—æ®µçš„å€¼ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å˜é‡ x ä¸­ã€‚</p><h2 id="éªŒè¯API"><a href="#éªŒè¯API" class="headerlink" title="éªŒè¯API"></a>éªŒè¯API</h2><h3 id="éªŒè¯éªŒè¯å’Œè¡¨å•éªŒè¯çš„åŒºåˆ«"><a href="#éªŒè¯éªŒè¯å’Œè¡¨å•éªŒè¯çš„åŒºåˆ«" class="headerlink" title="éªŒè¯éªŒè¯å’Œè¡¨å•éªŒè¯çš„åŒºåˆ«"></a>éªŒè¯éªŒè¯å’Œè¡¨å•éªŒè¯çš„åŒºåˆ«</h3><ol><li><strong>JavaScript éªŒè¯ API</strong>ï¼š<ul><li>JavaScript éªŒè¯ API æ˜¯ JavaScript æä¾›çš„ä¸€ç»„ API å’Œæ–¹æ³•ï¼Œç”¨äºç¼–å†™è‡ªå®šä¹‰çš„éªŒè¯é€»è¾‘ã€‚</li><li>å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ JavaScript éªŒè¯ API ç¼–å†™è‡ªå·±çš„éªŒè¯å‡½æ•°ï¼Œä»¥æ ¹æ®ç‰¹å®šçš„éœ€æ±‚å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯ã€‚</li><li>è¿™ç§æ–¹å¼æ›´åŠ çµæ´»ï¼Œå¯ä»¥å®ç°å„ç§å¤æ‚çš„éªŒè¯é€»è¾‘ï¼Œä½†éœ€è¦ç¼–å†™æ›´å¤šçš„ä»£ç ã€‚</li></ul></li><li><strong>è¡¨å•éªŒè¯</strong>ï¼š<ul><li>è¡¨å•éªŒè¯æ˜¯ HTML è¡¨å•å…ƒç´ è‡ªå¸¦çš„ä¸€ç§éªŒè¯æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ä¸€äº›å±æ€§æ¥å®šä¹‰éªŒè¯è§„åˆ™ã€‚</li><li>HTML5 æä¾›äº†ä¸€äº›å†…ç½®çš„è¡¨å•éªŒè¯å±æ€§ï¼Œå¦‚ <code>required</code>, <code>min</code>, <code>max</code>, <code>pattern</code> ç­‰ï¼Œå¯ä»¥ç›´æ¥åœ¨ HTML ä¸­ä½¿ç”¨ã€‚</li><li>è¡¨å•éªŒè¯ç›¸å¯¹ç®€å•ï¼Œé€‚ç”¨äºä¸€äº›åŸºæœ¬çš„éªŒè¯éœ€æ±‚ï¼Œå¦‚å¿…å¡«å­—æ®µã€æœ€å°é•¿åº¦ã€æœ€å¤§é•¿åº¦ã€æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ç­‰</li></ul></li></ol><h1 id="this-å…³é”®å­—"><a href="#this-å…³é”®å­—" class="headerlink" title="this å…³é”®å­—"></a>this å…³é”®å­—</h1><p>æˆ‘ç†è§£çš„This è¡¨ç¤ºå¯¹<strong>ä¸Šä¸€çº§å¯¹è±¡</strong>çš„å¼•ç”¨ï¼š</p><ul><li><p>æ–¹æ³•ä½“å†…è¡¨ç¤ºå¯¹è¯¥æ–¹æ³•æ‰€å±çš„å±æ€§çš„å¼•ç”¨</p></li><li><p>å•ç‹¬ä½¿ç”¨ï¼Œå°±æ˜¯å…¨å±€å¯¹è±¡</p></li><li><p>åœ¨å‡½æ•°ä¸­ï¼Œå‡½æ•°çš„æ‰€å±è€…ç»‘å®šé»˜è®¤åˆ°thisä¸Šï¼ˆè¿™é‡Œå’Œåé¢å­¦ä¹ æ™ºèƒ½åˆçº¦æœ‰å…³è”ï¼‰</p></li><li><p>åœ¨ HTML äº‹ä»¶å¥æŸ„ä¸­ï¼Œthis æŒ‡å‘äº†æ¥æ”¶äº‹ä»¶çš„ HTML å…ƒç´ ã€‚</p></li></ul><blockquote><p>æ–¹æ³•æ˜¯ä¸å¯¹è±¡ç›¸å…³è”çš„å‡½æ•°</p></blockquote><p>åœ¨å­¦ä¹ æ•™ç¨‹ä¸­çœ‹åˆ°äº†ä¸€ç¯‡ç¬”è®°ï¼Œå¯ä»¥å¸®åŠ©ç†è§£ï¼š</p><blockquote><p>ç®€å•ç†è§£ï¼ŒthisæŒ‡å‘çš„æ˜¯è¯¥thisæ‰€åœ¨çš„æœ€é‡Œå±‚çš„objectå¯¹è±¡ã€‚</p><p>1ã€å‡½æ•°ä¸æ˜¯objectå¯¹è±¡ï¼Œæ‰€ä»¥æ²¡æœ‰å†™åœ¨objectå¯¹è±¡é‡Œçš„å‡½æ•°è°ƒç”¨thisä¼šæŒ‡å‘window</p><p>2ã€æ„é€ å‡½æ•°æ˜¯objectå¯¹è±¡ï¼Œæ‰€ä»¥åœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨thisä¼šæŒ‡å‘è¯¥æ„é€ å‡½æ•°</p><p>3ã€htmlå…ƒç´ æ˜¯objectå…ƒç´ ï¼Œæ‰€ä»¥åœ¨htmlå…ƒç´ ä¸­è°ƒç”¨thisä¼šæŒ‡å‘è¯¥å…ƒç´ </p><p>4ã€å‡½æ•°1 return å‡½æ•°2ï¼Œå‡½æ•°2 return thisï¼Œè¯¥thisä¼šæŒ‡å‘window</p><p>ä¾‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">let</span> obj = {</span><br><span class="line">   <span class="attr">fun1</span>:<span class="keyword">function</span>(<span class="params"></span>){</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>){</span><br><span class="line">           <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">       }</span><br><span class="line">   },</span><br><span class="line">&gt;};</span><br><span class="line">&gt;<span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">fun1</span>()()); <span class="comment">//window</span></span><br></pre></td></tr></tbody></table></figure></blockquote><h1 id="javascript-void-0-å«ä¹‰"><a href="#javascript-void-0-å«ä¹‰" class="headerlink" title="javascript:void(0) å«ä¹‰"></a>javascript:void(0) å«ä¹‰</h1><p>void åœ¨Cè¯­è¨€ä¸­ä¹Ÿæœ‰æ¶‰åŠï¼Œè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼ã€‚</p><p>åœ¨<strong>javascript:void(0)</strong> ä¸­æœ€å…³é”®çš„æ˜¯ <strong>void</strong> å…³é”®å­—ï¼Œ <strong>void</strong> æ˜¯ JavaScript ä¸­éå¸¸é‡è¦çš„å…³é”®å­—ï¼Œè¯¥æ“ä½œç¬¦æŒ‡å®šè¦è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼ä½†æ˜¯ä¸è¿”å›å€¼</p><h3 id="href-â€-â€ä¸href-â€javascript-void-0-â€çš„åŒºåˆ«"><a href="#href-â€-â€ä¸href-â€javascript-void-0-â€çš„åŒºåˆ«" class="headerlink" title="href=â€#â€ä¸href=â€javascript:void(0)â€çš„åŒºåˆ«"></a>href=â€#â€ä¸href=â€javascript:void(0)â€çš„åŒºåˆ«</h3><ol><li>**href=â€#â€**ï¼š<ul><li>è¿™ä¸ªç”¨æ³•å°†é¡µé¢çš„æ»šåŠ¨ä½ç½®ç§»åŠ¨åˆ°é¡µé¢é¡¶éƒ¨ã€‚å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥æ—¶ï¼Œæµè§ˆå™¨ä¼šå°è¯•æ»šåŠ¨åˆ°é¡µé¢ä¸­ ID ä¸º â€œ#â€ çš„å…ƒç´ ï¼Œè€Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹è¿™ä¸ªå…ƒç´ å¹¶ä¸å­˜åœ¨ï¼Œå› æ­¤é¡µé¢ä¼šå›åˆ°é¡¶éƒ¨ã€‚</li><li>ä½¿ç”¨ <code>href="#"</code> ä¼šè§¦å‘é¡µé¢æ»šåŠ¨ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå¯¼è‡´é¡µé¢è·³è·ƒï¼Œå°¤å…¶æ˜¯åœ¨å•é¡µåº”ç”¨æˆ–å…·æœ‰æ»šåŠ¨æ•ˆæœçš„é¡µé¢ä¸­ã€‚</li></ul></li><li>**href=â€javascript:void(0)â€**ï¼š<ul><li>è¿™ä¸ªç”¨æ³•æ˜¯æ‰§è¡Œä¸€ä¸ª JavaScript è¡¨è¾¾å¼ <code>void(0)</code>ï¼Œå®ƒä¼šè¿”å› undefinedï¼Œä½†ä¸ä¼šå¯¼è‡´é¡µé¢è·³è½¬æˆ–æ»šåŠ¨ã€‚</li><li>ä½¿ç”¨ <code>href="javascript:void(0)"</code> ä¸ä¼šè§¦å‘é¡µé¢æ»šåŠ¨ï¼Œå› æ­¤ä¸ä¼šå¯¼è‡´é¡µé¢è·³è·ƒ</li></ul></li></ol><h2 id="promiseå’Œå¼‚æ­¥ç¼–ç¨‹"><a href="#promiseå’Œå¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="promiseå’Œå¼‚æ­¥ç¼–ç¨‹"></a>promiseå’Œå¼‚æ­¥ç¼–ç¨‹</h2><p>**å¼‚æ­¥ç¼–ç¨‹ ** é€šä¿—æ¥è®²å°±æ˜¯ï¼Œä¸æŒ‰ç…§é¡ºåºæ‰§è¡Œ</p><blockquote><p>Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰ã€rejectedï¼ˆå·²å¤±è´¥</p></blockquote><p><strong>Promise æ„é€ å‡½æ•°</strong>è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p><ul><li>thenï¼šç”¨äºå¤„ç† Promise æˆåŠŸçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚</li><li>catchï¼šç”¨äºå¤„ç† Promise å¤±è´¥çŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚</li><li>finallyï¼šæ— è®º Promise æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½ä¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚</li></ul><p>æ„Ÿè§‰å¤§éƒ¨åˆ†å­¦ä¹ åŸºäºä»£ç ä¼šæ¯”è¾ƒæ¸…æ¥šï¼š</p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1111</span>);</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">2222</span>);</span><br><span class="line">}).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">value</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3333</span>;</span><br><span class="line">}).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">value</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">"An error"</span>;</span><br><span class="line">}).<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure><h2 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h2><p>åœ¨ JavaScript ä¸­, å‡½æ•°æ˜¯å¯¹è±¡ã€‚JavaScript å‡½æ•°æœ‰å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚</p><p><strong>call()</strong> å’Œ <strong>apply()</strong> æ˜¯é¢„å®šä¹‰çš„å‡½æ•°æ–¹æ³•ã€‚ ä¸¤ä¸ªæ–¹æ³•å¯ç”¨äºè°ƒç”¨å‡½æ•°ï¼Œä¸¤ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯å¯¹è±¡æœ¬èº«</p><h3 id="call-ä¸apply-çš„ä¸åŒ"><a href="#call-ä¸apply-çš„ä¸åŒ" class="headerlink" title="call()ä¸apply()çš„ä¸åŒ"></a>call()ä¸apply()çš„ä¸åŒ</h3><p>apply()çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œcall()æ˜¯ä½œä¸ºå‚æ•°ï¼ˆä»ç¬¬äºŒä¸ªèµ·ï¼‰å•ç‹¬ä¼ å…¥ã€‚</p><h2 id="å£°æ˜ï¼š"><a href="#å£°æ˜ï¼š" class="headerlink" title="å£°æ˜ï¼š"></a>å£°æ˜ï¼š</h2><p>æœ‰å…³javascriptçš„åˆæ­¥å­¦ä¹ å°±åˆ°è¿™é‡Œäº†ï¼Œåé¢ä¸»è¦é€šè¿‡ä¸€äº›æ¯”è¾ƒå°çš„é¡¹ç›®æ¥è¿›ä¸€æ­¥ç†è§£å’Œæ·±åŒ–å­¦ä¹ ï¼</p><p>è¿›é˜¶çš„è¡¥å……ä¼šç»§ç»­æ›´æ–°åšå®¢ï¼Œè¯·æœŸå¾…ä¸€ä¸‹ï¼</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
